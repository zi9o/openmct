!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("es6-promise",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){H=e}function i(e){G=e}function r(){return function(){return process.nextTick(l)}}function o(){return function(){B(l)}}function s(){var e=0,t=new K(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function a(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}function c(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;q>e;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}q=0}function u(){try{var e=require,t=e("vertx");return B=t.runOnLoop||t.runOnContext,o()}catch(n){return c()}}function d(e,t){var n=arguments,i=this,r=new this.constructor(f);void 0===r[te]&&L(r);var o=i._state;return o?!function(){var e=n[o-1];G(function(){return I(o,r,e,i._result)})}():x(i,r,e,t),r}function p(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return S(n,e),n}function f(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(t){return oe.error=t,oe}}function y(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function v(e,t,n){G(function(e){var i=!1,r=y(n,t,function(n){i||(i=!0,t!==n?S(e,n):C(e,n))},function(t){i||(i=!0,O(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,O(e,r))},e)}function b(e,t){t._state===ie?C(e,t._result):t._state===re?O(e,t._result):x(t,void 0,function(t){return S(e,t)},function(t){return O(e,t)})}function w(e,n,i){n.constructor===e.constructor&&i===d&&n.constructor.resolve===p?b(e,n):i===oe?O(e,oe.error):void 0===i?C(e,n):t(i)?v(e,n,i):C(e,n)}function S(t,n){t===n?O(t,h()):e(n)?w(t,n,g(n)):C(t,n)}function $(e){e._onerror&&e._onerror(e._result),T(e)}function C(e,t){e._state===ne&&(e._result=t,e._state=ie,0!==e._subscribers.length&&G(T,e))}function O(e,t){e._state===ne&&(e._state=re,e._result=t,G($,e))}function x(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+ie]=n,r[o+re]=i,0===o&&e._state&&G(T,e)}function T(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?I(n,i,r,o):r(o);e._subscribers.length=0}}function k(){this.error=null}function A(e,t){try{return e(t)}catch(n){return se.error=n,se}}function I(e,n,i,r){var o=t(i),s=void 0,a=void 0,c=void 0,l=void 0;if(o){if(s=A(i,r),s===se?(l=!0,a=s.error,s=null):c=!0,n===s)return void O(n,m())}else s=r,c=!0;n._state!==ne||(o&&c?S(n,s):l?O(n,a):e===ie?C(n,s):e===re&&O(n,s))}function M(e,t){try{t(function(t){S(e,t)},function(t){O(e,t)})}catch(n){O(e,n)}}function E(){return ae++}function L(e){e[te]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function N(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[te]||L(this.promise),Y(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):O(this.promise,j())}function j(){return new Error("Array Methods must be provided an Array")}function D(e){return new N(this,e).promise}function R(e){var t=this;return new t(Y(e)?function(n,i){for(var r=e.length,o=0;r>o;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function P(e){var t=this,n=new t(f);return O(n,e),n}function _(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(e){this[te]=E(),this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&_(),this instanceof W?M(this,e):U())}function F(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}e.Promise=W}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y=V,q=0,B=void 0,H=void 0,G=function(e,t){Q[q]=e,Q[q+1]=t,q+=2,2===q&&(H?H(l):ee())},z="undefined"!=typeof window?window:void 0,Z=z||{},K=Z.MutationObserver||Z.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),ee=void 0;ee=X?r():K?s():J?a():void 0===z&&"function"==typeof require?u():c();var te=Math.random().toString(36).substring(16),ne=void 0,ie=1,re=2,oe=new k,se=new k,ae=0;return N.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ne&&e>n;n++)this._eachEntry(t[n],n)},N.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===p){var r=g(e);if(r===d&&e._state!==ne)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===W){var o=new n(f);w(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},N.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ne&&(this._remaining--,e===re?O(i,n):this._result[t]=n),0===this._remaining&&C(i,this._result)},N.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(ie,t,e)},function(e){return n._settledAt(re,t,e)})},W.all=D,W.race=R,W.resolve=p,W.reject=P,W._setScheduler=n,W._setAsap=i,W._asap=G,W.prototype={constructor:W,then:d,"catch":function(e){return this.then(null,e)}},F(),W.polyfill=F,W.Promise=W,W}),define("platform/framework/src/Constants",{MODULE_NAME:"OpenMCTWeb",BUNDLE_LISTING_FILE:"bundles.json",BUNDLE_FILE:"bundle.json",SEPARATOR:"/",EXTENSION_SUFFIX:"[]",DEFAULT_BUNDLE:{sources:"src",resources:"res",libraries:"lib",tests:"test",configuration:{},extensions:{}},PRIORITY_LEVELS:{fallback:Number.NEGATIVE_INFINITY,"default":-100,none:0,optional:100,preferred:1e3,mandatory:Number.POSITIVE_INFINITY},DEFAULT_PRIORITY:0}),define("platform/framework/src/FrameworkInitializer",[],function(){"use strict";function e(e,t,n,i){this.loader=e,this.resolver=t,this.registrar=n,this.bootstrapper=i}function t(e,t){return function(){return e.apply(t,arguments)}}return e.prototype.runApplication=function(e){return this.loader.loadBundles(e).then(t(this.resolver.resolveBundles,this.resolver)).then(t(this.registrar.registerExtensions,this.registrar)).then(t(this.bootstrapper.bootstrap,this.bootstrapper))},e}),define("platform/framework/src/LogLevel",[],function(){"use strict";function e(){}function t(e){this.index=n.indexOf(e),this.index<0&&(this.index=1)}var n=["error","warn","info","log","debug"];return t.prototype.configure=function(t,i){function r(t){n.forEach(function(n,i){i>o&&(t[n]=e)})}var o=this.index;r(i),t.decorator("$log",["$delegate",function(e){return r(e),e}])},t}),define("platform/framework/src/load/Extension",[],function(){"use strict";function e(e,t,n){var i=t,r={};(n.key||n.name)&&(i+="(",i+=n.key||"",i+=n.key&&n.name?" ":"",i+=n.name||"",i+=")"),i+=" from "+e.getLogName(),Object.keys(n).forEach(function(e){r[e]=n[e]}),r.bundle=e.getDefinition(),this.logName=i,this.bundle=e,this.category=t,this.definition=n,this.extensionDefinition=r}return e.prototype.getKey=function(){return this.definition.key||"undefined"},e.prototype.getBundle=function(){return this.bundle},e.prototype.getCategory=function(){return this.category},e.prototype.hasImplementation=function(){return void 0!==this.definition.implementation},e.prototype.getImplementationPath=function(){return this.hasImplementation()&&!this.hasImplementationValue()?this.bundle.getSourcePath(this.definition.implementation):void 0},e.prototype.getImplementationValue=function(){return"function"==typeof this.definition.implementation?this.definition.implementation:void 0},e.prototype.hasImplementationValue=function(){return"function"==typeof this.definition.implementation},e.prototype.getLogName=function(){return this.logName},e.prototype.getDefinition=function(){return this.extensionDefinition},e}),define("platform/framework/src/load/Bundle",["../Constants","./Extension"],function(e,t){"use strict";function n(t,n){var i=Object.create(e.DEFAULT_BUNDLE),r=t;Object.keys(n).forEach(function(e){i[e]=n[e]}),i.path=t,(i.key||i.name)&&(r+="(",r+=i.key||"",r+=i.key&&i.name?" ":"",r+=i.name||"",r+=")"),this.path=t,this.definition=i,this.logName=r}return n.prototype.resolvePath=function(t){var n=this.path;return[n].concat(t||[]).join(e.SEPARATOR)},n.prototype.getPath=function(){return this.path},n.prototype.getSourcePath=function(e){var t=e?[this.definition.sources,e]:[this.definition.sources];return this.resolvePath(t)},n.prototype.getResourcePath=function(e){var t=e?[this.definition.resources,e]:[this.definition.resources];return this.resolvePath(t)},n.prototype.getLibraryPath=function(e){var t=e?[this.definition.libraries,e]:[this.definition.libraries];return this.resolvePath(t)},n.prototype.getConfiguration=function(){return this.definition.configuration||{}},n.prototype.getLogName=function(){return this.logName},n.prototype.getExtensions=function(e){var n=this.definition.extensions[e]||[],i=this;return n.map(function(n){return new t(i,e,n)})},n.prototype.getExtensionCategories=function(){return Object.keys(this.definition.extensions)},n.prototype.getDefinition=function(){return this.definition},n}),define("platform/framework/src/load/BundleLoader",["../Constants","./Bundle"],function(e,t){"use strict";function n(e,t,n){this.$http=e,this.$log=t,this.legacyRegistry=n}var i="Malformed loadBundles argument; expected string or array",r="Invalid bundle contents for ",o="Failed to load bundle ";return n.prototype.loadBundles=function(n){function s(e){return f.get(e).then(function(e){return e.data})}function a(e){return e.filter(function(e){return void 0!==e})}function c(t){return s(t+"/"+e.BUNDLE_FILE).then(function(e){return null===e||"object"!=typeof e?void h.warn(r+t):e},function(){h.warn(o+t)})}function l(e){return m.contains(e)?Promise.resolve(new t(e,m.get(e))):c(e).then(function(n){return n&&new t(e,n)})}function u(e,t,n){return n.indexOf(e)===t}function d(e){var t=m.list().concat(e).filter(u).map(l);return Promise.all(t).then(a)}function p(e){function t(t){return h.info(["No external bundles loaded;","could not load bundle listing in",e,"due to error",t.status,t.statusText].join(" ")),d([])}return s(e).then(d,t)}var f=this.$http,h=this.$log,m=this.legacyRegistry;return Array.isArray(n)?d(n):"string"==typeof n?p(n):Promise.reject(new Error(i))},n}),define("platform/framework/src/resolve/ImplementationLoader",[],function(){"use strict";function e(e){this.require=e}return e.prototype.load=function(e){var t=this.require;return new Promise(function(n,i){t([e],n,i)})},e}),define("platform/framework/src/resolve/ExtensionResolver",[],function(){"use strict";function e(e,t){this.loader=e,this.$log=t}return e.prototype.resolve=function(e){function t(e){function t(e){function t(){return e.apply(this,arguments)}return t.prototype=e.prototype,t}function r(n){var r="function"==typeof n?t(n):Object.create(n);return Object.keys(n).forEach(function(e){r[e]=n[e]}),Object.keys(a).forEach(function(e){void 0===r[e]&&(r[e]=a[e])}),r.definition=a,i.info("Resolved "+e.getLogName()),r}function o(t){var n=["Could not load implementation for extension ",e.getLogName()," due to ",t.message].join("");return i.warn(n),e.getDefinition()}var s=e.hasImplementationValue()?Promise.resolve(e.getImplementationValue()):n.load(e.getImplementationPath()),a=e.getDefinition();return e.hasImplementationValue()||i.info(["Loading implementation ",e.getImplementationPath()," for extension ",e.getLogName()].join("")),s.then(r,o)}var n=this.loader,i=this.$log;return i.info(["Resolving extension ",e.getLogName()].join("")),e.hasImplementation()?t(e):Promise.resolve(e.getDefinition())},e}),define("platform/framework/src/resolve/BundleResolver",[],function(){"use strict";function e(e,t,n){this.extensionResolver=e,this.requireConfigurator=t,this.$log=n}return e.prototype.resolveBundles=function(e){function t(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=(t[n]||[]).concat(e[n])})}),t}function n(e){function t(e){function t(e){a[n].push(e)}var n=e.getCategory();return i.resolve(e).then(t)}function n(n){return a[n]=[],Promise.all(e.getExtensions(n).map(t))}function r(){return a}var s=e.getExtensionCategories(),a={};return o.info("Resolving extensions for bundle "+e.getLogName()),Promise.all(s.map(n)).then(r)}var i=this.extensionResolver,r=this.requireConfigurator,o=this.$log;return r.configure(e),Promise.all(e.map(n)).then(t)},e}),define("platform/framework/src/resolve/RequireConfigurator",[],function(){"use strict";function e(e){this.requirejs=e}function t(e){return JSON.parse(JSON.stringify(e))}function n(e){var n=e.getConfiguration();return n.paths&&(n=t(n),Object.keys(n.paths).forEach(function(t){n.paths[t]=e.getLibraryPath(n.paths[t])})),n}function i(e,t){return["paths","shim"].forEach(function(n){Object.keys(t[n]||{}).forEach(function(i){e[n][i]=t[n][i]})}),e}function r(e){var t={baseUrl:"",paths:{},shim:{}},r=e.map(n);return r.reduce(i,t)}return e.prototype.configure=function(e){return this.requirejs.config(r(e))},e}),define("platform/framework/src/register/ServiceCompositor",[],function(){"use strict";function e(e,t){this.latest={},this.providerLists={},this.app=e,this.$log=t}return e.prototype.registerCompositeServices=function(e){function t(e,t,n){var i=n||"No service provided by";m.warn([i," ",t," ",e.key," from bundle ",(e.bundle||{path:"unknown bundle"}).path,"; skipping."].join(""))}function n(){return Array.prototype.slice.call(arguments)}function i(e){return e}function r(e){return function(t){return t.type===e}}function o(e,t,n){return[t,"[",e,"#",n,"]"].join("")}function s(e,n){var i=e.provides,r=e.depends||[],s=o("provider",i,n);return i?(f[i]=f[i]||[],f[i].push(s),p[i]=s,void h.service(s,r.concat([e]))):t(e,"provider")}function a(){Object.keys(f).forEach(function(e){var t=o("provider",e,"*"),i=f[e];h.service(t,i.concat([n]))})}function c(e,n){var i=e.provides,r=e.depends||[],s=o("provider",i,"*"),a=o("aggregator",i,n);return i?p[i]?(r=r.concat([s]),p[i]=a,void h.service(a,r.concat([e]))):t(e,"aggregator","No services to aggregate for"):t(e,"aggregator")}function l(e,n){var i=e.provides,r=e.depends||[],s=o("decorator",i,n);return i?p[i]?(r=r.concat([p[i]]),p[i]=s,void h.service(s,r.concat([e]))):t(e,"decorator","No services to decorate for"):t(e,"decorator")}function u(){Object.keys(p).forEach(function(e){h.service(e,[p[e],i])})}function d(e,t,n){e.forEach(s),a(),t.forEach(c),n.forEach(l),u()}var p=this.latest,f=this.providerLists,h=this.app,m=this.$log;d(e.filter(r("provider")),e.filter(r("aggregator")),e.filter(r("decorator")))},e}),define("platform/framework/src/register/CustomRegistrars",["../Constants","./ServiceCompositor"],function(e,t){"use strict";function n(e,t){this.app=e,this.$log=t,this.registered={}}function i(e,t){return function(){return e.apply(t,arguments)}}function r(e){return function(t,n){var i=this.app,r=this.$log,o=t.key,s=t.depends||[],a=this.registered[e]||{};this.registered[e]=a,o?a[o]?r.debug(["Already registered ",e," with key ",o,"; skipping."].join("")):(r.info(["Registering ",e,": ",o].join("")),a[o]=!0,i[e](o,s.concat([t]))):r.warn(["Cannot register ",e," ",n,", no key specified. ",JSON.stringify(t)].join(""))}}function o(e){var t=this.app,n=this.$log,i=e.key,r=e.value;"string"==typeof i&&void 0!==r?(n.info(["Registering constant: ",i," with value ",r].join("")),t.constant(i,r)):n.warn(["Cannot register constant ",i," with value ",r].join(""))}function s(e){var t=this.app,n=this.$log;"function"==typeof e?t.run((e.depends||[]).concat([e])):n.warn(["Cannot register run extension from ",(e.bundle||{}).path,"; no implementation."].join(""))}function a(t){var n=this.app,i=this.$log,r=Object.create(t);r.templateUrl&&(r.templateUrl=[r.bundle.path,r.bundle.resources,r.templateUrl].join(e.SEPARATOR)),i.info("Registering route: "+(r.key||r.when)),n.config(["$routeProvider",function(e){r.when?e.when(r.when,r):e.otherwise(r)}])}function c(e){var n=this.app,i=this.$log;return new t(n,i).registerCompositeServices(e)}function l(e){return function(t){return t.map(i(e,this))}}return n.prototype.constants=l(o),n.prototype.routes=l(a),n.prototype.directives=l(r("directive")),n.prototype.controllers=l(r("controller")),n.prototype.services=l(r("service")),n.prototype.filters=l(r("filter")),n.prototype.runs=l(s),n.prototype.components=c,n}),define("platform/framework/src/register/PartialConstructor",[],function(){"use strict";function e(e){function t(){function t(){var t=Array.prototype.slice.call(arguments),i=Object.create(e.prototype);return i=e.apply(i,n.concat(t))||i}var n=Array.prototype.slice.call(arguments);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}return t}return e}),define("platform/framework/src/register/ExtensionRegistrar",["../Constants","./PartialConstructor"],function(e,t){"use strict";function n(e,t,n,i){this.registeredCategories={},this.customRegistrars=t||{},this.app=e,this.sorter=n,this.$log=i}return n.prototype.registerExtensions=function(n){function i(e,t,n){var i=t.key?"extension-"+t.key+"#"+n:"extension#"+n;return e+"["+i+"]"}function r(){return Array.prototype.slice.call(arguments)}function o(e){return function(){return e}}function s(e,n){var i=n.depends||[],r="function"==typeof n?new t(n):o(n);return i.concat([r])}function a(t,n){var i=t+e.EXTENSION_SUFFIX;h.factory(i,n.concat([r]))}function c(e,t){function n(t,n){var o=i(e,t,n);r.push(o),h.factory(o,s(e,t))}var r=[];return p[e]?void g.warn(["Tried to register extensions for category ",e," more than once. Ignoring all but first set."].join("")):(f[e]?f[e](t):(t.forEach(n),a(e,r)),p[e]=!0,!0)}function l(t){var n=t.indexOf(e.EXTENSION_SUFFIX,t.length-e.EXTENSION_SUFFIX.length);return-1!==n}function u(t){var n={},i=Object.keys(t),r=[];return i.forEach(function(e){r=r.concat(t[e])}),r.forEach(function(e){(e.depends||[]).filter(l).forEach(function(e){n[e]=!0})}),i.forEach(function(t){var i=t+e.EXTENSION_SUFFIX;delete n[i]}),Object.keys(n)}function d(e){u(e).forEach(function(e){g.info("Registering empty extension category "+e),h.factory(e,[o([])])})}var p=this.registeredCategories,f=this.customRegistrars,h=this.app,m=this.sorter,g=this.$log;return g.info("Registering extensions..."),Object.keys(n).forEach(function(e){c(e,m.sort(n[e]))}),d(n),h},n}),define("platform/framework/src/register/ExtensionSorter",["../Constants"],function(e){"use strict";function t(e){this.$log=e}return t.prototype.sort=function(t){function n(t){return a.warn(["Unrecognized priority '",(t||{}).priority,"' specified for extension from ",((t||{}).bundle||{}).path,"; defaulting to ",e.DEFAULT_PRIORITY].join("")),e.DEFAULT_PRIORITY}function i(t){var i=(t||{}).priority||e.DEFAULT_PRIORITY;return"string"==typeof i&&(i=e.PRIORITY_LEVELS[i]),"number"==typeof i?i:n(t)}function r(e,t){return{extension:e,index:t,priority:i(e)}}function o(e){return e.extension}function s(e,t){return t.priority-e.priority||e.index-t.index}var a=this.$log;return(t||[]).map(r).sort(s).map(o)},t}),define("platform/framework/src/bootstrap/ApplicationBootstrapper",[],function(){"use strict";function e(e,t,n){this.angular=e,this.document=t,this.$log=n}return e.prototype.bootstrap=function(e){var t=this.angular,n=this.document,i=this.$log;i.info("Bootstrapping application "+(e||{}).name),t.element(n).ready(function(){t.bootstrap(n,[e.name],{strictDi:!0})})},e}),define("platform/framework/src/FrameworkLayer",["require","./Constants","./FrameworkInitializer","./LogLevel","./load/BundleLoader","./resolve/ImplementationLoader","./resolve/ExtensionResolver","./resolve/BundleResolver","./resolve/RequireConfigurator","./register/CustomRegistrars","./register/ExtensionRegistrar","./register/ExtensionSorter","./bootstrap/ApplicationBootstrapper"],function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";function f(e,t){this.$http=e,this.$log=t}return f.prototype.initializeApplication=function(f,h,m){var g=this.$http,y=this.$log,v=f.module(t.MODULE_NAME,["ngRoute"]),b=new r(g,y,h),w=new a(new s(new o(e),y),new c(requirejs),y),S=new u(v,new l(v,y),new d(y),y),$=new p(f,window.document,y),C=new n(b,w,S,$);new i(m).configure(v,y),y.info("Initializing application."),C.runApplication(t.BUNDLE_LISTING_FILE)},f}),function(e){define("angular",[],function(){return function(){return function(e,t,n){"use strict";function i(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.4.4/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=r(i)}return Error(t)}}function r(e){if(null==e||A(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===ci&&t?!0:C(e)||Qn(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i,s;if(e)if(T(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(Qn(e)||r(e)){var a="object"!=typeof e;for(i=0,s=e.length;s>i;i++)(a||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if($(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)Vn.call(e,i)&&t.call(n,e[i],i,e);return e}function s(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function a(e){return function(t,n){e(n,t)}}function c(){return++Xn}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;o>r;++r){var s=t[r];if(S(s)||T(s))for(var a=Object.keys(s),c=0,d=a.length;d>c;c++){var p=a[c],f=s[p];n&&S(f)?x(f)?e[p]=new Date(f.valueOf()):k(f)?e[p]=new RegExp(f):(S(e[p])||(e[p]=Qn(f)?[]:{}),u(e[p],[f],!0)):e[p]=f}}return l(e,i),e}function d(e){return u(e,qn.call(arguments,1),!1)}function p(e){return u(e,qn.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function y(e){return function(){return e}}function v(e){return T(e.toString)&&e.toString!==Object.prototype.toString}function b(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function S(e){return null!==e&&"object"==typeof e}function $(e){return null!==e&&"object"==typeof e&&!zn(e)}function C(e){return"string"==typeof e}function O(e){return"number"==typeof e}function x(e){return"[object Date]"===Gn.call(e)}function T(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Gn.call(e)}function A(e){return e&&e.window===e}function I(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"boolean"==typeof e}function E(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function L(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function N(e){return Fn(e.nodeName||e[0]&&e[0].nodeName)}function j(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function D(e,t,n,i){if(A(e)||I(e))throw Zn("cpws");if(ei.test(Gn.call(t)))throw Zn("cpta");if(t){if(e===t)throw Zn("cpi");n=n||[],i=i||[],S(e)&&(n.push(e),i.push(t));var r;if(Qn(e))for(r=t.length=0;r<e.length;r++)t.push(D(e[r],null,n,i));else{var s=t.$$hashKey;if(Qn(t)?t.length=0:o(t,function(e,n){delete t[n]}),$(e))for(r in e)t[r]=D(e[r],null,n,i);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=D(e[r],null,n,i));else for(r in e)Vn.call(e,r)&&(t[r]=D(e[r],null,n,i));l(t,s)}}else if(t=e,S(e)){if(n&&-1!==(s=n.indexOf(e)))return i[s];if(Qn(e))return D(e,[],n,i);if(ei.test(Gn.call(e)))t=new e.constructor(e);else if(x(e))t=new Date(e.getTime());else{if(!k(e))return r=Object.create(zn(e)),D(e,r,n,i);t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}i&&(n.push(e),i.push(t))}return t}function R(e,t){if(Qn(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(S(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function P(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r=typeof e;if(r==typeof t&&"object"==r){if(!Qn(e)){if(x(e))return x(t)?P(e.getTime(),t.getTime()):!1;if(k(e))return k(t)?e.toString()==t.toString():!1;if(I(e)||I(t)||A(e)||A(t)||Qn(t)||x(t)||k(t))return!1;r=le();for(i in e)if("$"!==i.charAt(0)&&!T(e[i])){if(!P(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r||"$"===i.charAt(0)||t[i]===n||T(t[i])))return!1;return!0}if(!Qn(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!P(e[i],t[i]))return!1;return!0}}return!1}function _(e,t,n){return e.concat(qn.call(t,n))}function U(e,t){var n=2<arguments.length?qn.call(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,_(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:A(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":I(i)&&(r="$SCOPE"),r}function F(e,t){return"undefined"==typeof e?n:(O(t)||(t=t?2:null),JSON.stringify(e,W,t))}function V(e){return C(e)?JSON.parse(e):e}function Y(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function q(e,t,n){n=n?-1:1;var i=Y(t,e.getTimezoneOffset());return t=e,e=n*(i-e.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function B(e){e=Pn(e).clone();try{e.empty()}catch(t){}var n=Pn("<div>").append(e).html();try{return e[0].nodeType===li?Fn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Fn(t)})}catch(i){return Fn(n)}}function H(e){try{return decodeURIComponent(e)}catch(t){}}function G(e){var t={};return o((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=H(i),w(i)&&(r=w(r)?H(r):!0,Vn.call(t,i)?Qn(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function z(e){var t=[];return o(e,function(e,n){Qn(e)?o(e,function(e){t.push(K(n,!0)+(!0===e?"":"="+K(e,!0)))}):t.push(K(n,!0)+(!0===e?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function Z(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function X(e,t){var n,i,r=oi.length;for(i=0;r>i;++i)if(n=oi[i]+t,C(n=e.getAttribute(n)))return n;return null}function J(e,t){var n,i,r={};o(oi,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),o(oi,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(r.strictDi=null!==X(n,"strict-di"),t(n,i?[i]:[],r))}function Q(n,i,r){S(r)||(r={}),r=d({strictDi:!1},r);var s=function(){if(n=Pn(n),n.injector()){var e=n[0]===t?"document":B(n);throw Zn("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),e=_e(i,r.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},a=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!c.test(e.name)?s():(e.name=e.name.replace(c,""),Kn.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),s()},void(T(Kn.resumeDeferredBootstrap)&&Kn.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=Kn.element(e).injector(),!e)throw Zn("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(si,function(e,n){return(n?t:"")+e.toLowerCase()})}function ie(){var t;if(!ai){var i=ri();_n=e.jQuery,w(i)&&(_n=null===i?n:e[i]),_n&&_n.fn.on?(Pn=_n,d(_n.fn,{scope:$i.scope,isolateScope:$i.isolateScope,controller:$i.controller,injector:$i.injector,inheritedData:$i.inheritedData}),t=_n.cleanData,_n.cleanData=function(e){var n;if(Jn)Jn=!1;else for(var i,r=0;null!=(i=e[r]);r++)(n=_n._data(i,"events"))&&n.$destroy&&_n(i).triggerHandler("$destroy");t(e)}):Pn=me,Kn.element=Pn,ai=!0}}function re(e,t,n){if(!e)throw Zn("areq",t||"?",n||"required");return e}function oe(e,t,n){return n&&Qn(e)&&(e=e[e.length-1]),re(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function se(e,t){if("hasOwnProperty"===e)throw Zn("badname",t)}function ae(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,o=t.length,s=0;o>s;s++)i=t[s],e&&(e=(r=e)[i]);return!n&&T(e)?U(r,e):e}function ce(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return Pn(n)}function le(){return Object.create(null)}function ue(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,o,s){if("hasOwnProperty"===i)throw r("badname","module");return o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,o){return o&&T(o)&&(o.$$moduleName=i),r.push([e,t,arguments]),u}}if(!o)throw n("nomod",i);var r=[],a=[],c=[],l=e("$injector","invoke","push",a),u={_invokeQueue:r,_configBlocks:a,_runBlocks:c,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return c.push(e),this}};return s&&l(s),u})}})}function de(t){d(t,{bootstrap:Q,copy:D,extend:d,merge:p,equals:P,element:Pn,forEach:o,injector:_e,noop:m,bind:U,toJson:F,fromJson:V,identity:g,isUndefined:b,isDefined:w,isString:C,isFunction:T,isObject:S,isNumber:O,isElement:E,isArray:Qn,version:ui,isDate:x,lowercase:Fn,uppercase:Yn,callbacks:{counter:0},getTestability:te,$$minErr:i,$$csp:ii,reloadWithDebugInfo:ee}),(Un=ue(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Ht}),e.provider("$compile",Ge).directive({a:wr,input:Rr,textarea:Rr,form:Or,script:xo,select:Ao,style:Mo,option:Io,ngBind:Ur,ngBindHtml:Fr,ngBindTemplate:Wr,ngClass:Yr,ngClassEven:Br,ngClassOdd:qr,ngCloak:Hr,ngController:Gr,ngForm:xr,ngHide:bo,ngIf:Kr,ngInclude:Xr,ngInit:Qr,ngNonBindable:po,ngPluralize:go,ngRepeat:yo,ngShow:vo,ngStyle:wo,ngSwitch:So,ngSwitchWhen:$o,ngSwitchDefault:Co,ngOptions:mo,ngTransclude:Oo,ngModel:co,ngList:eo,ngChange:Vr,pattern:Lo,ngPattern:Lo,required:Eo,ngRequired:Eo,minlength:jo,ngMinlength:jo,maxlength:No,ngMaxlength:No,
ngValue:_r,ngModelOptions:uo}).directive({ngInclude:Jr}).directive(Sr).directive(zr),e.provider({$anchorScroll:Ue,$animate:Di,$animateCss:Ri,$$animateQueue:ji,$$AnimateRunner:Ni,$browser:qe,$cacheFactory:Be,$controller:Xe,$document:Je,$exceptionHandler:Qe,$filter:an,$$forceReflow:Fi,$interpolate:dt,$interval:pt,$http:at,$httpParamSerializer:tt,$httpParamSerializerJQLike:nt,$httpBackend:lt,$location:Ot,$log:xt,$parse:Wt,$rootScope:Bt,$q:Ft,$$q:Vt,$sce:Kt,$sceDelegate:Zt,$sniffer:Xt,$templateCache:He,$templateRequest:Jt,$$testability:Qt,$timeout:en,$window:rn,$$rAF:qt,$$jqLite:je,$$HashMap:Ti,$$cookieReader:sn})}])}function pe(e){return e.replace(fi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(hi,"Moz$1")}function fe(e){return e=e.nodeType,e===ci||!e||9===e}function he(e,t){var n,i,r=t.createDocumentFragment(),s=[];if(vi.test(e)){for(n=n||r.appendChild(t.createElement("div")),i=(bi.exec(e)||["",""])[1].toLowerCase(),i=Si[i]||Si._default,n.innerHTML=i[1]+e.replace(wi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=_(s,n.childNodes),n=r.firstChild,n.textContent=""}else s.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",o(s,function(e){r.appendChild(e)}),r}function me(e){if(e instanceof me)return e;var n;if(C(e)&&(e=ti(e),n=!0),!(this instanceof me)){if(n&&"<"!=e.charAt(0))throw gi("nosel");return new me(e)}if(n){n=t;var i;e=(i=yi.exec(e))?[n.createElement(i[1])]:(i=he(e,n))?i.childNodes:[]}xe(this,e)}function ge(e){return e.cloneNode(!0)}function ye(e,t){if(t||be(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)be(n[i])}function ve(e,t,n,i){if(w(i))throw gi("offargs");var r=(i=we(e))&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(w(n)){var i=r[t];if(j(i||[],n),i&&0<i.length)return}e.removeEventListener(t,s,!1),delete r[t]});else for(t in r)"$destroy"!==t&&e.removeEventListener(t,s,!1),delete r[t]}function be(e,t){var i=e.ng339,r=i&&di[i];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ve(e)),delete di[i],e.ng339=n))}function we(e,t){var i=e.ng339,i=i&&di[i];return t&&!i&&(e.ng339=i=++pi,i=di[i]={events:{},data:{},handle:n}),i}function Se(e,t,n){if(fe(e)){var i=w(n),r=!i&&t&&!S(t),o=!t;if(e=(e=we(e,!r))&&e.data,i)e[t]=n;else{if(o)return e;if(r)return e&&e[t];d(e,t)}}}function $e(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function Ce(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",ti((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ti(t)+" "," ")))})}function Oe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=ti(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ti(n))}}function xe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Te(e,t){return ke(e,"$"+(t||"ngController")+"Controller")}function ke(e,t,i){for(9==e.nodeType&&(e=e.documentElement),t=Qn(t)?t:[t];e;){for(var r=0,o=t.length;o>r;r++)if((i=Pn.data(e,t[r]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function Ae(e){for(ye(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ie(e,t){t||ye(e);var n=e.parentNode;n&&n.removeChild(e)}function Me(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Pn(n).on("load",t)}function Ee(e,t){var n=Ci[t.toLowerCase()];return n&&Oi[N(e)]&&n}function Le(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&xi[t]}function Ne(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},o>1&&(r=R(r));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||r[a].call(e,n)}};return n.elem=e,n}function je(){this.$get=function(){return d(me,{hasClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Oe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)}})}}function De(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||c)():n+":"+e)}function Re(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Pe(e){return(e=e.toString().replace(Mi,"").match(ki))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function _e(e,t){function i(e){return function(t,n){return S(t)?void o(t,a(e)):e(t,n)}}function r(e,t){if(se(e,"service"),(T(t)||Qn(t))&&(t=m.instantiate(t)),!t.$get)throw Ei("pget",e);return h[e+"Provider"]=t}function s(e,t){return function(){var n=v.invoke(t,this);if(b(n))throw Ei("undef",e);return n}}function c(e,t,n){return r(e,{$get:!1!==n?s(e,t):t})}function l(e){re(b(e)||Qn(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=m.get(i[0]);r[i[1]].apply(r,i[2])}}if(!f.get(e)){f.put(e,!0);try{C(e)?(t=Un(e),n=n.concat(l(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):T(e)?n.push(m.invoke(e)):Qn(e)?n.push(m.invoke(e)):oe(e,"module")}catch(r){throw Qn(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ei("modulerr",e,r.stack||r.message||r)}}}),n}function u(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw Ei("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,i)}catch(r){throw e[t]===d&&delete e[t],r}finally{p.shift()}}function r(e,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,c,l=[],u=_e.$$annotate(e,t,o);for(a=0,s=u.length;s>a;a++){if(c=u[a],"string"!=typeof c)throw Ei("itkn",c);l.push(r&&r.hasOwnProperty(c)?r[c]:i(c,o))}return Qn(e)&&(e=e[s]),e.apply(n,l)}return{invoke:r,instantiate:function(e,t,n){var i=Object.create((Qn(e)?e[e.length-1]:e).prototype||null);return e=r(e,i,t,n),S(e)||T(e)?e:i},get:i,annotate:_e.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],f=new Re([],!0),h={$provide:{provider:i(r),factory:i(c),service:i(function(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return c(e,y(t),!1)}),constant:i(function(e,t){se(e,"constant"),h[e]=t,g[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),i=n.$get;n.$get=function(){var e=v.invoke(i,n);return v.invoke(t,null,{$delegate:e})}}}},m=h.$injector=u(h,function(e,t){throw Kn.isString(t)&&p.push(t),Ei("unpr",p.join(" <- "))}),g={},v=g.$injector=u(g,function(e,t){var i=m.get(e+"Provider",t);return v.invoke(i.$get,i,n,e)});return o(l(e),function(e){e&&v.invoke(e)}),v}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===N(e)?(t=e,!0):void 0}),t}function o(e){if(e){e.scrollIntoView();var n;n=s.yOffset,T(n)?n=n():E(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):O(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=a.getElementById(e))?o(t):(t=r(a.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var a=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Me(function(){i.$evalAsync(s)})}),s}]}function We(e,t){return e||t?e?t?(Qn(e)&&(e=e.join(" ")),Qn(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Fe(e){C(e)&&(e=e.split(" "));var t=le();return o(e,function(e){e.length&&(t[e]=!0)}),t}function Ve(e){return S(e)?e:{}}function Ye(e,t,n,i){function r(e){try{e.apply(null,qn.call(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function s(){a(),c()}function a(){e:{try{v=d.state;break e}catch(e){}v=void 0}v=b(v)?null:v,P(v,T)&&(v=T),T=v}function c(){(S!==l.url()||w!==v)&&(S=l.url(),w=v,o(O,function(e){e(l.url(),v)}))}var l=this,u=e.location,d=e.history,p=e.setTimeout,f=e.clearTimeout,h={};l.isMock=!1;var g=0,y=[];l.$$completeOutstandingRequest=r,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(e){0===g?e():y.push(e)};var v,w,S=u.href,$=t.find("base"),C=null;a(),w=v,l.url=function(t,n,r){if(b(r)&&(r=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var o=w===r;if(S===t&&(!i.history||o))return l;var s=S&&yt(S)===yt(t);return S=t,w=r,!i.history||s&&o?((!s||C)&&(C=t),n?u.replace(t):s?(n=u,r=t.indexOf("#"),t=-1===r?"":t.substr(r),n.hash=t):u.href=t):(d[n?"replaceState":"pushState"](r,"",t),a(),w=v),l}return C||u.href.replace(/%27/g,"'")},l.state=function(){return v};var O=[],x=!1,T=null;l.onUrlChange=function(t){return x||(i.history&&Pn(e).on("popstate",s),Pn(e).on("hashchange",s),x=!0),O.push(t),t},l.$$applicationDestroyed=function(){Pn(e).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(e,t){var n;return g++,n=p(function(){delete h[n],r(e)},t||0),h[n]=!0,n},l.defer.cancel=function(e){return h[e]?(delete h[e],f(e),r(m),!0):!1}}function qe(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Ye(e,i,t,n)}]}function Be(){this.$get=function(){function e(e,n){function r(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var s=0,a=d({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});r(n)}return e in c||s++,c[e]=t,s>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete u[e]}delete c[e],s--},removeAll:function(){c={},s=0,u={},p=f=null},destroy:function(){u=a=c=null,delete t[e]},info:function(){return d({},a,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function He(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ge(e,i){function r(e,t,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,o){var s=e.match(i);if(!s)throw Pi("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o}}),r}function s(e){var t=e.charAt(0);if(!t||t!==Fn(t))throw Pi("baddir",e);if(e!==e.trim())throw Pi("baddir",e)}var c={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=L("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function O(t,n){return se(t,"directive"),C(t)?(s(t),re(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var i=[];return o(c[t],function(o,s){try{var a=e.invoke(o);T(a)?a={compile:y(a)}:!a.compile&&a.link&&(a.compile=y(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var c=a,l=a,u=a.name,d={isolateScope:null,bindToController:null};if(S(l.scope)&&(!0===l.bindToController?(d.bindToController=r(l.scope,u,!0),d.isolateScope={}):d.isolateScope=r(l.scope,u,!1)),S(l.bindToController)&&(d.bindToController=r(l.bindToController,u,!0)),S(d.bindToController)){var p=l.controller,f=l.controllerAs;if(!p)throw Pi("noctrl",u);var h;e:if(f&&C(f))h=f;else{if(C(p)){var m=Wi.exec(p);if(m){h=m[3];break e}}h=void 0}if(!h)throw Pi("noident",u)}var g=c.$$bindings=d;S(g.isolateScope)&&(a.$$isolateBindings=g.isolateScope),a.$$moduleName=o.$$moduleName,i.push(a)}catch(v){n(v)}}),i}])),c[t].push(n)):o(t,a(O)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(e){return w(e)?($=e,this):$},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,r,s,a,y,w,O,x,k,A){function M(e,t){try{e.addClass(t)}catch(n){}}function E(e,t,n,i,r){e instanceof Pn||(e=Pn(e)),o(e,function(t,n){t.nodeType==li&&t.nodeValue.match(/\S+/)&&(e[n]=Pn(t).wrap("<span></span>").parent()[0])});var s=L(e,t,e,n,i,r);E.$$addScopeClass(e);var a=null;return function(t,n,i){re(t,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=(i=i&&i[0])&&"foreignobject"!==N(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==a?Pn(K(a,Pn("<div>").append(e).html())):n?$i.clone.call(e):e,o)for(var c in o)i.data("$"+c+"Controller",o[c].instance);return E.$$addScopeInfo(i,t),n&&n(i,t),s&&s(t,i,i,r),i}}function L(e,t,i,r,o,s){function a(e,i,r,o){var s,a,c,l,u,d,h;if(p)for(h=Array(i.length),l=0;l<f.length;l+=3)s=f[l],h[s]=i[s];else h=i;for(l=0,u=f.length;u>l;)a=h[f[l++]],i=f[l++],s=f[l++],i?(i.scope?(c=e.$new(),E.$$addScopeInfo(Pn(a),c),(d=i.$$destroyBindings)&&(i.$$destroyBindings=null,c.$on("$destroyed",d))):c=e,d=i.transcludeOnThisElement?D(e,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&t?D(e,t):null,i(s,c,a,r,d,i)):s&&s(e,a.childNodes,n,o)}for(var c,l,u,d,p,f=[],h=0;h<e.length;h++)c=new oe,l=R(e[h],[],c,0===h?r:n,o),(s=l.length?W(l,e[h],c,t,i,null,[],[],s):null)&&s.scope&&E.$$addScopeClass(c.$$element),c=s&&s.terminal||!(u=e[h].childNodes)||!u.length?null:L(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||c)&&(f.push(h,s,c),d=!0,p=p||s),s=null;return d?a:null}function D(e,t,n){return function(i,r,o,s,a){return i||(i=e.$new(!1,a),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function R(e,t,n,i,r){var o,s=n.$attr;switch(e.nodeType){case ci:V(t,ze(N(e)),"E",i,r);for(var a,c,d,p=e.attributes,f=0,h=p&&p.length;h>f;f++){var m=!1,g=!1;a=p[f],o=a.name,c=ti(a.value),a=ze(o),(d=ue.test(a))&&(o=o.replace(_i,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var y=a.replace(/(Start|End)$/,"");Y(y)&&a===y+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a=ze(o.toLowerCase()),s[a]=o,(d||!n.hasOwnProperty(a))&&(n[a]=c,Ee(e,a)&&(n[a]=!0)),J(e,t,c,a,d),V(t,a,"A",i,r,m,g)}if(e=e.className,S(e)&&(e=e.animVal),C(e)&&""!==e)for(;o=u.exec(e);)a=ze(o[2]),V(t,a,"C",i,r)&&(n[a]=ti(o[3])),e=e.substr(o.index+o[0].length);break;case li:if(11===Rn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===li;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);Z(t,e.nodeValue);break;case 8:try{(o=l.exec(e.nodeValue))&&(a=ze(o[1]),V(t,a,"M",i,r)&&(n[a]=ti(o[2])))}catch(v){}}return t.sort(G),t}function _(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Pi("uterdir",t,n);e.nodeType==ci&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return Pn(i)}function U(e,t,n){return function(i,r,o,s,a){return r=_(r[0],t,n),e(i,r,o,s,a)}}function W(e,i,o,s,a,c,l,u,d){function p(e,t,n,i){e&&(n&&(e=U(e,n,i)),e.require=v.require,e.directiveName=b,(A===v||v.$$isolateScope)&&(e=ee(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=U(t,n,i)),t.require=v.require,t.directiveName=b,(A===v||v.$$isolateScope)&&(t=ee(t,{isolateScope:!0})),u.push(t))}function h(e,t,n,i){var r;if(C(t)){var o=t.match(f);t=t.substring(o[0].length);var s=o[1]||o[3],o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[t])&&r.instance,r||(i="$"+t+"Controller",r=s?n.inheritedData(i):n.data(i)),!r&&!o)throw Pi("ctreq",t,e)}else if(Qn(t))for(r=[],s=0,o=t.length;o>s;s++)r[s]=h(e,t[s],n,i);return r||null}function m(e,t,n,i,r,o){var s,a=le();for(s in i){var c=i[s],l={$scope:c===A||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]),l=y(u,l,!0,c.controllerAs),a[c.name]=l,D||e.data("$"+c.name+"Controller",l.instance)}return a}function g(e,t,r,s,a,c){function d(e,t,i){var r;return I(e)||(i=t,t=e,e=n),D&&(r=v),i||(i=D?w.parent():w),a(e,t,r,i,O)}var p,f,g,y,v,b,w;if(i===r?(s=o,w=o.$$element):(w=Pn(r),s=new oe(w,o)),A&&(y=t.$new(!0)),a&&(b=d,b.$$boundTransclude=a),k&&(v=m(w,s,b,k,y,t)),A&&(E.$$addScopeInfo(w,y,!0,!(M&&(M===A||M===A.$$originalDirective))),E.$$addScopeClass(w,!0),y.$$isolateBindings=A.$$isolateBindings,ie(t,s,y,y.$$isolateBindings,A,y)),v){var S,$=A||x;$&&v[$.name]&&(f=$.$$bindings.bindToController,(g=v[$.name])&&g.identifier&&f&&(S=g,c.$$destroyBindings=ie(t,s,g.instance,f,$)));for(p in v){g=v[p];var C=g();C!==g.instance&&(g.instance=C,w.data("$"+p+"Controller",C),g===S&&(c.$$destroyBindings(),c.$$destroyBindings=ie(t,s,C,f,$)))}}for(p=0,c=l.length;c>p;p++)f=l[p],te(f,f.isolateScope?y:t,w,s,f.require&&h(f.directiveName,f.require,w,v),b);var O=t;for(A&&(A.template||null===A.templateUrl)&&(O=y),e&&e(O,r.childNodes,n,a),p=u.length-1;p>=0;p--)f=u[p],te(f,f.isolateScope?y:t,w,s,f.require&&h(f.directiveName,f.require,w,v),b)}d=d||{};for(var v,b,w,$,O=-Number.MAX_VALUE,x=d.newScopeDirective,k=d.controllerDirectives,A=d.newIsolateScopeDirective,M=d.templateDirective,L=d.nonTlbTranscludeDirective,N=!1,j=!1,D=d.hasElementTranscludeDirective,P=o.$$element=Pn(i),W=s,V=0,Y=e.length;Y>V;V++){v=e[V];var G=v.$$start,Z=v.$$end;if(G&&(P=_(i,G,Z)),w=n,O>v.priority)break;if((w=v.scope)&&(v.templateUrl||(S(w)?(z("new/isolated scope",A||x,v,P),A=v):z("new/isolated scope",A,v,P)),x=x||v),b=v.name,!v.templateUrl&&v.controller&&(w=v.controller,k=k||le(),z("'"+b+"' controller",k[b],v,P),k[b]=v),(w=v.transclude)&&(N=!0,v.$$tlb||(z("transclusion",L,v,P),L=v),"element"==w?(D=!0,O=v.priority,w=P,P=o.$$element=Pn(t.createComment(" "+b+": "+o[b]+" ")),i=P[0],Q(a,qn.call(w,0),i),W=E(w,s,O,c&&c.name,{nonTlbTranscludeDirective:L})):(w=Pn(ge(i)).contents(),P.empty(),W=E(w,s))),v.template)if(j=!0,z("template",M,v,P),M=v,w=T(v.template)?v.template(P,o):v.template,w=ce(w),v.replace){if(c=v,w=vi.test(w)?Ke(K(v.templateNamespace,ti(w))):[],i=w[0],1!=w.length||i.nodeType!==ci)throw Pi("tplrt",b,"");Q(a,P,i),Y={$attr:{}},w=R(i,[],Y);var X=e.splice(V+1,e.length-(V+1));A&&F(w),e=e.concat(w).concat(X),q(o,Y),Y=e.length}else P.html(w);if(v.templateUrl)j=!0,z("template",M,v,P),M=v,v.replace&&(c=v),g=H(e.splice(V,e.length-V),P,o,a,N&&W,l,u,{controllerDirectives:k,newScopeDirective:x!==v&&x,newIsolateScopeDirective:A,templateDirective:M,nonTlbTranscludeDirective:L}),Y=e.length;else if(v.compile)try{$=v.compile(P,o,W),T($)?p(null,$,G,Z):$&&p($.pre,$.post,G,Z)}catch(J){r(J,B(P))}v.terminal&&(g.terminal=!0,O=Math.max(O,v.priority))}return g.scope=x&&!0===x.scope,g.transcludeOnThisElement=N,g.templateOnThisElement=j,g.transclude=W,d.hasElementTranscludeDirective=D,g}function F(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function V(t,i,o,s,a,l,u){if(i===a)return null;if(a=null,c.hasOwnProperty(i)){var d;i=e.get(i+"Directive");for(var p=0,f=i.length;f>p;p++)try{d=i[p],(s===n||s>d.priority)&&-1!=d.restrict.indexOf(o)&&(l&&(d=h(d,{$$start:l,$$end:u})),t.push(d),a=d)}catch(m){r(m)}}return a}function Y(t){if(c.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;r>i;i++)if(t=n[i],t.multiElement)return!0;return!1}function q(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(M(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function H(e,t,n,i,r,a,c,l){var u,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=T(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,v=m.templateNamespace;return t.empty(),s(y).then(function(s){var h,b;if(s=ce(s),m.replace){if(s=vi.test(s)?Ke(K(v,ti(s))):[],h=s[0],1!=s.length||h.nodeType!==ci)throw Pi("tplrt",m.name,y);s={$attr:{}},Q(i,t,h);var w=R(h,[],s);S(m.scope)&&F(w),e=w.concat(e),q(n,s)}else h=f,t.html(s);for(e.unshift(g),u=W(e,h,n,r,t,m,a,c,l),o(i,function(e,n){e==h&&(i[n]=t[0])}),d=L(t[0].childNodes,r);p.length;){s=p.shift(),b=p.shift();var $=p.shift(),C=p.shift(),w=t[0];if(!s.$$destroyed){if(b!==f){var O=b.className;l.hasElementTranscludeDirective&&m.replace||(w=ge(h)),Q($,Pn(b),w),M(Pn(w),O)}b=u.transcludeOnThisElement?D(s,u.transclude,C):C,u(d,s,w,i,b,u)}}p=null}),function(e,t,n,i,r){e=r,t.$$destroyed||(p?p.push(t,n,i,e):(u.transcludeOnThisElement&&(e=D(t,u.transclude,r)),u(d,t,n,i,e,u)))}}function G(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function z(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Pi("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,B(i))}function Z(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&E.$$addBindingClass(e),function(e,i){var r=i.parent();t||E.$$addBindingClass(r),E.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function K(e,n){switch(e=Fn(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function X(e,t){if("srcdoc"==t)return x.HTML;var n=N(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?x.RESOURCE_URL:void 0}function J(e,t,n,r,o){var s=X(e,r);o=p[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===N(e))throw Pi("selmulti",B(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){if(t=c.$$observers||(c.$$observers={}),v.test(r))throw Pi("nodomevents");var l=c[r];l!==n&&(a=l&&i(l,!0,s,o),n=l),a&&(c[r]=a(e),(t[r]||(t[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||e).$watch(a,function(e,t){"class"===r&&e!=t?c.$updateClass(e,t):c.$set(r,e)}))}}}})}}function Q(e,n,i){var r,o,s=n[0],a=n.length,c=s.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==s){e[r++]=i,o=r+a-1;for(var l=e.length;l>r;r++,o++)l>o?e[r]=e[o]:delete e[r];e.length-=a-1,e.context===s&&(e.context=i);break}for(c&&c.replaceChild(i,s),e=t.createDocumentFragment(),e.appendChild(s),Pn.hasData(s)&&(Pn(i).data(Pn(s).data()),_n?(Jn=!0,_n.cleanData([s])):delete Pn.cache[s[Pn.expando]]),s=1,a=n.length;a>s;s++)c=n[s],Pn(c).remove(),e.appendChild(c),delete n[s];n[0]=i,n.length=1}function ee(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function te(e,t,n,i,o,s){try{e(t,n,i,o,s)}catch(a){r(a,B(n))}}function ie(e,t,n,r,s,c){var l;return o(r,function(r,o){var c,u,d,p,f=r.attrName,h=r.optional;switch(r.mode){case"@":h||Vn.call(t,f)||(n[o]=t[f]=void 0),t.$observe(f,function(e){C(e)&&(n[o]=e)}),t.$$observers[f].$$scope=e,C(t[f])&&(n[o]=i(t[f])(e));break;case"=":if(!Vn.call(t,f)){if(h)break;t[f]=void 0}if(h&&!t[f])break;u=a(t[f]),p=u.literal?P:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw c=n[o]=u(e),Pi("nonassign",t[f],s.name)},c=n[o]=u(e),h=function(t){return p(t,n[o])||(p(t,c)?d(e,t=n[o]):n[o]=t),c=t},h.$stateful=!0,h=r.collection?e.$watchCollection(t[f],h):e.$watch(a(t[f],h),null,u.literal),l=l||[],l.push(h);break;case"&":if(u=t.hasOwnProperty(f)?a(t[f]):m,u===m&&h)break;n[o]=function(t){return u(e,t)}}}),r=l?function(){for(var e=0,t=l.length;t>e;++e)l[e]()}:m,c&&r!==m?(c.$on("$destroy",r),m):r}var oe=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:ze,$addClass:function(e){e&&0<e.length&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ze(e,t);n&&n.length&&k.addClass(this.$$element,n),(n=Ze(t,e))&&n.length&&k.removeClass(this.$$element,n)},$set:function(e,t,i,s){var a=this.$$element[0],c=Ee(a,e),l=Le(a,e),a=e;if(c?(this.$$element.prop(e,t),s=c):l&&(this[l]=t,a=l),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e])||(this.$attr[e]=s=ne(e,"-")),c=N(this.$$element),"a"===c&&"href"===e||"img"===c&&"src"===e)this[e]=t=A(t,"src"===e);else if("img"===c&&"srcset"===e){for(var c="",l=ti(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(l)?u:/(,)/,l=l.split(u),u=Math.floor(l.length/2),d=0;u>d;d++)var p=2*d,c=c+A(ti(l[p]),!0),c=c+(" "+ti(l[p+1]));l=ti(l[2*d]).split(/\s/),c+=A(ti(l[0]),!0),2===l.length&&(c+=" "+ti(l[1])),this[e]=t=c}!1!==i&&(null===t||t===n?this.$$element.removeAttr(s):this.$$element.attr(s,t)),(e=this.$$observers)&&o(e[a],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=le()),r=i[e]||(i[e]=[]);return r.push(t),w.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){j(r,t)}}};var se=i.startSymbol(),ae=i.endSymbol(),ce="{{"==se||"}}"==ae?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ae)},ue=/^ngAttr[A-Z]/;return E.$$addBindingInfo=$?function(e,t){var n=e.data("$binding")||[];Qn(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,E.$$addBindingClass=$?function(e){M(e,"ng-binding")}:m,E.$$addScopeInfo=$?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:m,E.$$addScopeClass=$?function(e,t){M(e,t?"ng-isolate-scope":"ng-scope")}:m,E}]}function ze(e){return pe(e.replace(_i,""))}function Ze(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue e;n+=(0<n.length?" ":"")+s}return n}function Ke(e){e=Pn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Bn.call(e,t,1);return e}function Xe(){var e={},t=!1;this.register=function(t,n){se(t,"controller"),S(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,o){function s(e,t,n,r){if(!e||!S(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,a,c,l){var u,p,f;if(c=!0===c,l&&C(l)&&(f=l),C(i)){if(l=i.match(Wi),!l)throw Ui("ctrlfmt",i);p=l[1],f=f||l[3],i=e.hasOwnProperty(p)?e[p]:ae(a.$scope,p,!0)||(t?ae(o,p,!0):n),oe(i,p,!0)}return c?(c=(Qn(i)?i[i.length-1]:i).prototype,u=Object.create(c||null),f&&s(a,f,u,p||i.name),d(function(){var e=r.invoke(i,u,a,p);return e!==u&&(S(e)||T(e))&&(u=e,f&&s(a,f,u,p||i.name)),u},{instance:u,identifier:f})):(u=r.instantiate(i,a,p),f&&s(a,f,u,p||i.name),u)}}]}function Je(){this.$get=["$window",function(e){return Pn(e.document)}]}function Qe(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function et(e){return S(e)?x(e)?e.toISOString():F(e):e}function tt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return s(e,function(e,n){null===e||b(e)||(Qn(e)?o(e,function(e,i){t.push(K(n)+"="+K(et(e)))}):t.push(K(n)+"="+K(et(e))))}),t.join("&")}}}function nt(){this.$get=function(){return function(e){function t(e,i,r){null===e||b(e)||(Qn(e)?o(e,function(e,n){t(e,i+"["+(S(e)?n:"")+"]")}):S(e)&&!x(e)?s(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(K(i)+"="+K(et(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function it(e,t){if(C(e)){var n=e.replace(Hi,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(Vi))||(i=(i=n.match(qi))&&Bi[i[0]].test(n)),i&&(e=V(n))}}return e}function rt(e){var t,n=le();return C(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var i=Fn(ti(e.substr(0,t)));e=ti(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):S(e)&&o(e,function(e,t){var i=Fn(t),r=ti(e);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function ot(e){var t;return function(n){return t||(t=rt(e)),n?(n=t[Fn(n)],void 0===n&&(n=null),n):t}}function st(e,t,n,i){return T(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function at(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return S(e)&&"[object File]"!==Gn.call(e)&&"[object Blob]"!==Gn.call(e)&&"[object FormData]"!==Gn.call(e)?F(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(Yi),put:R(Yi),patch:R(Yi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var r=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(r=!!e,this):r};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,c,l,u,p,f){function h(t){function s(e){var t=d({},e);return t.data=e.data?st(e.data,e.headers,e.status,c.transformResponse):e.data,e=e.status,e>=200&&300>e?t:p.reject(t)}function a(e,t){var n,i={};return o(e,function(e,r){T(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}if(!Kn.isObject(t))throw i("$http")("badreq",t);var c=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=function(t){var n,i,r,o=e.headers,s=d({},t.headers),o=d({},o.common,o[Fn(t.method)]);e:for(n in o){i=Fn(n);for(r in s)if(Fn(r)===i)continue e;s[n]=o[n]}return a(s,R(t))}(t),c.method=Yn(c.method),c.paramSerializer=C(c.paramSerializer)?f.get(c.paramSerializer):c.paramSerializer;var l=[function(t){var i=t.headers,r=st(t.data,ot(i),n,t.transformRequest);return b(r)&&o(i,function(e,t){"content-type"===Fn(t)&&delete i[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(s,s)},n],u=p.when(c);for(o(v,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var h=l.shift(),u=u.then(t,h)}return r?(u.success=function(e){return oe(e,"fn"),u.then(function(t){e(t.data,t.status,t.headers,c)}),u},u.error=function(e){return oe(e,"fn"),u.then(null,function(t){e(t.data,t.status,t.headers,c)}),u}):(u.success=zi("success"),u.error=zi("error")),u}function m(i,r){function o(e,n,i,r){function o(){s(n,e,i,r)}f&&(e>=200&&300>e?f.put(O,[e,n,rt(i),r]):f.remove(O)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function s(e,t,n,r){t=Math.max(t,0),(t>=200&&300>t?v.resolve:v.reject)({data:e,status:t,headers:ot(n),config:i,statusText:r})}function l(e){s(e.data,e.status,R(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(i);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,v=p.defer(),$=v.promise,C=i.headers,O=g(i.url,i.paramSerializer(i.params));return h.pendingRequests.push(i),$.then(d,d),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(f=S(i.cache)?i.cache:S(e.cache)?e.cache:y),f&&(m=f.get(O),w(m)?m&&T(m.then)?m.then(l,l):Qn(m)?s(m[1],m[0],R(m[2]),m[3]):s(m,200,{},"OK"):f.put(O,$)),b(m)&&((m=nn(i.url)?c()[i.xsrfCookieName||e.xsrfCookieName]:n)&&(C[i.xsrfHeaderName||e.xsrfHeaderName]=m),a(i.method,O,r,o,C,i.timeout,i.withCredentials,i.responseType)),$}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var y=l("$http");e.paramSerializer=C(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var v=[];return o(s,function(e){v.unshift(C(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],function(e){o(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){h[e]=function(t,n,i){return h(d({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function ct(){return new e.XMLHttpRequest}function lt(){
this.$get=["$browser","$window","$document",function(e,t,n){return ut(e,ct,e.defer,t.angular.callbacks,n[0])}]}function ut(e,t,i,r,s){function a(e,t,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),s.body.removeChild(i),i=null;var a=-1,c="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),c=e.type,a="error"===e.type?404:200),n&&n(a,c)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),s.body.appendChild(i),o}return function(s,c,l,u,d,p,f,h){function g(){b&&b(),S&&S.abort()}function y(t,r,o,s,a){C!==n&&i.cancel(C),b=S=null,t(r,o,s,a),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==Fn(s)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var b=a(c.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){y(u,e,r[v].data,"",t),r[v]=m})}else{var S=t();if(S.open(s,c,!0),o(d,function(e,t){w(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"==tn(c).protocol?404:0),y(u,n,t,S.getAllResponseHeaders(),e)},s=function(){y(u,-1,null,null,"")},S.onerror=s,S.onabort=s,f&&(S.withCredentials=!0),h)try{S.responseType=h}catch($){if("json"!==h)throw $}S.send(l)}if(p>0)var C=i(g,p);else p&&T(p.then)&&p.then(g)}}function dt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function s(n){return n.replace(u,e).replace(p,t)}function a(o,a,u,p){function f(e){try{var t=e;e=u?r.getTrusted(u,t):r.valueOf(t);var n;if(p&&!w(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=F(e)}n=e}return n}catch(s){i(Zi.interr(o,s))}}p=!!p;for(var h,m,g=0,y=[],v=[],S=o.length,$=[],C=[];S>g;){if(-1==(h=o.indexOf(e,g))||-1==(m=o.indexOf(t,h+c))){g!==S&&$.push(s(o.substring(g)));break}g!==h&&$.push(s(o.substring(g,h))),g=o.substring(h+c,m),y.push(g),v.push(n(g,f)),g=m+l,C.push($.length),$.push("")}if(u&&1<$.length&&Zi.throwNoconcat(o),!a||y.length){var O=function(e){for(var t=0,n=y.length;n>t;t++){if(p&&b(e[t]))return;$[C[t]]=e[t]}return $.join("")};return d(function(e){var t=0,n=y.length,r=Array(n);try{for(;n>t;t++)r[t]=v[t](e);return O(r)}catch(s){i(Zi.interr(o,s))}},{exp:o,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(v,function(i,r){var o=O(i);T(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var c=e.length,l=t.length,u=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function pt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function r(r,s,a,c){var l=4<arguments.length,u=l?qn.call(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=w(c)&&!c,m=(h?i:n).defer(),g=m.promise;return a=w(a)?a:0,g.then(null,null,l?function(){r.apply(null,u)}:r),g.$$intervalId=d(function(){m.notify(f++),a>0&&f>=a&&(m.resolve(f),p(g.$$intervalId),delete o[g.$$intervalId]),h||e.$apply()},s),o[g.$$intervalId]=m,g}var o={};return r.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},r}]}function ft(e){e=e.split("/");for(var t=e.length;t--;)e[t]=Z(e[t]);return e.join("/")}function ht(e,t){var n=tn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Xi[n.protocol]||null}function mt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=tn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=G(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function gt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function yt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function vt(e){return e.replace(/(#.+)|#$/,"$1")}function bt(e,t,i){this.$$html5=!0,i=i||"",ht(e,this),this.$$parse=function(e){var n=gt(t,e);if(!C(n))throw Ji("ipthprfx",e,t);mt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=z(this.$$search),n=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=ft(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a;return(s=gt(e,r))!==n?(a=s,a=(s=gt(i,s))!==n?t+(gt("/",s)||s):e+a):(s=gt(t,r))!==n?a=t+s:t==r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function wt(e,t,n){ht(e,this),this.$$parse=function(i){var r,o=gt(e,i)||gt(t,i);b(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",b(o)&&(e=i,this.replace())):(r=gt(n,o),b(r)&&(r=o)),mt(r,this),i=this.$$path;var o=e,s=/^\/[A-Z]:(\/.*)/;0===r.indexOf(o)&&(r=r.replace(o,"")),s.exec(r)||(i=(r=s.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var t=z(this.$$search),i=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=ft(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return yt(e)==yt(t)?(this.$$parse(t),!0):!1}}function St(e,t,n){this.$$html5=!0,wt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return e==yt(i)?o=i:(s=gt(t,i))?o=e+n+s:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=z(this.$$search),i=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=ft(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function $t(e){return function(){return this[e]}}function Ct(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ot(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):S(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(e,t,n){var r=l.url(),o=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(s){throw l.url(r),l.$$state=o,s}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u;u=i.baseHref();var d,p=i.url();if(t.enabled){if(!u&&t.requireBase)throw Ji("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(u||"/"),u=r.history?bt:St}else d=yt(p),u=wt;var f=d.substr(0,yt(d).lastIndexOf("/")+1);l=new u(d,f,"#"+e),l.$$parseLinkUrl(p,p),l.$$state=i.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Pn(e.target);"a"!==N(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");S(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=tn(a.animVal).href),h.test(a)||!a||r.attr("target")||e.isDefaultPrevented()||!l.$$parseLinkUrl(a,c)||(e.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),vt(l.absUrl())!=vt(p)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){b(gt(f,e))?s.location.href=e:(n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,l.absUrl()===e&&(i?(l.$$parse(r),l.$$state=o,a(r,!1,o)):(m=!1,c(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=vt(i.url()),t=vt(l.absUrl()),o=i.state(),s=l.$$replace,u=e!==t||l.$$html5&&r.history&&o!==l.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=l.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(i?(l.$$parse(e),l.$$state=o):(u&&a(t,s,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function xt(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||m;e=!1;try{e=!!r.apply}catch(s){}return e?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Tt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw er("isecfld",t);return e}function kt(e,t){if(e){if(e.constructor===e)throw er("isecfn",t);if(e.window===e)throw er("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw er("isecdom",t);if(e===Object)throw er("isecobj",t)}return e}function At(e,t){if(e){if(e.constructor===e)throw er("isecfn",t);if(e===tr||e===nr||e===ir)throw er("isecff",t)}}function It(e,t){return"undefined"!=typeof e?e:t}function Mt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Et(e,t){var n,i;switch(e.type){case ar.Program:n=!0,o(e.body,function(e){Et(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case ar.Literal:e.constant=!0,e.toWatch=[];break;case ar.UnaryExpression:Et(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ar.BinaryExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ar.LogicalExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ar.ConditionalExpression:Et(e.test,t),Et(e.alternate,t),Et(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ar.Identifier:e.constant=!1,e.toWatch=[e];break;case ar.MemberExpression:Et(e.object,t),e.computed&&Et(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ar.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,i=[],o(e.arguments,function(e){Et(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?i:[e];break;case ar.AssignmentExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ar.ArrayExpression:n=!0,i=[],o(e.elements,function(e){Et(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case ar.ObjectExpression:n=!0,i=[],o(e.properties,function(e){Et(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case ar.ThisExpression:e.constant=!1,e.toWatch=[]}}function Lt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Nt(e){return e.type===ar.Identifier||e.type===ar.MemberExpression}function jt(e){return 1===e.body.length&&Nt(e.body[0].expression)?{type:ar.AssignmentExpression,left:e.body[0].expression,right:{type:ar.NGValueParameter},operator:"="}:void 0}function Dt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===ar.Literal||e.body[0].expression.type===ar.ArrayExpression||e.body[0].expression.type===ar.ObjectExpression)}function Rt(e,t){this.astBuilder=e,this.$filter=t}function Pt(e,t){this.astBuilder=e,this.$filter=t}function _t(e){return"constructor"==e}function Ut(e){return T(e.valueOf)?e.valueOf():lr.call(e)}function Wt(){var e=le(),t=le();this.$get=["$filter",function(i){function r(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Ut(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function s(e,t,i,o,s){var a,c=o.inputs;if(1===c.length){var l=r,c=c[0];return e.$watch(function(e){var t=c(e);return r(t,l)||(a=o(e,n,n,[t]),l=t&&Ut(t)),a},t,i,s)}for(var u=[],d=[],p=0,f=c.length;f>p;p++)u[p]=r,d[p]=null;return e.$watch(function(e){for(var t=!1,i=0,s=c.length;s>i;i++){var l=c[i](e);(t||(t=!r(l,u[i])))&&(d[i]=l,u[i]=l&&Ut(l))}return t&&(a=o(e,n,n,d)),a},t,i,s)}function a(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,T(t)&&t.apply(this,arguments),w(e)&&i.$$postDigest(function(){w(o)&&r()})},n)}function c(e,t,n,i){function r(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,i){a=e,T(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(a)&&s()})},n)}function l(e,t,n,i){var r;return r=e.$watch(function(e){return i(e)},function(e,n,i){T(t)&&t.apply(this,arguments),r()},n)}function u(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==c&&n!==a?function(n,i,r,o){return r=e(n,i,r,o),t(r,n,i)}:function(n,i,r,o){return r=e(n,i,r,o),n=t(r,n,i),w(r)?n:r};return e.$$watchDelegate&&e.$$watchDelegate!==s?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=s,n.inputs=e.inputs?e.inputs:[e]),n}var d=ii().noUnsafeEval,p={csp:d,expensiveChecks:!1},f={csp:d,expensiveChecks:!0};return function(n,r,o){var d,h,g;switch(typeof n){case"string":g=n=n.trim();var y=o?t:e;return d=y[g],d||(":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2)),o=o?f:p,d=new sr(o),d=new cr(d,i,o).parse(n),d.constant?d.$$watchDelegate=l:h?d.$$watchDelegate=d.literal?c:a:d.inputs&&(d.$$watchDelegate=s),y[g]=d),u(d,r);case"function":return u(n,r);default:return m}}}]}function Ft(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Yt(function(t){e.$evalAsync(t)},t)}]}function Vt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Yt(function(t){e.defer(t)},t)}]}function Yt(e,t){function r(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function s(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function c(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e(function(){var e,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=o.length;a>s;++s){r=o[s][0],e=o[s][i.status];try{T(e)?r.resolve(e(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(c){r.reject(c),t(c)}}}))}function l(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var u=i("$q",TypeError);d(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&c(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return f(t,!0,e)},function(t){return f(t,!1,e)},t)}}),d(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(u("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(S(e)||T(e))&&(n=e&&e.then),T(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){i[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,r,o=0,s=i.length;s>o;o++){r=i[o][0],e=i[o][3];try{r.notify(T(e)?e(n):n)}catch(a){t(a)}}})}});var p=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},f=function(e,t,n){var i=null;try{T(n)&&(i=n())}catch(r){return p(r,!1)}return i&&T(i.then)?i.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},h=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},m=function g(e){if(!T(e))throw u("norslvr",e);if(!(this instanceof g))return new g(e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return m.defer=function(){return new l},m.reject=function(e){var t=new l;return t.reject(e),t.promise},m.when=h,m.resolve=h,m.all=function(e){var t=new l,n=0,i=Qn(e)?[]:{};return o(e,function(e,r){n++,h(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},m}function qt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}l=u.length=0}function i(e){var t=u.length;return l++,u.push(e),0===t&&(c=a(n)),function(){t>=0&&(t=u[t]=null,0===--l&&c&&(c(),c=null,u.length=0))}}var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!r,a=s?function(e){var t=r(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};i.supported=s;var c,l=0,u=[];return i}]}function Bt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Xn,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,c,l,u){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=++Xn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if($.$$phase)throw n("inprog",$.$$phase);$.$$phase=e}function h(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function y(){}function v(){for(;x.length;)try{x.shift()()}catch(e){c(e)}a=null}function w(){null===a&&(a=u.defer(function(){$.$apply(v)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,c={fn:t,last:y,get:r,exp:i||e,eq:!!n};return s=null,T(t)||(c.fn=m),a||(a=o.$$watchers=[]),a.unshift(c),h(this,1),function(){0<=j(a,c)&&h(o,-1),s=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(r,r,a)):t(r,i,a)}var i=Array(e.length),r=Array(e.length),s=[],a=this,c=!1,l=!0;if(!e.length){var u=!0;return a.$evalAsync(function(){u&&t(r,r,a)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=a.$watch(e,function(e,o){r[t]=e,i[t]=o,c||(c=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,s,a;if(!b(i)){if(S(i))if(r(i))for(o!==p&&(o=p,m=o.length=0,u++),e=i.length,m!==e&&(u++,o.length=m=e),t=0;e>t;t++)a=o[t],s=i[t],n=a!==a&&s!==s,n||a===s||(u++,o[t]=s);else{o!==f&&(o=f={},m=0,u++),e=0;for(t in i)i.hasOwnProperty(t)&&(e++,s=i[t],a=o[t],t in o?(n=a!==a&&s!==s,n||a===s||(u++,o[t]=s)):(m++,o[t]=s,u++));if(m>e)for(t in u++,o)i.hasOwnProperty(t)||(m--,delete o[t])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,s,a=this,c=1<t.length,u=0,d=l(e,n),p=[],f={},h=!0,m=0;return this.$watch(d,function(){if(h?(h=!1,t(i,i,a)):t(i,s,a),c)if(S(i))if(r(i)){s=Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else for(e in s={},i)Vn.call(i,e)&&(s[e]=i[e]);else s=i})},$digest:function(){var e,i,r,o,l,d,p,h,m,g=t,b=[];f("$digest"),u.$$checkUrlChange(),this===$&&null!==a&&(u.defer.cancel(a),v()),s=null;do{for(d=!1,p=this;C.length;){try{m=C.shift(),m.scope.$eval(m.expression,m.locals)}catch(w){c(w)}s=null}e:do{if(o=p.$$watchers)for(l=o.length;l--;)try{if(e=o[l])if((i=e.get(p))===(r=e.last)||(e.eq?P(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(e===s){d=!1;break e}}else d=!0,s=e,e.last=e.eq?D(i,null):i,e.fn(i,r===y?i:r,p),5>g&&(h=4-g,b[h]||(b[h]=[]),b[h].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:r}))}catch(S){c(S)}if(!(o=p.$$watchersCount&&p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(o=p.$$nextSibling);)p=p.$parent}while(p=o);if((d||C.length)&&!g--)throw $.$$phase=null,n("infdig",t,b)}while(d||C.length);for($.$$phase=null;O.length;)try{O.shift()()}catch(x){c(x)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$&&u.$$applicationDestroyed(),h(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){$.$$phase||C.length||u.defer(function(){C.length&&$.$digest()}),C.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){O.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{$.$$phase=null}}catch(t){c(t)}finally{try{$.$digest()}catch(n){throw c(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&x.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,g(r,1,e))}},$emit:function(e,t){var n,i,r,o=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=_([l],arguments,1);do{for(n=s.$$listeners[e]||o,l.currentScope=s,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,u)}catch(d){c(d)}else n.splice(i,1),i--,r--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,s,a=_([r],arguments,1);n=i;){for(r.currentScope=n,i=n.$$listeners[e]||[],o=0,s=i.length;s>o;o++)if(i[o])try{i[o].apply(null,a)}catch(l){c(l)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var $=new p,C=$.$$asyncQueue=[],O=$.$$postDigestQueue=[],x=$.$$applyAsyncQueue=[];return $}]}function Ht(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=tn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Gt(e){if("self"===e)return e;if(C(e)){if(-1<e.indexOf("***"))throw ur("iwcard",e);return e=ni(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw ur("imatcher")}function zt(e){var t=[];return w(e)&&o(e,function(e){t.push(Gt(e))}),t}function Zt(){this.SCE_CONTEXTS=dr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=zt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=zt(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?nn(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw ur("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var a=o(),c={};return c[dr.HTML]=o(a),c[dr.CSS]=o(a),c[dr.URL]=o(a),c[dr.JS]=o(a),c[dr.RESOURCE_URL]=o(c[dr.URL]),{trustAs:function(e,t){var i=c.hasOwnProperty(e)?c[e]:null;if(!i)throw ur("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ur("itype",e);return new i(t)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var a=c.hasOwnProperty(i)?c[i]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(i===dr.RESOURCE_URL){var l,u,a=tn(o.toString()),d=!1;for(l=0,u=e.length;u>l;l++)if(r(e[l],a)){d=!0;break}if(d)for(l=0,u=t.length;u>l;l++)if(r(t[l],a)){d=!1;break}if(d)return o;throw ur("insecurl",o.toString())}if(i===dr.HTML)return s(o);throw ur("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Kt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Rn)throw ur("iequirks");var i=R(dr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=g),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(dr,function(e,t){var n=Fn(t);i[pe("parse_as_"+n)]=function(t){return r(e,t)},i[pe("get_trusted_"+n)]=function(t){return s(e,t)},i[pe("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function Xt(){this.$get=["$window","$document",function(e,t){var n,i={},r=f((/android (\d+)/.exec(Fn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,u=!1;if(c){for(var d in c)if(l=a.exec(d)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),u=!!("animation"in c||n+"Animation"in c),!r||l&&u||(l=C(c.webkitTransition),u=C(c.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||o),hasEvent:function(e){if("input"===e&&11>=Rn)return!1;if(b(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:ii(),vendorPrefix:n,transitions:l,animations:u,android:r}}]}function Jt(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,i){function r(o,s){r.totalPendingRequests++,C(o)&&e.get(o)||(o=i.getTrustedResourceUrl(o));var a=t.defaults&&t.defaults.transformResponse;return Qn(a)?a=a.filter(function(e){return e!==it}):a===it&&(a=null),t.get(o,{cache:e,transformResponse:a})["finally"](function(){r.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},function(e){if(!s)throw Pi("tpload",o,e.status,e.statusText);return n.reject(e)})}return r.totalPendingRequests=0,r}]}function Qt(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return o(e,function(e){var r=Kn.element(e).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+ni(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function en(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,a,c){T(o)||(c=a,a=o,o=m);var l,u=qn.call(arguments,3),d=w(c)&&!c,p=(d?i:n).defer(),f=p.promise;return l=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(t){p.reject(t),r(t)}finally{delete s[f.$$timeoutId]}d||e.$apply()},a),f.$$timeoutId=l,s[l]=p,f}var s={};return o.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function tn(e){return Rn&&(pr.setAttribute("href",e),e=pr.href),pr.setAttribute("href",e),{href:pr.href,protocol:pr.protocol?pr.protocol.replace(/:$/,""):"",host:pr.host,search:pr.search?pr.search.replace(/^\?/,""):"",hash:pr.hash?pr.hash.replace(/^#/,""):"",hostname:pr.hostname,port:pr.port,pathname:"/"===pr.pathname.charAt(0)?pr.pathname:"/"+pr.pathname}}function nn(e){return e=C(e)?tn(e):e,e.protocol===fr.protocol&&e.host===fr.host}function rn(){this.$get=y(e)}function on(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},o="";return function(){var e,s,a,c,l;if(e=i.cookie||"",e!==o)for(o=e,e=o.split("; "),r={},a=0;a<e.length;a++)s=e[a],c=s.indexOf("="),c>0&&(l=t(s.substring(0,c)),r[l]===n&&(r[l]=t(s.substring(c+1))));return r}}function sn(){this.$get=on}function an(e){function t(n,i){if(S(n)){var r={};return o(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",pn),t("date",Sn),t("filter",cn),t("json",$n),t("limitTo",Cn),t("lowercase",vr),t("number",fn),t("orderBy",On),t("uppercase",br)}function cn(){return function(e,t,n){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}var o;switch(dn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=ln(t,n,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function ln(e,t,n){var i=S(e)&&"$"in e;return!0===t?t=P:T(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:S(t)||S(e)&&!v(e)?!1:(e=Fn(""+e),t=Fn(""+t),-1!==e.indexOf(t))}),function(r){return i&&!S(r)?un(r,e.$,t,!1):un(r,e,t,n)}}function un(e,t,n,i,r){var o=dn(e),s=dn(t);if("string"===s&&"!"===t.charAt(0))return!un(e,t.substring(1),n,i);if(Qn(e))return e.some(function(e){return un(e,t,n,i)});switch(o){case"object":var a;if(i){for(a in e)if("$"!==a.charAt(0)&&un(e[a],t,n,!0))return!0;return r?!1:un(e,t,n,!1)}if("object"===s){for(a in t)if(r=t[a],!T(r)&&!b(r)&&(o="$"===a,!un(o?e:e[a],r,n,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dn(e){return null===e?"null":typeof e}function pn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hn(e,t,n,i,r){if(S(e))return"";var o=0>e;e=Math.abs(e);var s=1/0===e;if(!s&&!isFinite(e))return"";var a=e+"",c="",l=!1,u=[];if(s&&(c="∞"),!s&&-1!==a.indexOf("e")){var d=a.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>r+1?e=0:(c=a,l=!0)}if(s||l)r>0&&1>e&&(c=e.toFixed(r),e=parseFloat(c));else{s=(a.split(hr)[1]||"").length,b(r)&&(r=Math.min(Math.max(t.minFrac,s),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var s=(""+e).split(hr),a=s[0],s=s[1]||"",d=0,p=t.lgSize,f=t.gSize;if(a.length>=p+f)for(d=a.length-p,l=0;d>l;l++)0===(d-l)%f&&0!==l&&(c+=n),c+=a.charAt(l);for(l=d;l<a.length;l++)0===(a.length-l)%p&&0!==l&&(c+=n),c+=a.charAt(l);for(;s.length<r;)s+="0";r&&"0"!==r&&(c+=i+s.substr(0,r))}return 0===e&&(o=!1),
u.push(o?t.negPre:t.posPre,c,o?t.negSuf:t.posSuf),u.join("")}function mn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function gn(e,t,n,i){return n=n||0,function(r){return r=r["get"+e](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),mn(r,t,i)}}function yn(e,t){return function(n,i){var r=n["get"+e](),o=Yn(t?"SHORT"+e:e);return i[o][r]}}function vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return function(t){var n=vn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),mn(t,e)}}function wn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Sn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=f(t[9]+t[10]),r=f(t[9]+t[11])),o.call(e,f(t[1]),f(t[2])-1,f(t[3])),i=f(t[4]||0)-i,r=f(t[5]||0)-r,o=f(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),s.call(e,i,r,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,c="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,C(n)&&(n=yr.test(n)?f(n):t(n)),O(n)&&(n=new Date(n)),!x(n)||!isFinite(n.getTime()))return n;for(;i;)(a=gr.exec(i))?(l=_(l,a,1),i=l.pop()):(l.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=Y(r,n.getTimezoneOffset()),n=q(n,r,!0)),o(l,function(t){s=mr[t],c+=s?s(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function $n(){return function(e,t){return b(t)&&(t=2),F(e,t)}}function Cn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):f(t),isNaN(t)?e:(O(e)&&(e=e.toString()),Qn(e)||C(e)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function On(e){function t(t,n){return n=n?-1:1,t.map(function(t){var i=1,r=g;if(T(t))r=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var o=r(),r=function(e){return e[o]};return{get:r,descending:i*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,i,o){if(!r(e))return e;Qn(i)||(i=[i]),0===i.length&&(i=["+"]);var s=t(i,o);return s.push({get:function(){return{}},descending:o?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:s.map(function(i){var r=i.get(e);return i=typeof r,null===r?(i="string",r="null"):"string"===i?r=r.toLowerCase():"object"===i&&("function"==typeof r.valueOf&&(r=r.valueOf(),n(r))||v(r)&&(r=r.toString(),n(r))||(r=t)),{value:r,type:i}})}}),e.sort(function(e,t){for(var n=0,i=0,r=s.length;r>i;++i){var n=e.predicateValues[i],o=t.predicateValues[i],a=0;if(n.type===o.type?n.value!==o.value&&(a=n.value<o.value?-1:1):a=n.type<o.type?-1:1,n=a*s[i].descending)break}return n}),e=e.map(function(e){return e.value})}}function xn(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",y(e)}function Tn(e,t,i,r,s){var a=this,c=[],l=a.$$parentForm=e.parent().controller("form")||$r;a.$error={},a.$$success={},a.$pending=n,a.$name=s(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,l.$addControl(a),a.$rollbackViewValue=function(){o(c,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){o(c,function(e){e.$commitViewValue()})},a.$addControl=function(e){se(e.$name,"input"),c.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(a.$pending,function(t,n){a.$setValidity(n,null,e)}),o(a.$error,function(t,n){a.$setValidity(n,null,e)}),o(a.$$success,function(t,n){a.$setValidity(n,null,e)}),j(c,e)},jn({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(j(i,n),0===i.length&&delete e[t])},parentForm:l,$animate:r}),a.$setDirty=function(){r.removeClass(e,io),r.addClass(e,ro),a.$dirty=!0,a.$pristine=!1,l.$setDirty()},a.$setPristine=function(){r.setClass(e,io,ro+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(c,function(e){e.$setPristine()})},a.$setUntouched=function(){o(c,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,"ng-submitted"),a.$submitted=!0,l.$setSubmitted()}}function kn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function An(e,t,n,i,r,o){var s=Fn(t[0].type);if(!r.android){var a=!1;t.on("compositionstart",function(e){a=!0}),t.on("compositionend",function(){a=!1,c()})}var c=function(e){if(l&&(o.defer.cancel(l),l=null),!a){var r=t.val();e=e&&e.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=ti(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",c);else{var l,u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function In(e,t){return function(n,i){var r,s;if(x(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Tr.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function Mn(e,t,i,r){return function(o,s,a,c,l,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return w(e)?x(e)?e:i(e):n}En(o,s,a,c),An(o,s,a,c,l,u);var h,m=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){return c.$isEmpty(e)?null:t.test(e)?(e=i(e,h),m&&(e=q(e,m)),e):n}),c.$formatters.push(function(e){if(e&&!x(e))throw so("datefmt",e);return p(e)?((h=e)&&m&&(h=q(h,m,!0)),d("date")(e,r,m)):(h=null,"")}),w(a.min)||a.ngMin){var g;c.$validators.min=function(e){return!p(e)||b(g)||i(e)>=g},a.$observe("min",function(e){g=f(e),c.$validate()})}if(w(a.max)||a.ngMax){var y;c.$validators.max=function(e){return!p(e)||b(y)||i(e)<=y},a.$observe("max",function(e){y=f(e),c.$validate()})}}}function En(e,t,i,r){(r.$$hasNativeValidators=S(t[0].validity))&&r.$parsers.push(function(e){var i=t.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:e})}function Ln(e,t,n,i,r){if(w(i)){if(e=e(i),!e.constant)throw so("constexpr",n,i);return e(t)}return r}function Nn(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){var t=[];return Qn(e)?(o(e,function(e){t=t.concat(r(e))}),t):C(e)?e.split(" "):S(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(s,a,c){function l(e,t){var n=a.data("$classCounts")||le(),i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),a.data("$classCounts",n),i.join(" ")}function u(e){if(!0===t||s.$index%2===t){var o=r(e||[]);if(d){if(!P(e,d)){var u=r(d),p=i(o,u),o=i(u,o),p=l(p,1),o=l(o,-1);p&&p.length&&n.addClass(a,p),o&&o.length&&n.removeClass(a,o)}}else{var p=l(o,1);c.$addClass(p)}}d=R(e)}var d;s.$watch(c[e],u,!0),c.$observe("class",function(t){u(s.$eval(c[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(c[e]));o===t?(o=l(a,1),c.$addClass(o)):(o=l(a,-1),c.$removeClass(o))}})}}}]}function jn(e){function t(e,t){t&&!s[e]?(u.addClass(o,e),s[e]=!0):!t&&s[e]&&(u.removeClass(o,e),s[e]=!1)}function i(e,n){e=e?"-"+ne(e,"-"):"",t(to+e,!0===n),t(no+e,!1===n)}var r=e.ctrl,o=e.$element,s={},a=e.set,c=e.unset,l=e.parentForm,u=e.$animate;s[no]=!(s[to]=o.hasClass(to)),r.$setValidity=function(e,o,s){o===n?(r.$pending||(r.$pending={}),a(r.$pending,e,s)):(r.$pending&&c(r.$pending,e,s),Dn(r.$pending)&&(r.$pending=n)),M(o)?o?(c(r.$error,e,s),a(r.$$success,e,s)):(a(r.$error,e,s),c(r.$$success,e,s)):(c(r.$error,e,s),c(r.$$success,e,s)),r.$pending?(t(oo,!0),r.$valid=r.$invalid=n,i("",null)):(t(oo,!1),r.$valid=Dn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[e]?n:r.$error[e]?!1:r.$$success[e]?!0:null,i(e,o),l.$setValidity(e,o,r)}}function Dn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Rn,Pn,_n,Un,Wn=/^\/(.+)\/([a-z]*)$/,Fn=function(e){return C(e)?e.toLowerCase():e},Vn=Object.prototype.hasOwnProperty,Yn=function(e){return C(e)?e.toUpperCase():e},qn=[].slice,Bn=[].splice,Hn=[].push,Gn=Object.prototype.toString,zn=Object.getPrototypeOf,Zn=i("ng"),Kn=e.angular||(e.angular={}),Xn=0;Rn=t.documentMode,m.$inject=[],g.$inject=[];var Jn,Qn=Array.isArray,ei=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,ti=function(e){return C(e)?e.trim():e},ni=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ii=function(){if(!w(ii.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ii.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=ii;try{new Function(""),n=!1}catch(i){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ii.rules},ri=function(){if(w(ri.name_))return ri.name_;var e,n,i,r,o=oi.length;for(n=0;o>n;++n)if(i=oi[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return ri.name_=r},oi=["ng-","data-ng-","ng:","x-ng-"],si=/[A-Z]/g,ai=!1,ci=1,li=3,ui={full:"1.4.4",major:1,minor:4,dot:4,codeName:"pylon-requirement"};me.expando="ng339";var di=me.cache={},pi=1;me._data=function(e){return this.cache[e[this.expando]]||{}};var fi=/([\:\-\_]+(.))/g,hi=/^moz([A-Z])/,mi={mouseleave:"mouseout",mouseenter:"mouseover"},gi=i("jqLite"),yi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vi=/<|&#?\w+;/,bi=/<([\w:]+)/,wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Si={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Si.optgroup=Si.option,Si.tbody=Si.tfoot=Si.colgroup=Si.caption=Si.thead,Si.th=Si.td;var $i=me.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),me(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Pn(e>=0?this[e]:this[this.length+e])},length:0,push:Hn,sort:[].sort,splice:[].splice},Ci={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){Ci[Fn(e)]=e});var Oi={};o("input select option textarea button form details".split(" "),function(e){Oi[e]=!0});var xi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Se,removeData:be,hasData:function(e){for(var t in di[e.ng339])return!0;return!1}},function(e,t){me[t]=e}),o({data:Se,inheritedData:ke,scope:function(e){return Pn.data(e,"$scope")||ke(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Pn.data(e,"$isolateScope")||Pn.data(e,"$isolateScopeNoTemplate")},controller:Te,injector:function(e){return ke(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,n){return t=pe(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var r=e.nodeType;if(r!==li&&2!==r&&8!==r)if(r=Fn(t),Ci[r]){if(!w(i))return e[t]||(e.attributes.getNamedItem(t)||m).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(w(i))e.setAttribute(t,i);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===ci||n===li?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===N(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(ye(e,!0),void(e.innerHTML=t))},empty:Ae},function(e,t){me.prototype[t]=function(t,i){var r,o,s=this.length;if(e!==Ae&&(2==e.length&&e!==$e&&e!==Te?t:i)===n){if(S(t)){for(r=0;s>r;r++)if(e===Se)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(r=e.$dv,s=r===n?Math.min(s,1):s,o=0;s>o;o++){var a=e(this[o],t,i);r=r?r+a:a}return r}for(r=0;s>r;r++)e(this[r],t,i);return this}}),o({removeData:be,on:function Do(e,t,n,i){if(w(i))throw gi("onargs");if(fe(e)){var r=we(e,!0);i=r.events;var o=r.handle;o||(o=r.handle=Ne(e,i));for(var r=0<=t.indexOf(" ")?t.split(" "):[t],s=r.length;s--;){t=r[s];var a=i[t];a||(i[t]=[],"mouseenter"===t||"mouseleave"===t?Do(e,mi[t],function(e){var n=e.relatedTarget;n&&(n===this||this.contains(n))||o(e,t)}):"$destroy"!==t&&e.addEventListener(t,o,!1),a=i[t]),a.push(n)}}},off:ve,one:function(e,t,n){e=Pn(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ye(e),o(new me(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===ci&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ci||11===n){t=new me(t);for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===ci){var n=e.firstChild;o(new me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Pn(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ie,detach:function(e){Ie(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new me(t);for(var r=0,o=t.length;o>r;r++){var s=t[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:Oe,removeClass:Ce,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;b(i)&&(i=!$e(e,t)),(i?Oe:Ce)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var i,r,s=t.type||t,a=we(e);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:s,target:e},t.type&&(i=d(i,t)),t=R(a),r=n?[i].concat(n):[i],o(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){me.prototype[t]=function(t,n,i){for(var r,o=0,s=this.length;s>o;o++)b(r)?(r=e(this[o],t,n,i),w(r)&&(r=Pn(r))):xe(r,e(this[o],t,n,i));return w(r)?r:this},me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off}),Re.prototype={put:function(e,t){this[De(e,this.nextUid)]=t},get:function(e){return this[De(e,this.nextUid)]},remove:function(e){var t=this[e=De(e,this.nextUid)];return delete this[e],t}};var Ti=[function(){this.$get=[function(){return Re}]}],ki=/^[^\(]*\(\s*([^\)]*)\)/m,Ai=/,/,Ii=/^\s*(_?)(\S+?)\1\s*$/,Mi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ei=i("$injector");_e.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw C(n)&&n||(n=e.name||Pe(e)),Ei("strictdi",n);t=e.toString().replace(Mi,""),t=t.match(ki),o(t[1].split(Ai),function(e){e.replace(Ii,function(e,t,n){i.push(n)})})}e.$inject=i}}else Qn(e)?(t=e.length-1,oe(e[t],"fn"),i=e.slice(0,t)):oe(e,"fn",!0);return i};var Li=i("$animate"),Ni=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,i){return e(function(e){t(function(){e()})}).then(n,i)}},n}]},ji=function(){var e=new Re,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(n,r,s){var a=e.get(n);a||(e.put(n,a={}),t.push(n)),n=function(e,t){var n=!1;return e&&(e=C(e)?e.split(" "):Qn(e)?e:[],o(e,function(e){e&&(n=!0,a[e]=t)})),n},r=n(r,!0),s=n(s,!1),!r&&!s||1<t.length||i.$$postDigest(function(){o(t,function(t){var n=e.get(t);if(n){var i=Fe(t.attr("class")),r="",s="";o(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:s+=(s.length?" ":"")+t)}),o(t,function(e){r&&Oe(e,r),s&&Ce(e,s)}),e.remove(t)}}),t.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,i,o){return o&&o(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&r(e,i.addClass,i.removeClass),new n}}}]},Di=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Li("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Li("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&Pn(i),r=r&&Pn(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",Ve(o))},move:function(n,i,r,o){return i=i&&Pn(i),r=r&&Pn(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",Ve(o))},leave:function(t,n){return e.push(t,"leave",Ve(n),function(){t.remove()})},addClass:function(t,n,i){return i=Ve(i),i.addClass=We(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=Ve(i),i.removeClass=We(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=Ve(r),r.addClass=We(r.addClass,n),r.removeClass=We(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=Ve(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,o.tempClasses=We(o.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],Ri=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[!0===e?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,i){function r(){return e(function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null),o||s.done(),o=!0}),s}i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:r,end:r}}}]},Pi=i("$compile");Ge.$inject=["$provide","$$sanitizeUriProvider"];var _i=/^((?:x|data)[\:\-_])/i,Ui=i("$controller"),Wi=/^(\S+)(\s+as\s+(\w+))?$/,Fi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Pn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Vi="application/json",Yi={"Content-Type":Vi+";charset=utf-8"},qi=/^\[|^\{(?!\{)/,Bi={"[":/]$/,"{":/}$/},Hi=/^\)\]\}',?\n/,Gi=i("$http"),zi=function(e){return function(){throw Gi("legacy",e)}},Zi=Kn.$interpolateMinErr=i("$interpolate");Zi.throwNoconcat=function(e){throw Zi("noconcat",e)},Zi.interr=function(e,t){return Zi("interr",e,t.toString())};var Ki=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Xi={http:80,https:443,ftp:21},Ji=i("$location"),Qi={$$html5:!1,$$replace:!1,absUrl:$t("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Ki.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:$t("$$protocol"),host:$t("$$host"),port:$t("$$port"),path:Ct("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||O(e))e=e.toString(),this.$$search=G(e);else{if(!S(e))throw Ji("isrcharg");e=D(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ct("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([St,wt,bt],function(e){e.prototype=Object.create(Qi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==bt||!this.$$html5)throw Ji("nostate");return this.$$state=b(t)?null:t,this}});var er=i("$parse"),tr=Function.prototype.call,nr=Function.prototype.apply,ir=Function.prototype.bind,rr=le();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){rr[e]=!0});var or={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},sr=function(e){this.options=e};sr.prototype={constructor:sr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=rr[t],r=rr[n];rr[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,er("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Fn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=or[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var ar=function(e,t){this.lexer=e,this.options=t};ar.Program="Program",ar.ExpressionStatement="ExpressionStatement",ar.AssignmentExpression="AssignmentExpression",ar.ConditionalExpression="ConditionalExpression",ar.LogicalExpression="LogicalExpression",ar.BinaryExpression="BinaryExpression",ar.UnaryExpression="UnaryExpression",ar.CallExpression="CallExpression",ar.MemberExpression="MemberExpression",ar.Identifier="Identifier",ar.Literal="Literal",ar.ArrayExpression="ArrayExpression",ar.Property="Property",ar.ObjectExpression="ObjectExpression",ar.ThisExpression="ThisExpression",ar.NGValueParameter="NGValueParameter",ar.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ar.Program,body:e}},expressionStatement:function(){return{type:ar.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:ar.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:ar.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ar.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ar.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ar.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=D(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:ar.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:ar.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:ar.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:ar.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ar.Identifier,name:e.text}},constant:function(){return{type:ar.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ar.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:ar.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ar.ObjectExpression,properties:t}},throwError:function(e,t){throw er("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw er("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw er("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return(e=this.peek(e,t,n,i))?(this.tokens.shift(),e):!1},constants:{"true":{type:ar.Literal,value:!0},"false":{type:ar.Literal,value:!1},"null":{type:ar.Literal,value:null},undefined:{type:ar.Literal,value:n},"this":{type:ar.ThisExpression}}},Rt.prototype={compile:function(e,t){var i=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Et(r,i.$filter);var s,a="";return this.stage="assign",(s=jt(r))&&(this.state.computing="assign",a=this.nextId(),this.recurse(s,a),a="fn.assign="+this.generateFunction("assign","s,v,l")),s=Lt(r.body),i.stage="inputs",o(s,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",a)(this.$filter,Tt,kt,At,It,Mt,e),this.state=this.stage=n,a.literal=Dt(r),a.constant=r.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,r,s,a){var c,l,u,d,p=this;if(r=r||m,!a&&w(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,r,s,!0));else switch(e.type){case ar.Program:o(e.body,function(t,i){p.recurse(t.expression,n,n,function(e){l=e}),i!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case ar.Literal:d=this.escape(e.value),this.assign(t,d),r(d);break;case ar.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),r(d);break;case ar.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){l=e}),d="+"===e.operator?this.plus(c,l):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(l,0):"("+c+")"+e.operator+"("+l+")",this.assign(t,d),r(d);break;case ar.LogicalExpression:
t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case ar.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case ar.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),Tt(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){s&&1!==s&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||_t(e.name))&&p.addEnsureSafeObject(t),r(t);break;case ar.MemberExpression:c=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,c,n,function(){p.if_(p.notNull(c),function(){e.computed?(l=p.nextId(),p.recurse(e.property,l),p.addEnsureSafeMemberName(l),s&&1!==s&&p.if_(p.not(p.computedMember(c,l)),p.lazyAssign(p.computedMember(c,l),"{}")),d=p.ensureSafeObject(p.computedMember(c,l)),p.assign(t,d),i&&(i.computed=!0,i.name=l)):(Tt(e.property.name),s&&1!==s&&p.if_(p.not(p.nonComputedMember(c,e.property.name)),p.lazyAssign(p.nonComputedMember(c,e.property.name),"{}")),d=p.nonComputedMember(c,e.property.name),(p.state.expensiveChecks||_t(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),i&&(i.computed=!1,i.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!s);break;case ar.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),d=l+"("+u.join(",")+")",p.assign(t,d),r(t)):(l=p.nextId(),c={},u=[],p.recurse(e.callee,l,c,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),o(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(p.ensureSafeObject(e))})}),c.name?(p.state.expensiveChecks||p.addEnsureSafeObject(c.context),d=p.member(c.context,c.name,c.computed)+"("+u.join(",")+")"):d=l+"("+u.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),r(t)}));break;case ar.AssignmentExpression:if(l=this.nextId(),c={},!Nt(e.left))throw er("lval");this.recurse(e.left,n,c,function(){p.if_(p.notNull(c.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(c.context,c.name,c.computed)),d=p.member(c.context,c.name,c.computed)+e.operator+l,p.assign(t,d),r(t||d)})},1);break;case ar.ArrayExpression:u=[],o(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),r(d);break;case ar.ObjectExpression:u=[],o(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){u.push(p.escape(e.key.type===ar.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),r(d);break;case ar.ThisExpression:this.assign(t,"s"),r("s");break;case ar.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var s=this;return function(){s.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(O(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw er("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Pt.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Et(i,n.$filter);var r,s;(r=jt(i))&&(s=this.recurse(r)),r=Lt(i.body);var a;r&&(a=[],o(r,function(e,t){var i=n.recurse(e);e.input=i,a.push(i),e.watchId=t}));var c=[];return o(i.body,function(e){c.push(n.recurse(e.expression))}),r=0===i.body.length?function(){}:1===i.body.length?c[0]:function(e,t){var n;return o(c,function(i){n=i(e,t)}),n},s&&(r.assign=function(e,t,n){return s(e,n,t)}),a&&(r.inputs=a),r.literal=Dt(i),r.constant=i.constant,r},recurse:function(e,t,i){var r,s,a,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ar.Literal:return this.value(e.value,t);case ar.UnaryExpression:return s=this.recurse(e.argument),this["unary"+e.operator](s,t);case ar.BinaryExpression:return r=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](r,s,t);case ar.LogicalExpression:return r=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](r,s,t);case ar.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ar.Identifier:return Tt(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||_t(e.name),t,i,c.expression);case ar.MemberExpression:return r=this.recurse(e.object,!1,!!i),e.computed||(Tt(e.property.name,c.expression),s=e.property.name),e.computed&&(s=this.recurse(e.property)),e.computed?this.computedMember(r,s,t,i,c.expression):this.nonComputedMember(r,s,c.expensiveChecks,t,i,c.expression);case ar.CallExpression:return a=[],o(e.arguments,function(e){a.push(c.recurse(e))}),e.filter&&(s=this.$filter(e.callee.name)),e.filter||(s=this.recurse(e.callee,!0)),e.filter?function(e,i,r,o){for(var c=[],l=0;l<a.length;++l)c.push(a[l](e,i,r,o));return e=s.apply(n,c,o),t?{context:n,name:n,value:e}:e}:function(e,n,i,r){var o,l=s(e,n,i,r);if(null!=l.value){kt(l.context,c.expression),At(l.value,c.expression),o=[];for(var u=0;u<a.length;++u)o.push(kt(a[u](e,n,i,r),c.expression));o=kt(l.value.apply(l.context,o),c.expression)}return t?{value:o}:o};case ar.AssignmentExpression:return r=this.recurse(e.left,!0,1),s=this.recurse(e.right),function(e,n,i,o){var a=r(e,n,i,o);return e=s(e,n,i,o),kt(a.value,c.expression),a.context[a.name]=e,t?{value:e}:e};case ar.ArrayExpression:return a=[],o(e.elements,function(e){a.push(c.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case ar.ObjectExpression:return a=[],o(e.properties,function(e){a.push({key:e.key.type===ar.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case ar.ThisExpression:return function(e){return t?{value:e}:e};case ar.NGValueParameter:return function(e,n,i,r){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=w(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=w(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,r,o){return n=!e(n,i,r,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s);return i=t(i,r,o,s),a=Mt(a,i),n?{value:a}:a}},"binary-":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s);return i=t(i,r,o,s),a=(w(a)?a:0)-(w(i)?i:0),n?{value:a}:a}},"binary*":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)*t(i,r,o,s),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)/t(i,r,o,s),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)%t(i,r,o,s),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)===t(i,r,o,s),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)!==t(i,r,o,s),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)==t(i,r,o,s),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)!=t(i,r,o,s),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)<t(i,r,o,s),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)>t(i,r,o,s),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)<=t(i,r,o,s),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)>=t(i,r,o,s),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)&&t(i,r,o,s),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,r,o,s){return i=e(i,r,o,s)||t(i,r,o,s),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(r,o,s,a){return r=e(r,o,s,a)?t(r,o,s,a):n(r,o,s,a),i?{value:r}:r}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,r,o){return function(s,a,c,l){return s=a&&e in a?a:s,r&&1!==r&&s&&!s[e]&&(s[e]={}),a=s?s[e]:n,t&&kt(a,o),i?{context:s,name:e,value:a}:a}},computedMember:function(e,t,n,i,r){return function(o,s,a,c){var l,u,d=e(o,s,a,c);return null!=d&&(l=t(o,s,a,c),Tt(l,r),i&&1!==i&&d&&!d[l]&&(d[l]={}),u=d[l],kt(u,r)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,i,r,o,s){return function(a,c,l,u){return a=e(a,c,l,u),o&&1!==o&&a&&!a[t]&&(a[t]={}),c=null!=a?a[t]:n,(i||_t(t))&&kt(c,s),r?{context:a,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var cr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new ar(this.lexer),this.astCompiler=n.csp?new Pt(this.ast,t):new Rt(this.ast,t)};cr.prototype={constructor:cr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}},le(),le();var lr=Object.prototype.valueOf,ur=i("$sce"),dr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pi=i("$compile"),pr=t.createElement("a"),fr=tn(e.location.href);on.$inject=["$document"],an.$inject=["$provide"],pn.$inject=["$locale"],fn.$inject=["$locale"];var hr=".",mr={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:yn("Month"),MMM:yn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:yn("Day"),EEE:yn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(mn(Math[e>0?"floor":"ceil"](e/60),2)+mn(Math.abs(e%60),2))},ww:bn(2),w:bn(1),G:wn,GG:wn,GGG:wn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},gr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yr=/^\-?\d+$/;Sn.$inject=["$locale"];var vr=y(Fn),br=y(Yn);On.$inject=["$parse"];var wr=y({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Gn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Sr={};o(Ci,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=ze("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Sr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(xi,function(e,t){Sr[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Wn))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=ze("ng-"+e);Sr[t]=function(){return{priority:99,link:function(n,i,r){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Gn.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(s,t),Rn&&o&&i.prop(o,r[s])):"href"===e&&r.$set(s,null)})}}}});var $r={$addControl:m,$$renameControl:function(e,t){e.$name=t},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m};Tn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Cr=function(e){return["$timeout","$parse",function(t,i){function r(e){return""===e?i('this[""]').assign:i(e).assign||m}return{name:"form",restrict:e?"EAC":"E",controller:Tn,compile:function(i,o){i.addClass(io).addClass(to);var s=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,i,o,a){if(!("action"in o)){var c=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",c,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",c,!1)},0,!1)})}var l=a.$$parentForm,u=s?r(a.$name):m;s&&(u(e,a),o.$observe(s,function(t){a.$name!==t&&(u(e,n),l.$$renameControl(a,t),(u=r(a.$name))(e,a))})),i.on("$destroy",function(){l.$removeControl(a),u(e,n),d(a,$r)})}}}}}]},Or=Cr(),xr=Cr(!0),Tr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,kr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ar=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ir=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Mr=/^(\d{4})-(\d{2})-(\d{2})$/,Er=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Lr=/^(\d{4})-W(\d\d)$/,Nr=/^(\d{4})-(\d\d)$/,jr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dr={text:function(e,t,n,i,r,o){An(e,t,n,i,r,o),kn(i)},date:Mn("date",Mr,In(Mr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Mn("datetimelocal",Er,In(Er,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Mn("time",jr,In(jr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Mn("week",Lr,function(e,t){if(x(e))return e;if(C(e)){Lr.lastIndex=0;var n=Lr.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,c=vn(i),r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds()),new Date(i,0,c.getDate()+r,n,o,s,a)}}return NaN},"yyyy-Www"),month:Mn("month",Nr,In(Nr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,r,o,s){if(En(e,t,i,r),An(e,t,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Ir.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!O(e))throw so("numfmt",e);e=e.toString()}return e}),w(i.min)||i.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||b(a)||e>=a},i.$observe("min",function(e){w(e)&&!O(e)&&(e=parseFloat(e,10)),a=O(e)&&!isNaN(e)?e:n,r.$validate()})}if(w(i.max)||i.ngMax){var c;r.$validators.max=function(e){return r.$isEmpty(e)||b(c)||c>=e},i.$observe("max",function(e){w(e)&&!O(e)&&(e=parseFloat(e,10)),c=O(e)&&!isNaN(e)?e:n,r.$validate()})}},url:function(e,t,n,i,r,o){An(e,t,n,i,r,o),kn(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||kr.test(n)}},email:function(e,t,n,i,r,o){An(e,t,n,i,r,o),kn(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Ar.test(n)}},radio:function(e,t,n,i){b(n.name)&&t.attr("name",++Xn),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,r,o,s,a){var c=Ln(a,e,"ngTrueValue",n.ngTrueValue,!0),l=Ln(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return P(e,c)}),i.$parsers.push(function(e){return e?c:l})},hidden:m,button:m,submit:m,reset:m,file:m},Rr=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Dr[Fn(s.type)]||Dr.text)(r,o,s,a[0],t,e,n,i)}}}}],Pr=/^(true|false|\d+)$/,_r=function(){return{restrict:"A",priority:100,compile:function(e,t){return Pr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ur=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,r){e.$$addBindingInfo(i,r.ngBind),i=i[0],t.$watch(r.ngBind,function(e){i.textContent=e===n?"":e})}}}}],Wr=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,o){i=e(r.attr(o.$attr.ngBindTemplate)),t.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===n?"":e})}}}}],Fr=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),s=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(s,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],Vr=y({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Yr=Nn("",!0),qr=Nn("Odd",0),Br=Nn("Even",1),Hr=xn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Gr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],zr={},Zr={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=ze("ng-"+e);zr[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){s(t,{$event:n})};Zr[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Kr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,c,l;n.$watch(r.ngIf,function(n){n?c||s(function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},e.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),a&&(l=ce(a.clone),e.leave(l).then(function(){l=null}),a=null))})}}}],Xr=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Kn.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,c,l,u){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};i.$watch(o,function(o){var c=function(){!w(a)||a&&!i.$eval(a)||t()},p=++h;o?(e(o,!0).then(function(e){if(p===h){var t=i.$new();l.template=e,e=u(t,function(e){m(),n.enter(e,null,r).then(c)}),d=t,f=e,d.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){p===h&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),l.template=null)})}}}}],Jr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),e(he(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),e(i.contents())(n))}}}],Qr=xn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),eo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var s=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,c=a?ti(s):s;r.$parsers.push(function(e){if(!b(e)){var t=[];return e&&o(e.split(c),function(e){e&&t.push(a?ti(e):e)}),t}}),r.$formatters.push(function(e){return Qn(e)?e.join(s):n}),r.$isEmpty=function(e){return!e||!e.length}}}},to="ng-valid",no="ng-invalid",io="ng-pristine",ro="ng-dirty",oo="ng-pending",so=i("ngModel"),ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,s,a,c,l,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e);var p,f=s(i.ngModel),h=f.assign,g=f,y=h,v=null,S=this;this.$$setOptions=function(e){if((S.$options=e)&&e.getterSetter){var t=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");g=function(e){var n=f(e);return T(n)&&(n=t(e)),n},y=function(e,t){T(f(e))?n(e,{$$$p:S.$modelValue}):h(e,S.$modelValue)}}else if(!f.assign)throw so("nonassign",i.ngModel,B(r))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var $=r.inheritedData("$formController")||$r,C=0;jn({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:$,$animate:a}),this.$setPristine=function(){S.$dirty=!1,S.$pristine=!0,a.removeClass(r,ro),a.addClass(r,io)},this.$setDirty=function(){S.$dirty=!0,S.$pristine=!1,a.removeClass(r,io),a.addClass(r,ro),$.$setDirty()},this.$setUntouched=function(){S.$touched=!1,S.$untouched=!0,a.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){S.$touched=!0,S.$untouched=!1,a.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){c.cancel(v),S.$viewValue=S.$$lastCommittedViewValue,S.$render()},this.$validate=function(){if(!O(S.$modelValue)||!isNaN(S.$modelValue)){var e=S.$$rawModelValue,t=S.$valid,i=S.$modelValue,r=S.$options&&S.$options.allowInvalid;S.$$runValidators(e,S.$$lastCommittedViewValue,function(o){r||t===o||(S.$modelValue=o?e:n,S.$modelValue!==i&&S.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){function r(){var n=!0;return o(S.$validators,function(i,r){var o=i(e,t);n=n&&o,a(r,o)}),n?!0:(o(S.$asyncValidators,function(e,t){a(t,null)}),!1)}function s(){var i=[],r=!0;o(S.$asyncValidators,function(o,s){var c=o(e,t);if(!c||!T(c.then))throw so("$asyncValidators",c);a(s,n),i.push(c.then(function(){a(s,!0)},function(e){r=!1,a(s,!1)}))}),i.length?u.all(i).then(function(){c(r)},m):c(!0)}function a(e,t){l===C&&S.$setValidity(e,t)}function c(e){l===C&&i(e)}C++;var l=C;(function(){var e=S.$$parserName||"parse";return p!==n?(p||(o(S.$validators,function(e,t){a(t,null)}),o(S.$asyncValidators,function(e,t){a(t,null)})),a(e,p),p):(a(e,null),!0)})()&&r()?s():c(!1)},this.$commitViewValue=function(){var e=S.$viewValue;c.cancel(v),(S.$$lastCommittedViewValue!==e||""===e&&S.$$hasNativeValidators)&&(S.$$lastCommittedViewValue=e,S.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=S.$$lastCommittedViewValue;if(p=b(t)?n:!0)for(var i=0;i<S.$parsers.length;i++)if(t=S.$parsers[i](t),b(t)){p=!1;break}O(S.$modelValue)&&isNaN(S.$modelValue)&&(S.$modelValue=g(e));var r=S.$modelValue,o=S.$options&&S.$options.allowInvalid;S.$$rawModelValue=t,o&&(S.$modelValue=t,S.$modelValue!==r&&S.$$writeModelToScope()),S.$$runValidators(t,S.$$lastCommittedViewValue,function(e){o||(S.$modelValue=e?t:n,S.$modelValue!==r&&S.$$writeModelToScope())})},this.$$writeModelToScope=function(){y(e,S.$modelValue),o(S.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){S.$viewValue=e,S.$options&&!S.$options.updateOnDefault||S.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=S.$options;i&&w(i.debounce)&&(i=i.debounce,O(i)?n=i:O(i[t])?n=i[t]:O(i["default"])&&(n=i["default"])),c.cancel(v),n?v=c(function(){S.$commitViewValue()},n):l.$$phase?S.$commitViewValue():e.$apply(function(){S.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==S.$modelValue&&(S.$modelValue===S.$modelValue||t===t)){S.$modelValue=S.$$rawModelValue=t,p=n;for(var i=S.$formatters,r=i.length,o=t;r--;)o=i[r](o);S.$viewValue!==o&&(S.$viewValue=S.$$lastCommittedViewValue=o,S.$render(),S.$$runValidators(t,o,m))}return t})}],co=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ao,priority:1,compile:function(t){return t.addClass(io).addClass("ng-untouched").addClass(to),{pre:function(e,t,n,i){var r=i[0],o=i[1]||$r;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],lo=/(\s+|^)default(\s+|$)/,uo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=D(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ti(this.$options.updateOn.replace(lo,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},po=xn({terminal:!0,priority:1e3}),fo=i("ngOptions"),ho=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,mo=["$compile","$parse",function(e,n){function i(e,t,i){function o(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function s(e){var t;if(!l&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var a=e.match(ho);if(!a)throw fo("iexp",e,B(t));var c=a[5]||a[7],l=a[6];e=/ as /.test(a[0])&&a[1];var u=a[9];t=n(a[2]?a[1]:c);var d=e&&n(e)||t,p=u&&n(u),f=u?function(e,t){return p(i,t)}:function(e){return De(e)},h=function(e,t){return f(e,w(e,t))},m=n(a[2]||a[1]),g=n(a[3]||""),y=n(a[4]||""),v=n(a[8]),b={},w=l?function(e,t){return b[l]=t,b[c]=e,b}:function(e){return b[c]=e,b};return{trackBy:u,getTrackByValue:h,getWatchables:n(v,function(e){var t=[];e=e||[];for(var n=s(e),r=n.length,o=0;r>o;o++){var c=e===n?o:n[o],l=w(e[c],c),c=f(e[c],l);t.push(c),(a[2]||a[1])&&(c=m(i,l),t.push(c)),a[4]&&(l=y(i,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=v(i)||[],r=s(n),a=r.length,c=0;a>c;c++){var l=n===r?c:r[c],p=w(n[l],l),b=d(i,p),l=f(b,p),S=m(i,p),$=g(i,p),p=y(i,p),b=new o(l,b,S,$,p);e.push(b),t[l]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return u?Kn.copy(e.viewValue):e.viewValue}}}}}var s=t.createElement("option"),a=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,r,c){function l(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function u(e,t,n,i){return t&&Fn(t.nodeName)===n?n=t:(n=i.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Ie(e),e=t}function p(e){var t=g&&g[0],n=S&&S[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function f(){var e=$&&m.readValue();$=C.getOptions();var t={},i=n[0].firstChild;if(w&&n.prepend(g),i=p(i),$.items.forEach(function(e){var r,o;e.group?(r=t[e.group],r||(r=u(n[0],i,"optgroup",a),i=r.nextSibling,r.label=e.group,r=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),o=u(r.groupElement,r.currentOptionElement,"option",s),l(e,o),r.currentOptionElement=o.nextSibling):(o=u(n[0],i,"option",s),l(e,o),i=o.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(i),h.$render(),!h.$isEmpty(e)){var r=m.readValue();(C.trackBy?P(e,r):e===r)||(h.$setViewValue(r),h.$render())}}var h=c[1];if(h){var m=c[0];c=r.multiple;for(var g,y=0,v=n.children(),b=v.length;b>y;y++)if(""===v[y].value){g=v.eq(y);break}var w=!!g,S=Pn(s.cloneNode(!1));S.val("?");var $,C=i(r.ngOptions,n,t);c?(h.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){$.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=$.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){(e=$.selectValueMap[e])&&!e.disabled&&t.push($.getViewValueFromOption(e))}),t},C.trackBy&&t.$watchCollection(function(){return Qn(h.$viewValue)?h.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){h.$render()})):(m.writeValue=function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(S.remove(),w||g.remove(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||w?(S.remove(),w||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)):(w||g.remove(),n.prepend(S),n.val("?"),S.prop("selected",!0),S.attr("selected",!0))},m.readValue=function(){var e=$.selectValueMap[n.val()];return e&&!e.disabled?(w||g.remove(),S.remove(),$.getViewValueFromOption(e)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(h.$viewValue)},function(){h.$render()})),w?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=Pn(s.cloneNode(!1)),f(),t.$watchCollection(C.getWatchables,f)}}}}],go=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,c){function l(e){a.text(e||"")}var u,d=c.count,p=c.$attr.when&&a.attr(c.$attr.when),f=c.offset||0,h=s.$eval(p)||{},g={},y=t.startSymbol(),v=t.endSymbol(),w=y+d+"-"+f+v,S=Kn.noop;o(c,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+Fn(n[2]),h[n]=a.attr(c.$attr[t]))}),o(h,function(e,n){g[n]=t(e.replace(i,w))}),s.$watch(d,function(t){var i=parseFloat(t),r=isNaN(i);r||i in h||(i=e.pluralCat(i-f)),i===u||r&&O(u)&&isNaN(u)||(S(),r=g[i],b(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),S=m,l()):S=s.$watch(r,l),u=i)})}}}],yo=["$parse","$animate",function(e,s){var a=i("ngRepeat"),c=function(e,t,n,i,r,o,s){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var u=l.ngRepeat,d=t.createComment(" end ngRepeat: "+u+" "),p=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp",u);var f=p[1],h=p[2],m=p[3],g=p[4],p=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw a("iidexp",f);var y=p[3]||p[1],v=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident",m);var b,w,S,$,C={$id:De};return g?b=e(g):(S=function(e,t){return De(t)},$=function(e){return e}),function(e,t,i,l,p){b&&(w=function(t,n,i){return v&&(C[v]=t),C[y]=n,C.$index=i,b(e,C)});var f=le();e.$watchCollection(h,function(i){
var l,h,g,b,C,O,x,T,k,A,I=t[0],M=le();if(m&&(e[m]=i),r(i))T=i,h=w||S;else for(A in h=w||$,T=[],i)i.hasOwnProperty(A)&&"$"!==A.charAt(0)&&T.push(A);for(b=T.length,A=Array(b),l=0;b>l;l++)if(C=i===T?l:T[l],O=i[C],x=h(C,O,l),f[x])k=f[x],delete f[x],M[x]=k,A[l]=k;else{if(M[x])throw o(A,function(e){e&&e.scope&&(f[e.id]=e)}),a("dupes",u,x,O);A[l]={id:x,scope:n,clone:n},M[x]=!0}for(g in f){if(k=f[g],x=ce(k.clone),s.leave(x),x[0].parentNode)for(l=0,h=x.length;h>l;l++)x[l].$$NG_REMOVED=!0;k.scope.$destroy()}for(l=0;b>l;l++)if(C=i===T?l:T[l],O=i[C],k=A[l],k.scope){g=I;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);k.clone[0]!=g&&s.move(ce(k.clone),null,Pn(I)),I=k.clone[k.clone.length-1],c(k.scope,l,y,O,v,C,b)}else p(function(e,t){k.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,s.enter(e,null,Pn(I)),I=n,k.clone=e,M[k.id]=k,c(k.scope,l,y,O,v,C,b)});f=M})}}}}],vo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],bo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],wo=xn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),So=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],c=[],l=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=l.length;r>i;++i)e.cancel(l[i]);for(i=l.length=0,r=u.length;r>i;++i){var p=ce(c[i].clone);u[i].$destroy(),(l[i]=e.leave(p)).then(d(l,i))}c.length=0,u.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: "),c.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],$o=xn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Co=xn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Oo=xn({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan",B(t));o(function(e){t.empty(),t.append(e)})}}),xo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],To={$setViewValue:m,$render:m},ko=["$element","$scope","$attrs",function(e,i,r){var o=this,s=new Re;o.ngModelCtrl=To,o.unknownOption=Pn(t.createElement("option")),o.renderUnknownOption=function(t){t="? "+De(t)+" ?",o.unknownOption.val(t),e.prepend(o.unknownOption),e.val(t)},i.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){se(e,'"option value"'),""===e&&(o.emptyOption=t);var n=s.get(e)||0;s.put(e,n+1)},o.removeOption=function(e){var t=s.get(e);t&&(1===t?(s.remove(e),""===e&&(o.emptyOption=n)):s.put(e,t-1))},o.hasOption=function(e){return!!s.get(e)}}],Ao=function(){return{restrict:"E",require:["select","?ngModel"],controller:ko,link:function(e,t,n,i){var r=i[1];if(r){var s=i[0];if(s.ngModelCtrl=r,r.$render=function(){s.writeValue(r.$viewValue)},t.on("change",function(){e.$apply(function(){r.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},s.writeValue=function(e){var n=new Re(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var a,c=NaN;e.$watch(function(){c!==r.$viewValue||P(a,r.$viewValue)||(a=R(r.$viewValue),r.$render()),c=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}}}}},Io=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,i){if(b(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.ngModelCtrl&&(r?e.$watch(r,function(e,r){i.$set("value",e),r!==e&&s.removeOption(r),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(i.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(i.value),s.ngModelCtrl.$render()}))}}}}],Mo=y({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Lo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(C(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",a,e,B(t));s=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||b(s)||s.test(e)}}}}},No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=f(e),r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=f(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(ie(),de(Kn),Kn.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,i){var r=0|e,o=i;return n===o&&(o=Math.min(t(e),3)),Math.pow(10,o),1==r&&0==o?"one":"other"}})}]),Pn(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),e.angular=angular}.apply(e,arguments)})}(this),function(e){define("angular-route",["angular"],function(){return function(){!function(e,t,n){"use strict";function i(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,s,a,c){function l(){f&&(i.cancel(f),f=null),d&&(d.$destroy(),d=null),p&&(f=i.leave(p),f.then(function(){f=null}),p=null)}function u(){var s=e.current&&e.current.locals;if(t.isDefined(s&&s.$template)){var s=r.$new(),a=e.current;p=c(s,function(e){i.enter(e,null,p||o).then(function(){!t.isDefined(h)||h&&!r.$eval(h)||n()}),l()}),d=a.scope=s,d.$emit("$viewContentLoaded"),d.$eval(m)}else l()}var d,p,f,h=s.autoscroll,m=s.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,s=o.locals;r.html(s.$template);var a=e(r.contents());o.controller&&(s.$scope=i,s=t(o.controller,s),o.controllerAs&&(i[o.controllerAs]=s),r.data("$ngControllerController",s),r.children().data("$ngControllerController",s)),a(i)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){return e="?"===i?i:null,i="*"===i?i:null,r.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(i&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){var o=t.copy(r);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(o,e&&n(e,o)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[s]=t.extend({redirectTo:e},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,s,a,c,l,u){function d(e){var i=v.current;(g=(m=f())&&i&&m.$$route===i.$$route&&t.equals(m.pathParams,i.pathParams)&&!m.reloadOnSearch&&!y)||!i&&!m||n.$broadcast("$routeChangeStart",m,i).defaultPrevented&&e&&e.preventDefault()}function p(){var e=v.current,i=m;g?(e.params=i.params,t.copy(e.params,s),n.$broadcast("$routeUpdate",e)):(i||e)&&(y=!1,(v.current=i)&&i.redirectTo&&(t.isString(i.redirectTo)?r.path(h(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),a.when(i).then(function(){if(i){var e,n,r=t.extend({},i.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?c.get(e):c.invoke(e,null,null,n)}),t.isDefined(e=i.template)?t.isFunction(e)&&(e=e(i.params)):t.isDefined(n=i.templateUrl)&&(t.isFunction(n)&&(n=n(i.params)),t.isDefined(n)&&(i.loadedTemplateUrl=u.valueOf(n),e=l(n))),t.isDefined(e)&&(r.$template=e),a.all(r)}}).then(function(r){i==v.current&&(i&&(i.locals=r,t.copy(i.params,s)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i==v.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function f(){var n,o;return t.forEach(i,function(i,s){var a;if(a=!o){var c=r.path();a=i.keys;var l={};if(i.regexp)if(c=i.regexp.exec(c)){for(var u=1,d=c.length;d>u;++u){var p=a[u-1],f=c[u];p&&f&&(l[p.name]=f)}a=l}else a=null;else a=null;a=n=a}a&&(o=e(i,{params:t.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&e(i[null],{params:{},pathParams:{}})}function h(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var m,g,y=!1,v={routes:i,reload:function(){y=!0,n.$evalAsync(function(){d(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout");e=t.extend({},this.current.params,e),r.path(h(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),v}]});var o=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",i),e.directive("ngView",r),i.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular)}.apply(e,arguments)})}(this),define("platform/framework/src/Main",["require","es6-promise","./FrameworkLayer","angular","angular-route"],function(e,t,n,i){"use strict";function r(){}return r.prototype.run=function(e){function r(){var e=/[?&]log=([a-z]+)/.exec(window.location.search);return e?e[1]:""}var o=i.injector(["ng"]);window.Promise=window.Promise||t.Promise,requirejs.config({baseUrl:""}),o.instantiate(["$http","$log",n]).initializeApplication(i,e,r())},r}),define("src/BundleRegistry",[],function(){"use strict";function e(){this.bundles={}}return e.prototype.register=function(e,t){this.bundles[e]=t},e.prototype.contains=function(e){return!!this.bundles[e]},e.prototype.get=function(e){return this.bundles[e]},e.prototype.list=function(){return Object.keys(this.bundles)},e.prototype.remove=function(e){delete this.bundles[e]},e}),define("legacyRegistry",["src/BundleRegistry"],function(e){"use strict";return new e}),define("platform/framework/bundle",["legacyRegistry"],function(e){"use strict";e.register("platform/framework",{name:"Open MCT Web Framework Component",description:"Framework layer for Open MCT Web; interprets bundle definitions and serves as an intermediary between Require and Angular",libraries:"lib",configuration:{paths:{angular:"angular.min"},shim:{angular:{exports:"angular"}}},extensions:{licenses:[{name:"Blanket.js",version:"1.1.5",description:"Code coverage measurement and reporting",author:"Alex Seville",website:"http://blanketjs.org/",copyright:"Copyright (c) 2013 Alex Seville",license:"license-mit",link:"http://opensource.org/licenses/MIT"},{name:"Jasmine",version:"1.3.1",description:"Unit testing",author:"Pivotal Labs",website:"http://jasmine.github.io/",copyright:"Copyright (c) 2008-2011 Pivotal Labs",license:"license-mit",link:"http://opensource.org/licenses/MIT"},{name:"RequireJS",version:"2.1.22",description:"Script loader",author:"The Dojo Foundation",website:"http://requirejs.org/",copyright:"Copyright (c) 2010-2015, The Dojo Foundation",license:"license-mit",link:"https://github.com/jrburke/requirejs/blob/master/LICENSE"},{name:"AngularJS",version:"1.4.4",description:"Client-side web application framework",author:"Google",website:"http://angularjs.org/",copyright:"Copyright (c) 2010-2015 Google, Inc. http://angularjs.org",license:"license-mit",link:"https://github.com/angular/angular.js/blob/v1.4.4/LICENSE"},{name:"Angular-Route",version:"1.4.4",description:"Client-side view routing",author:"Google",website:"http://angularjs.org/",copyright:"Copyright (c) 2010-2015 Google, Inc. http://angularjs.org",license:"license-mit",link:"https://github.com/angular/angular.js/blob/v1.4.4/LICENSE"},{name:"ES6-Promise",version:"3.0.2",description:"Promise polyfill for pre-ECMAScript 6 browsers",author:"Yehuda Katz, Tom Dale, Stefan Penner and contributors",website:"https://github.com/jakearchibald/es6-promise",copyright:"Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors",license:"license-mit",link:"https://github.com/jakearchibald/es6-promise/blob/master/LICENSE"}]}})}),define("platform/core/src/objects/DomainObjectProvider",[],function(){"use strict";function e(e,t,n){this.modelService=e,this.instantiate=t}return e.prototype.getObjects=function(e){function t(t){var n={};return e.forEach(function(e,r){t[e]&&(n[e]=i(t[e],e))}),n}var n=this.modelService,i=this.instantiate;return n.getModels(e).then(t)},e}),define("platform/core/src/capabilities/CoreCapabilityProvider",[],function(){"use strict";function e(e,t){function n(t){return e.filter(function(e){return e.appliesTo?e.appliesTo(t):!0})}function i(e){var n={};return e.forEach(function(e){e.key?n[e.key]=n[e.key]||e:t.warn("No key defined for capability; skipping.")}),n}function r(e){return i(n(e))}return{getCapabilities:r}}return e}),define("platform/core/src/models/StaticModelProvider",[],function(){"use strict";function e(e,t,n){function i(e){"object"!=typeof e||"string"!=typeof e.id||"object"!=typeof e.model?n.warn(["Skipping malformed domain object model exposed by ",((e||{}).bundle||{}).path].join("")):r[e.id]=e.model}var r={};e.forEach(i),this.modelMap=r,this.$q=t}return e.prototype.getModels=function(e){var t=this.modelMap,n={};return e.forEach(function(e){n[e]=t[e]}),this.$q.when(n)},e}),define("platform/core/src/models/RootModelProvider",["./StaticModelProvider"],function(e){"use strict";function t(t,n,i){var r=t.map(function(e){return e.id});t.forEach(function(e){e.model||(e.model={}),e.model.location="ROOT"}),this.baseProvider=new e(t,n,i),this.rootModel={name:"The root object",type:"root",composition:r}}return t.prototype.getModels=function(e){var t=this.rootModel;return this.baseProvider.getModels(e).then(function(e){return e.ROOT=t,e})},t}),define("platform/core/src/models/ModelAggregator",[],function(){"use strict";function e(e,t){this.providers=t,this.$q=e}function t(e,t){var n=(e||{}).modified||Number.NEGATIVE_INFINITY,i=(t||{}).modified||Number.NEGATIVE_INFINITY;return n>i?e:t||e}function n(e,n){var i={};return n.forEach(function(n){e.forEach(function(e){e[n]&&(i[n]=t(i[n],e[n]))})}),i}return e.prototype.getModels=function(e){return this.$q.all(this.providers.map(function(t){return t.getModels(e)})).then(function(t){return n(t,e)})},e}),define("platform/core/src/models/ModelCacheService",[],function(){"use strict";function e(){this.cache={}}return e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.get=function(e){return this.cache[e]},e.prototype.has=function(e){return this.cache.hasOwnProperty(e)},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.all=function(){return this.cache},e}),define("platform/core/src/models/PersistedModelProvider",[],function(){"use strict";function e(e,t,n,i){this.persistenceService=e,this.$q=t,this.now=n,this.defaultSpace=i}return e.prototype.getModels=function(e){function t(e){return a.readObject(e.space,e.key)}function n(e){return e&&void 0===e.persisted&&(e.persisted=void 0!==e.modified?e.modified:l()),e}function i(e,t){var n={};return e.forEach(function(e,i){var r=e.id;t[i]&&(n[r]=t[i])}),n}function r(e){return c.all(e.map(t)).then(function(t){return i(e,t.map(n))})}function o(e){return s.filter(function(t){return-1!==e.indexOf(t.space)})}var s,a=this.persistenceService,c=this.$q,l=this.now,u=this.defaultSpace;return s=e.map(function(e){var t=e.split(":");return t.length>1?{id:e,space:t[0],key:t.slice(1).join(":")}:{id:e,space:u,key:e}}),a.listSpaces().then(o).then(r)},e}),define("platform/core/src/models/CachingModelDecorator",[],function(){"use strict";function e(e,t){this.cacheService=e,this.modelService=t}function t(e){return(e||{}).then?e:{then:function(n){return t(n(e))}}}return e.prototype.getModels=function(e){function n(e,t){var n=o.get(e);return n===t?t:void 0===n||void 0===t?(o.put(e,t),t):(Object.keys(n).forEach(function(e){delete n[e]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n)}function i(e){Object.keys(e).forEach(function(t){var i=o.has(t)?n(t,e[t]):e[t];o.put(t,i)})}function r(){return o.all()}var o=this.cacheService,s=e.filter(function(e){return!o.has(e)});return s.length>0?this.modelService.getModels(s).then(i).then(r):t(o.all())},e}),define("platform/core/src/models/MissingModelDecorator",[],function(){"use strict";function e(e){this.modelService=e}function t(e){return{type:"unknown",name:"Missing: "+e}}return e.prototype.getModels=function(e){function n(n){var i={};return e.forEach(function(e){i[e]=n[e]||t(e)}),i}return this.modelService.getModels(e).then(n)},e}),define("platform/core/src/types/TypePropertyConversion",[],function(){"use strict";function e(e){return{toModelValue:function(t){return t&&t.map(e.toModelValue)},toFormValue:function(t){return t&&t.map(e.toFormValue)}}}function t(r){if(r&&r.length>i.length&&-1!==r.indexOf(i,r.length-i.length))return new e(new t(r.substring(0,r.length-i.length)));if(!n[r])throw new Error("Unknown conversion type: "+r);return n[r]}var n={number:{toModelValue:parseFloat,toFormValue:function(e){return"number"==typeof e?e.toString(10):void 0}},identity:{toModelValue:function(e){return e},toFormValue:function(e){return e}}},i="[]";return t}),define("platform/core/src/types/TypeProperty",["./TypePropertyConversion"],function(e){"use strict";function t(t){this.conversion=new e(t.conversion||"identity"),this.propertyDefinition=t}function n(e){var t;if(!Array.isArray(e)||0===e.length)return!1;for(t=0;t<e.length;t+=1)if(void 0!==e[t])return!1;return!0}function i(e,t,n){Array.isArray(t)?t.length>1?(e[t[0]]=e[t[0]]||{},i(e[t[0]],t.slice(1),n)):1===t.length&&(e[t[0]]=n):e[t]=n}function r(e,t){var n;if(e)return Array.isArray(t)?t.length>0?(n=e[t[0]],t.length>1?r(n,t.slice(1)):n):void 0:e[t]}return t.prototype.getValue=function(e){var t=this.propertyDefinition.property||this.propertyDefinition.key,n=t&&r(e,t);return Array.isArray(this.propertyDefinition.items)&&(n=n||new Array(this.propertyDefinition.items.length)),this.conversion.toFormValue(n)},t.prototype.setValue=function(e,t){var r=this.propertyDefinition.property||this.propertyDefinition.key;return t=n(t)?void 0:t,t=this.conversion.toModelValue(t),r?i(e,r,t):void 0},t.prototype.getDefinition=function(){return this.propertyDefinition},t}),define("platform/core/src/types/TypeImpl",["./TypeProperty"],function(e){"use strict";function t(e){var t=e.inherits||[],n={};(e.features||[]).forEach(function(e){n[e]=!0}),this.typeDef=e,this.featureSet=n,this.inheritList=t}return t.prototype.getKey=function(){return this.typeDef.key},t.prototype.getName=function(){return this.typeDef.name},t.prototype.getDescription=function(){return this.typeDef.description},t.prototype.getGlyph=function(){return this.typeDef.glyph},t.prototype.getProperties=function(){return(this.typeDef.properties||[]).map(function(t){return new e(t)})},t.prototype.getInitialModel=function(){return JSON.parse(JSON.stringify(this.typeDef.model||{}))},t.prototype.getDefinition=function(){return this.typeDef},t.prototype.instanceOf=function(e){var t=this.typeDef,n=this.inheritList;return e===t.key?!0:n.indexOf(e)>-1?!0:e?null!==e&&"object"==typeof e&&e.getKey?this.instanceOf(e.getKey()):!1:!0},t.prototype.hasFeature=function(e){return this.featureSet[e]||!1},t}),define("platform/core/src/types/MergeModels",[],function(){"use strict";function e(t,n,i){function r(e,t){return e.concat(t)}function o(t,n){var r={};return Object.keys(t).forEach(function(o){r[o]=n.hasOwnProperty(o)?e(t[o],n[o],(i||{})[o]):t[o]}),Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(r[e]=n[e])}),r}function s(e,t){return t}var a;return(a=i&&Function.isFunction(i)?i:Array.isArray(t)&&Array.isArray(n)?r:t instanceof Object&&n instanceof Object?o:s)(t,n)}return e}),define("platform/core/src/types/TypeProvider",["./TypeImpl","./MergeModels"],function(e,t){"use strict";function n(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}function i(e){var t={};return e?e.filter(function(e){return e instanceof Object&&!(e instanceof String)?!0:t[e]?!1:t[e]=!0}):e}function r(e){var r=e.reduce(function(e,i){var r={};return n(r,e),n(r,i),a.forEach(function(n){e[n]&&i[n]&&(r[n]=t(e[n],i[n]))}),s.forEach(function(t){(e[t]||i[t])&&(r[t]=(e[t]||[]).concat(i[t]||[]))}),r},{});return s.forEach(function(e){r[e]&&(r[e]=i(r[e]))}),r}function o(e){var t=e,n=function(e){var t={};return e.forEach(function(e){var n=e.key;n&&(t[n]=(t[n]||[]).concat(e))}),t}(t);this.typeMap={},this.typeDefinitions=n,this.rawTypeDefinitions=e}var s=["inherits","capabilities","properties","features"],a=["model"];return o.prototype.listTypes=function(){var e=this;return i(this.rawTypeDefinitions.filter(function(e){return e.key}).map(function(e){return e.key}).map(function(t){return e.getType(t)}))},o.prototype.getType=function(t){function n(){return a.undefinedType=a.undefinedType||r(a.rawTypeDefinitions.filter(function(e){return!e.key}))}function i(e){return Array.isArray(e)?e:[e]}function o(e){function t(e){var t=s[e]||[],a=t.map(function(e){return i(e.inherits||[])}).reduce(function(e,t){return e.concat(t)},[]),c=r([n()].concat(a.map(o)).concat(t));return c.model=c.model||{},c.model.name=c.model.name||"Unnamed "+(c.name||"Object"),c}return a.typeMap[e]=a.typeMap[e]||t(e)}var s=this.typeDefinitions,a=this;return new e(o(t))},o}),define("platform/core/src/actions/ActionProvider",[],function(){"use strict";function e(e,t){var n=this;this.$log=t,this.actions=e,this.actionsByKey={},this.actionsByCategory={},e.forEach(function(e){var t=e.category||[];t=Array.isArray(t)?t:[t],t.forEach(function(t){n.actionsByCategory[t]=n.actionsByCategory[t]||[],n.actionsByCategory[t].push(e)}),e.key&&(n.actionsByKey[e.key]=n.actionsByKey[e.key]||[],n.actionsByKey[e.key].push(e))})}return e.prototype.getActions=function(e){function t(e,t){var n,i=new e(t);return i.getMetadata||(n=Object.create(e.definition||{}),n.context=t,i.getMetadata=function(){return n}),i}function n(e,n){function i(e){return e.appliesTo?e.appliesTo(n):!0}function r(e){try{return t(e,n)}catch(i){return void a.error(["Could not instantiate action",e.key,"due to:",i.message].join(" "))}}function o(e){return void 0!==e}return(e||[]).filter(i).map(r).filter(o)}var i,r=e||{},o=r.category,s=r.key,a=this.$log;return i=this.actions,s?(i=this.actionsByKey[s],o&&(i=i.filter(function(e){return e.category===o}))):o&&(i=this.actionsByCategory[o]),n(i,r)},e}),define("platform/core/src/actions/ActionAggregator",[],function(){"use strict";function e(e){this.actionProviders=e}return e.prototype.getActions=function(e){return this.actionProviders.map(function(t){return t.getActions(e)}).reduce(function(e,t){return e.concat(t)},[])},e}),define("platform/core/src/actions/LoggingActionDecorator",[],function(){"use strict";function e(e,t){this.$log=e,this.actionService=t}return e.prototype.getActions=function(){function e(e){var t=Object.create(e),i=e.getMetadata()||{},r=i.context||{},o=r.domainObject;return t.perform=function(){return n.info(["Performing action ",i.key," upon ",o&&o.getId()].join("")),e.perform.apply(e,arguments)},t}var t=this.actionService,n=this.$log;return t.getActions.apply(t,arguments).map(e)},e}),define("platform/core/src/views/ViewProvider",[],function(){"use strict";function e(e,t){function n(e){var n=e.key;return n||t.warn(["No key specified for view in ",(e.bundle||{}).path,"; omitting this view."].join("")),n}this.views=e.filter(n)}return e.prototype.getViews=function(e){function t(e,t,n){function i(t){return e.hasCapability(t)||n&&o.doesDelegateCapability(t)}function r(e,t){return e&&t}var o=e.getCapability("delegation");return n=n&&void 0!==o,t.map(i).reduce(r,!0)}function n(e,t){var n=t&&(t.getDefinition()||{}).views,i=!0;return e.type&&(i=i&&t&&t.instanceOf(e.type)),Array.isArray(n)&&(i=i&&n.indexOf(e.key)>-1),i}var i=e.useCapability("type");return this.views.filter(function(r){return n(r,i)&&t(e,r.needs||[],r.delegation||!1)})},e}),function(e){"use strict";function t(){var t=e.crypto||e.msCrypto;if(!a&&t&&t.getRandomValues)try{var n=new Uint8Array(16);u=a=function(){return t.getRandomValues(n),n},a()}catch(i){}if(!a){var r=new Array(16);c=a=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){if("function"==typeof require)try{var e=require("crypto").randomBytes;l=a=e&&function(){return e(16)},a()}catch(t){}}function i(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=h[e])});16>r;)t[i+r++]=0;return t}function r(e,t){var n=t||0,i=f;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function o(e,t,n){var i=t&&n||0,o=t||[];e=e||{};var s=null!=e.clockseq?e.clockseq:v,a=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:w+1,l=a-b+(c-w)/1e4;if(0>l&&null==e.clockseq&&(s=s+1&16383),(0>l||a>b)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,w=c,v=s,a+=122192928e5;var u=(1e4*(268435455&a)+c)%4294967296;o[i++]=u>>>24&255,o[i++]=u>>>16&255,o[i++]=u>>>8&255,o[i++]=255&u;var d=a/4294967296*1e4&268435455;o[i++]=d>>>8&255,o[i++]=255&d,o[i++]=d>>>24&15|16,o[i++]=d>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(var p=e.node||y,f=0;6>f;f++)o[i+f]=p[f];return t?t:r(o)}function s(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;16>s;s++)t[i+s]=o[s];return t||r(o)}var a,c,l,u,d;e?t():n();for(var p="function"==typeof Buffer?Buffer:Array,f=[],h={},m=0;256>m;m++)f[m]=(m+256).toString(16).substr(1),h[f[m]]=m;var g=a(),y=[1|g[0],g[1],g[2],g[3],g[4],g[5]],v=16383&(g[6]<<8|g[7]),b=0,w=0,S=s;S.v1=o,S.v4=s,S.parse=i,S.unparse=r,S.BufferClass=p,S._rng=a,S._mathRNG=c,S._nodeRNG=l,S._whatwgRNG=u,"undefined"!=typeof module&&module.exports?module.exports=S:"function"==typeof define&&define.amd?define("uuid",[],function(){return S}):(d=e.uuid,S.noConflict=function(){return e.uuid=d,S},e.uuid=S)}("undefined"!=typeof window?window:null),define("platform/core/src/identifiers/Identifier",[],function(){"use strict";function e(e,n){var i=e.indexOf(t);i>-1?(this.key=e.substring(i+1),this.space=e.substring(0,i),this.definedSpace=this.space):(this.key=e,this.space=n,this.definedSpace=void 0)}var t=":";return e.prototype.getKey=function(){return this.key},e.prototype.getSpace=function(){return this.space},e.prototype.getDefinedSpace=function(){return this.definedSpace},e}),define("platform/core/src/identifiers/IdentifierProvider",["uuid","./Identifier"],function(e,t){"use strict";function n(e){this.defaultSpace=e}return n.prototype.generate=function(t){var n=e();return void 0!==t&&(n=t+":"+n),n},n.prototype.parse=function(e){return new t(e,this.defaultSpace)},n}),define("platform/core/src/capabilities/CompositionCapability",[],function(){"use strict";function e(e,t,n){this.injectObjectService=function(){this.objectService=e.get("objectService")},this.contextualize=t,this.domainObject=n}return e.prototype.add=function(e,t){function n(e){var t;for(t=0;t<e.length;t+=1)if(e[t].getId()===s)return e[t]}function i(e){return e&&o.invoke().then(n)}function r(e){t=isNaN(t)?c.length:t,t=Math.min(c.length,t),-1!==l&&e.composition.splice(l,1),e.composition.splice(t,0,s)}var o=this,s="string"==typeof e?e:e.getId(),a=o.domainObject.getModel(),c=a.composition,l=c.indexOf(s);return isNaN(t)&&-1!==l||t===l?i(!0):this.domainObject.useCapability("mutation",r).then(i)},e.prototype.invoke=function(){function e(e){return t.filter(function(t){return e[t]}).map(function(t){return r(e[t],n)})}var t,n=this.domainObject,i=n.getModel(),r=this.contextualize;return this.objectService||this.injectObjectService(),this.lastPromise&&this.lastModified===i.modified||(t=i.composition||[],this.lastModified=i.modified,this.lastPromise=this.objectService.getObjects(t).then(e)),this.lastPromise},e.appliesTo=function(e){return Array.isArray((e||{}).composition)},e}),define("platform/core/src/capabilities/RelationshipCapability",[],function(){"use strict";function e(e,t){this.injectObjectService=function(){this.objectService=e.get("objectService")},this.lastPromise={},this.domainObject=t}return e.prototype.listRelationships=function(){function e(e){return Array.isArray(t[e])}var t=(this.domainObject.getModel()||{}).relationships||{};return Object.keys(t).filter(e).sort()},e.prototype.getRelatedObjects=function(e){function t(e){return n.map(function(t){return e[t]}).filter(function(e){return e})}var n,i=this.domainObject.getModel();return this.lastModified!==i.modified&&(this.lastPromise={},this.lastModified=i.modified),this.lastPromise[e]||(n=(i.relationships||{})[e]||[],this.lastModified=i.modified,this.objectService||this.injectObjectService(),this.lastPromise[e]=this.objectService.getObjects(n).then(t)),this.lastPromise[e]},e.appliesTo=function(e){return!!(e||{}).relationships},e}),define("platform/core/src/types/TypeCapability",[],function(){
"use strict";function e(e,t){var n=t.getModel().type,i=e.getType(n);return Object.create(i)}return e}),define("platform/core/src/actions/ActionCapability",[],function(){"use strict";function e(e,t,n){this.$q=e,this.actionService=t,this.domainObject=n}return e.prototype.getActions=function(e){var t="string"==typeof e?{key:e}:e||{},n=Object.create(t);return n.domainObject=this.domainObject,this.actionService.getActions(n)},e.prototype.perform=function(e){var t=this.getActions(e);return this.$q.when(t&&t.length>0?t[0].perform():void 0)},e}),define("platform/core/src/views/ViewCapability",[],function(){"use strict";function e(e,t){this.viewService=e,this.domainObject=t}return e.prototype.invoke=function(){return this.viewService.getViews(this.domainObject)},e}),define("platform/core/src/capabilities/PersistenceCapability",[],function(){"use strict";function e(e,t,n,i,r,o){this.modified=o.getModel().modified,this.domainObject=o,this.cacheService=e,this.identifierService=n,this.persistenceService=t,this.notificationService=i,this.$q=r}function t(e){return(e||{}).then?e:{then:function(n){return t(n(e))}}}function n(e){var t=e.split(":");return t.length>1?t.slice(1).join(":"):e}function i(e,t){return e?e:t.reject("Error persisting object")}function r(e){return e&&e.message?e.message:e&&"string"==typeof e?e:"unknown error"}function o(e,t,n,i){var o="Unable to persist "+t.getModel().name;return e&&(o+=": "+r(e)),n.error({title:"Error persisting "+t.getModel().name,hint:o,dismissable:!0}),i.reject(e)}return e.prototype.persist=function(){var e=this,t=this.domainObject,r=t.getModel(),s=r.modified,a=(this.cacheService,this.persistenceService),c=void 0!==r.persisted?this.persistenceService.updateObject:this.persistenceService.createObject;return t.useCapability("mutation",function(e){e.persisted=s},s),c.apply(a,[this.getSpace(),n(t.getId()),t.getModel()]).then(function(t){return i(t,e.$q)})["catch"](function(n){return o(n,t,e.notificationService,e.$q)})},e.prototype.refresh=function(){function e(e){var t=e.modified;return n.useCapability("mutation",function(){return e},t)}var n=this.domainObject,i=n.getModel();return i.modified===i.persisted?this.persistenceService.readObject(this.getSpace(),this.domainObject.getId()).then(e):t(!1)},e.prototype.getSpace=function(){var e=this.domainObject.getId();return this.identifierService.parse(e).getSpace()},e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return mi.apply(null,arguments)}function t(e){mi=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t;for(t in e)return!1;return!0}function o(e){return"number"==typeof value||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return yt(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function f(e){if(null==e._isValid){var t=p(e),n=yi.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function h(e){var t=u(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function m(e){return void 0===e}function g(e,t){var n,i,r;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=p(t)),m(t._locale)||(e._locale=t._locale),vi.length>0)for(n in vi)i=vi[n],r=t[i],m(r)||(e[i]=r);return e}function y(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),bi===!1&&(bi=!0,e.updateOffset(this),bi=!1)}function v(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function S(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&w(e[i])!==w(t[i]))&&s++;return s+o}function $(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,n){var i=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}$(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function O(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),wi[t]||($(n),wi[t]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,n;for(n in e)t=e[n],x(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function k(e,t){var n,r=l({},e);for(n in t)c(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},l(r[n],e[n]),l(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&i(e[n])&&(r[n]=l({},r[n]));return r}function A(e){null!=e&&this.set(e)}function I(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return x(i)?i.call(t,n):i}function M(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function E(){return this._invalidDate}function L(e){return this._ordinal.replace("%d",e)}function N(e,t,n,i){var r=this._relativeTime[n];return x(r)?r(e,t,n,i):r.replace(/%d/i,e)}function j(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function D(e,t){var n=e.toLowerCase();Mi[n]=Mi[n+"s"]=Mi[t]=e}function R(e){return"string"==typeof e?Mi[e]||Mi[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)c(e,n)&&(t=R(n),t&&(i[t]=e[n]));return i}function _(e,t){Ei[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:Ei[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function W(t,n){return function(i){return null!=i?(V(this,t,i),e.updateOffset(this,n),this):F(this,t)}}function F(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Y(e){return e=R(e),x(this[e])?this[e]():this}function q(e,t){if("object"==typeof e){e=P(e);for(var n=U(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=R(e),x(this[e]))return this[e](t);return this}function B(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function H(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Di[e]=r),t&&(Di[t[0]]=function(){return B(r.apply(this,arguments),t[1],t[2])}),n&&(Di[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,i=e.match(Li);for(t=0,n=i.length;n>t;t++)Di[i[t]]?i[t]=Di[i[t]]:i[t]=G(i[t]);return function(t){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(t,e):i[r];return o}}function Z(e,t){return e.isValid()?(t=K(t,e.localeData()),ji[t]=ji[t]||z(t),ji[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ni.lastIndex=0;i>=0&&Ni.test(e);)e=e.replace(Ni,n),Ni.lastIndex=0,i-=1;return e}function X(e,t,n){Qi[e]=x(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return c(Qi,e)?Qi[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),o(t)&&(i=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)er[e[n]]=i}function ne(e,t){te(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ie(e,t,n){null!=t&&c(er,e)&&er[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||dr).test(t)?"format":"standalone"][e.month()]:this._months}function se(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[dr.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function ae(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=ur.call(this._shortMonthsParse,s),-1!==r?r:null):(r=ur.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===t?(r=ur.call(this._shortMonthsParse,s),-1!==r?r:(r=ur.call(this._longMonthsParse,s),-1!==r?r:null)):(r=ur.call(this._longMonthsParse,s),-1!==r?r:(r=ur.call(this._shortMonthsParse,s),-1!==r?r:null))}function ce(e,t,n){var i,r,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function de(){return re(this.year(),this.month())}function pe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=hr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=mr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=ee(i[t]),r[t]=ee(r[t]);for(t=0;24>t;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function me(e){return ge(e)?366:365}function ge(e){return e%4===0&&e%100!==0||e%400===0}function ye(){return ge(this.year())}function ve(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var i=7+t-n,r=(7+be(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Se(e,t,n,i,r){var o,s,a=(7+n-i)%7,c=we(e,i,r),l=1+7*(t-1)+a+c;return 0>=l?(o=e-1,s=me(o)+l):l>me(e)?(o=e+1,s=l-me(e)):(o=e,s=l),{year:o,dayOfYear:s}}function $e(e,t,n){var i,r,o=we(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>s?(r=e.year()-1,i=s+Ce(r,t,n)):s>Ce(e.year(),t,n)?(i=s-Ce(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Ce(e,t,n){var i=we(e,t,n),r=we(e+1,t,n);return(me(e)-i+r)/7}function Oe(e){return $e(e,this._week.dow,this._week.doy).week}function xe(){return this._week.dow}function Te(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=$e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ie(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ee(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Le(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ne(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function je(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=ur.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===t?(r=ur.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=ur.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===t?(r=ur.call(this._weekdaysParse,s),-1!==r?r:(r=ur.call(this._shortWeekdaysParse,s),-1!==r?r:(r=ur.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===t?(r=ur.call(this._shortWeekdaysParse,s),-1!==r?r:(r=ur.call(this._weekdaysParse,s),-1!==r?r:(r=ur.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=ur.call(this._minWeekdaysParse,s),-1!==r?r:(r=ur.call(this._weekdaysParse,s),-1!==r?r:(r=ur.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function De(e,t,n){var i,r,o;if(this._weekdaysParseExact)return je.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ie(e,this.localeData()),this.add(e-t,"d")):t}function Pe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function _e(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Sr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function We(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$r),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Cr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],c=[],l=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),c.push(o),l.push(i),l.push(r),l.push(o);for(s.sort(e),a.sort(e),c.sort(e),l.sort(e),t=0;7>t;t++)a[t]=ee(a[t]),c[t]=ee(c[t]),l[t]=ee(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ye(){return this.hours()%12||12}function qe(){return this.hours()||24}function Be(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function He(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,i,r,o=0;o<e.length;){for(r=Ze(e[o]).split("-"),t=r.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Xe(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&S(r,n,!0)>=t-1)break;t--}o++}return null}function Xe(e){var t=null;if(!Ar[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Or._abbr,require("./locale/"+e),Je(t)}catch(n){}return Ar[e]}function Je(e,t){var n;return e&&(n=m(t)?tt(e):Qe(e,t),n&&(Or=n)),Or._abbr}function Qe(e,t){if(null!==t){var n=kr;if(t.abbr=e,null!=Ar[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ar[e]._config;else if(null!=t.parentLocale){if(null==Ar[t.parentLocale])return Ir[t.parentLocale]||(Ir[t.parentLocale]=[]),Ir[t.parentLocale].push({name:e,config:t}),null;n=Ar[t.parentLocale]._config}return Ar[e]=new A(k(n,t)),Ir[e]&&Ir[e].forEach(function(e){Qe(e.name,e.config)}),Je(e),Ar[e]}return delete Ar[e],null}function et(e,t){if(null!=t){var n,i=kr;null!=Ar[e]&&(i=Ar[e]._config),t=k(i,t),n=new A(t),n.parentLocale=Ar[e],Ar[e]=n,Je(e)}else null!=Ar[e]&&(null!=Ar[e].parentLocale?Ar[e]=Ar[e].parentLocale:null!=Ar[e]&&delete Ar[e]);return Ar[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Or;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Ke(e)}function nt(){return Ci(Ar)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[nr]<0||n[nr]>11?nr:n[ir]<1||n[ir]>re(n[tr],n[nr])?ir:n[rr]<0||n[rr]>24||24===n[rr]&&(0!==n[or]||0!==n[sr]||0!==n[ar])?rr:n[or]<0||n[or]>59?or:n[sr]<0||n[sr]>59?sr:n[ar]<0||n[ar]>999?ar:-1,p(e)._overflowDayOfYear&&(tr>t||t>ir)&&(t=ir),p(e)._overflowWeeks&&-1===t&&(t=cr),p(e)._overflowWeekday&&-1===t&&(t=lr),p(e).overflow=t),e}function rt(e){var t,n,i,r,o,s,a=e._i,c=Mr.exec(a)||Er.exec(a);if(c){for(p(e).iso=!0,t=0,n=Nr.length;n>t;t++)if(Nr[t][1].exec(c[1])){r=Nr[t][0],i=Nr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,n=jr.length;n>t;t++)if(jr[t][1].exec(c[3])){o=(c[2]||" ")+jr[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(c[4]){if(!Lr.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),ut(e)}else e._isValid=!1}function ot(t){var n=Dr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,i,r,o=[];if(!e._d){for(i=at(e),e._w&&null==e._a[ir]&&null==e._a[nr]&&lt(e),e._dayOfYear&&(r=st(e._a[tr],i[tr]),e._dayOfYear>me(r)&&(p(e)._overflowDayOfYear=!0),n=be(r,0,e._dayOfYear),e._a[nr]=n.getUTCMonth(),e._a[ir]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[rr]&&0===e._a[or]&&0===e._a[sr]&&0===e._a[ar]&&(e._nextDay=!0,e._a[rr]=0),e._d=(e._useUTC?be:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[rr]=24)}}function lt(e){var t,n,i,r,o,s,a,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,s=4,n=st(t.GG,e._a[tr],$e(vt(),1,4).year),i=st(t.W,1),r=st(t.E,1),(1>r||r>7)&&(c=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var l=$e(vt(),o,s);n=st(t.gg,e._a[tr],l.year),i=st(t.w,l.week),null!=t.d?(r=t.d,(0>r||r>6)&&(c=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o}1>i||i>Ce(n,o,s)?p(e)._overflowWeeks=!0:null!=c?p(e)._overflowWeekday=!0:(a=Se(n,i,r,o,s),e._a[tr]=a.year,e._dayOfYear=a.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],p(t).empty=!0;var n,i,r,o,s,a=""+t._i,c=a.length,l=0;for(r=K(t._f,t._locale).match(Li)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(J(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&p(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),l+=i.length),Di[o]?(i?p(t).empty=!1:p(t).unusedTokens.push(o),ie(o,i,t)):t._strict&&!i&&p(t).unusedTokens.push(o);p(t).charsLeftOver=c-l,a.length>0&&p(t).unusedInput.push(a),t._a[rr]<=12&&p(t).bigHour===!0&&t._a[rr]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[rr]=dt(t._locale,t._a[rr],t._meridiem),ct(t),it(t)}function dt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function pt(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ut(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||i>o)&&(i=o,n=t));l(e,n||t)}function ft(e){if(!e._d){var t=P(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function ht(e){var t=new y(it(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var t=e._i,i=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===i&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new y(it(t)):(s(t)?e._d=t:n(i)?pt(e):i?ut(e):gt(e),f(e)||(e._d=null),e))}function gt(t){var i=t._i;void 0===i?t._d=new Date(e.now()):s(i)?t._d=new Date(i.valueOf()):"string"==typeof i?ot(t):n(i)?(t._a=a(i.slice(0),function(e){return parseInt(e,10)}),ct(t)):"object"==typeof i?ft(t):o(i)?t._d=new Date(i):e.createFromInputFallback(t)}function yt(e,t,o,s,a){var c={};return(o===!0||o===!1)&&(s=o,o=void 0),(i(e)&&r(e)||n(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=o,c._i=e,c._f=t,c._strict=s,ht(c)}function vt(e,t,n,i){return yt(e,t,n,i,!1)}function bt(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return vt();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function wt(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function St(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function $t(e){var t=P(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=tt(),this._bubble()}function Ct(e){return e instanceof $t}function Ot(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function xt(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Tt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Ur)||["-",0,0],o=+(60*r[1])+w(r[2]);return 0===o?0:"+"===r[0]?o:-o}function kt(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(t)||s(t)?t.valueOf():vt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):vt(t).local()}function At(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(t,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Tt(Ki,t),null===t)return this}else Math.abs(t)<16&&(t=60*t);return!this._isUTC&&n&&(i=At(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Bt(this,Wt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:At(this)}function Mt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Et(e){return this.utcOffset(0,e)}function Lt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(At(this),"m")),this}function Nt(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Tt(Zi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function jt(e){return this.isValid()?(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Dt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Rt(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=mt(e),e._a){var t=e._isUTC?u(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Pt(){return this.isValid()?!this._isUTC:!1}function _t(){return this.isValid()?this._isUTC:!1}function Ut(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Wt(e,t){var n,i,r,s=e,a=null;return Ct(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(s={},t?s[t]=e:s.milliseconds=e):(a=Wr.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:w(a[ir])*n,h:w(a[rr])*n,m:w(a[or])*n,s:w(a[sr])*n,ms:w(Ot(1e3*a[ar]))*n}):(a=Fr.exec(e))?(n="-"===a[1]?-1:1,s={y:Ft(a[2],n),M:Ft(a[3],n),w:Ft(a[4],n),d:Ft(a[5],n),h:Ft(a[6],n),m:Ft(a[7],n),s:Ft(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=Yt(vt(s.from),vt(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new $t(s),Ct(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){var n;return e.isValid()&&t.isValid()?(t=kt(t,e),e.isBefore(t)?n=Vt(e,t):(n=Vt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function qt(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Wt(n,i),Bt(this,r,e),this}}function Bt(t,n,i,r){var o=n._milliseconds,s=Ot(n._days),a=Ot(n._months);t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(t._d.valueOf()+o*i),s&&V(t,"Date",F(t,"Date")+s*i),a&&le(t,F(t,"Month")+a*i),r&&e.updateOffset(t,s||a))}function Ht(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Gt(t,n){var i=t||vt(),r=kt(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",s=n&&(x(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,vt(i)))}function zt(){return new y(this)}function Zt(e,t){var n=v(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=R(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Kt(e,t){var n=v(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=R(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Xt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,i=v(e)?e:vt(e);return this.isValid()&&i.isValid()?(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var i,r,o,s;return this.isValid()?(i=kt(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(s=nn(this,i),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-i,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?s:b(s)):NaN):NaN}function nn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+i+r+o)}function an(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Z(this,t);return this.localeData().postformat(n)}function cn(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(vt(),e)}function un(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dn(e){return this.to(vt(),e)}function pn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function fn(){return this._locale}function hn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);
case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function mn(e){return e=R(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function yn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function bn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sn(){return this.isValid()?this.toISOString():null}function $n(){return f(this)}function Cn(){return l({},p(this))}function On(){return p(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tn(e,t){H(0,[e,e.length],0,t)}function kn(e){return En.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function An(e){return En.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function In(){return Ce(this.year(),1,4)}function Mn(){var e=this.localeData()._week;return Ce(this.year(),e.dow,e.doy)}function En(e,t,n,i,r){var o;return null==e?$e(this,i,r).year:(o=Ce(e,i,r),t>o&&(t=o),Ln.call(this,e,t,n,i,r))}function Ln(e,t,n,i,r){var o=Se(e,t,n,i,r),s=be(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Nn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Dn(e,t){t[ar]=w(1e3*("0."+e))}function Rn(){return this._isUTC?"UTC":""}function Pn(){return this._isUTC?"Coordinated Universal Time":""}function _n(e){return vt(1e3*e)}function Un(){return vt.apply(null,arguments).parseZone()}function Wn(e){return e}function Fn(e,t,n,i){var r=tt(),o=u().set(i,t);return r[n](o,e)}function Vn(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Fn(e,i,n,"month");return r}function Yn(e,t,n,i){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var r=tt(),s=e?r._week.dow:0;if(null!=n)return Fn(t,(n+s)%7,i,"day");var a,c=[];for(a=0;7>a;a++)c[a]=Fn(t,(a+s)%7,i,"day");return c}function qn(e,t){return Vn(e,t,"months")}function Bn(e,t){return Vn(e,t,"monthsShort")}function Hn(e,t,n){return Yn(e,t,n,"weekdays")}function Gn(e,t,n){return Yn(e,t,n,"weekdaysShort")}function zn(e,t,n){return Yn(e,t,n,"weekdaysMin")}function Zn(){var e=this._data;return this._milliseconds=Jr(this._milliseconds),this._days=Jr(this._days),this._months=Jr(this._months),e.milliseconds=Jr(e.milliseconds),e.seconds=Jr(e.seconds),e.minutes=Jr(e.minutes),e.hours=Jr(e.hours),e.months=Jr(e.months),e.years=Jr(e.years),this}function Kn(e,t,n,i){var r=Wt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Xn(e,t){return Kn(this,e,t,1)}function Jn(e,t){return Kn(this,e,t,-1)}function Qn(e){return 0>e?Math.floor(e):Math.ceil(e)}function ei(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,c=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Qn(ni(a)+s),s=0,a=0),c.milliseconds=o%1e3,e=b(o/1e3),c.seconds=e%60,t=b(e/60),c.minutes=t%60,n=b(t/60),c.hours=n%24,s+=b(n/24),r=b(ti(s)),a+=r,s-=Qn(ni(r)),i=b(a/12),a%=12,c.days=s,c.months=a,c.years=i,this}function ti(e){return 4800*e/146097}function ni(e){return 146097*e/4800}function ii(e){var t,n,i=this._milliseconds;if(e=R(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+ti(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ni(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ri(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function oi(e){return function(){return this.as(e)}}function si(e){return e=R(e),this[e+"s"]()}function ai(e){return function(){return this._data[e]}}function ci(){return b(this.days()/7)}function li(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ui(e,t,n){var i=Wt(e).abs(),r=mo(i.as("s")),o=mo(i.as("m")),s=mo(i.as("h")),a=mo(i.as("d")),c=mo(i.as("M")),l=mo(i.as("y")),u=r<go.s&&["s",r]||1>=o&&["m"]||o<go.m&&["mm",o]||1>=s&&["h"]||s<go.h&&["hh",s]||1>=a&&["d"]||a<go.d&&["dd",a]||1>=c&&["M"]||c<go.M&&["MM",c]||1>=l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,li.apply(null,u)}function di(e){return void 0===e?mo:"function"==typeof e?(mo=e,!0):!1}function pi(e,t){return void 0===go[e]?!1:void 0===t?go[e]:(go[e]=t,!0)}function fi(e){var t=this.localeData(),n=ui(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function hi(){var e,t,n,i=yo(this._milliseconds)/1e3,r=yo(this._days),o=yo(this._months);e=b(i/60),t=b(e/60),i%=60,e%=60,n=b(o/12),o%=12;var s=n,a=o,c=r,l=t,u=e,d=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(c?c+"D":"")+(l||u||d?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var mi,gi;gi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var yi=gi,vi=e.momentProperties=[],bi=!1,wi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Si;Si=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var $i,Ci=Si,Oi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ti="Invalid date",ki="%d",Ai=/\d{1,2}/,Ii={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Mi={},Ei={},Li=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ni=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ji={},Di={},Ri=/\d/,Pi=/\d\d/,_i=/\d{3}/,Ui=/\d{4}/,Wi=/[+-]?\d{6}/,Fi=/\d\d?/,Vi=/\d\d\d\d?/,Yi=/\d\d\d\d\d\d?/,qi=/\d{1,3}/,Bi=/\d{1,4}/,Hi=/[+-]?\d{1,6}/,Gi=/\d+/,zi=/[+-]?\d+/,Zi=/Z|[+-]\d\d:?\d\d/gi,Ki=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,Ji=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qi={},er={},tr=0,nr=1,ir=2,rr=3,or=4,sr=5,ar=6,cr=7,lr=8;$i=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var ur=$i;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),_("month",8),X("M",Fi),X("MM",Fi,Pi),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[nr]=w(e)-1}),te(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[nr]=r:p(n).invalidMonth=e});var dr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hr=Ji,mr=Ji;H("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),D("year","y"),_("year",1),X("Y",zi),X("YY",Fi,Pi),X("YYYY",Bi,Ui),X("YYYYY",Hi,Wi),X("YYYYYY",Hi,Wi),te(["YYYYY","YYYYYY"],tr),te("YYYY",function(t,n){n[tr]=2===t.length?e.parseTwoDigitYear(t):w(t)}),te("YY",function(t,n){n[tr]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[tr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var gr=W("FullYear",!0);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),_("week",5),_("isoWeek",5),X("w",Fi),X("ww",Fi,Pi),X("W",Fi),X("WW",Fi,Pi),ne(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=w(e)});var yr={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),_("day",11),_("weekday",11),_("isoWeekday",11),X("d",Fi),X("e",Fi),X("E",Fi),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,i){t[i]=w(e)});var vr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),br="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sr=Ji,$r=Ji,Cr=Ji;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ye),H("k",["kk",2],0,qe),H("hmm",0,0,function(){return""+Ye.apply(this)+B(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Ye.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Be("a",!0),Be("A",!1),D("hour","h"),_("hour",13),X("a",He),X("A",He),X("H",Fi),X("h",Fi),X("HH",Fi,Pi),X("hh",Fi,Pi),X("hmm",Vi),X("hmmss",Yi),X("Hmm",Vi),X("Hmmss",Yi),te(["H","HH"],rr),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[rr]=w(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var i=e.length-2;t[rr]=w(e.substr(0,i)),t[or]=w(e.substr(i)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[rr]=w(e.substr(0,i)),t[or]=w(e.substr(i,2)),t[sr]=w(e.substr(r)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var i=e.length-2;t[rr]=w(e.substr(0,i)),t[or]=w(e.substr(i))}),te("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[rr]=w(e.substr(0,i)),t[or]=w(e.substr(i,2)),t[sr]=w(e.substr(r))});var Or,xr=/[ap]\.?m?\.?/i,Tr=W("Hours",!0),kr={calendar:Oi,longDateFormat:xi,invalidDate:Ti,ordinal:ki,ordinalParse:Ai,relativeTime:Ii,months:pr,monthsShort:fr,week:yr,weekdays:vr,weekdaysMin:wr,weekdaysShort:br,meridiemParse:xr},Ar={},Ir={},Mr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Er=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lr=/Z|[+-]\d\d(?::?\d\d)?/,Nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=C("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Rr=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:h()}),Pr=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),_r=function(){return Date.now?Date.now():+new Date};xt("Z",":"),xt("ZZ",""),X("Z",Ki),X("ZZ",Ki),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Tt(Ki,e)});var Ur=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Wr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Fr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Wt.fn=$t.prototype;var Vr=qt(1,"add"),Yr=qt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qr=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),_("weekYear",1),_("isoWeekYear",1),X("G",zi),X("g",zi),X("GG",Fi,Pi),X("gg",Fi,Pi),X("GGGG",Bi,Ui),X("gggg",Bi,Ui),X("GGGGG",Hi,Wi),X("ggggg",Hi,Wi),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=w(e)}),ne(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),D("quarter","Q"),_("quarter",7),X("Q",Ri),te("Q",function(e,t){t[nr]=3*(w(e)-1)}),H("D",["DD",2],"Do","date"),D("date","D"),_("date",9),X("D",Fi),X("DD",Fi,Pi),X("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],ir),te("Do",function(e,t){t[ir]=w(e.match(Fi)[0],10)});var Br=W("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),_("dayOfYear",4),X("DDD",qi),X("DDDD",_i),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),H("m",["mm",2],0,"minute"),D("minute","m"),_("minute",14),X("m",Fi),X("mm",Fi,Pi),te(["m","mm"],or);var Hr=W("Minutes",!1);H("s",["ss",2],0,"second"),D("second","s"),_("second",15),X("s",Fi),X("ss",Fi,Pi),te(["s","ss"],sr);var Gr=W("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),_("millisecond",16),X("S",qi,Ri),X("SS",qi,Pi),X("SSS",qi,_i);var zr;for(zr="SSSS";zr.length<=9;zr+="S")X(zr,Gi);for(zr="S";zr.length<=9;zr+="S")te(zr,Dn);var Zr=W("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Kr=y.prototype;Kr.add=Vr,Kr.calendar=Gt,Kr.clone=zt,Kr.diff=tn,Kr.endOf=mn,Kr.format=an,Kr.from=cn,Kr.fromNow=ln,Kr.to=un,Kr.toNow=dn,Kr.get=Y,Kr.invalidAt=On,Kr.isAfter=Zt,Kr.isBefore=Kt,Kr.isBetween=Xt,Kr.isSame=Jt,Kr.isSameOrAfter=Qt,Kr.isSameOrBefore=en,Kr.isValid=$n,Kr.lang=qr,Kr.locale=pn,Kr.localeData=fn,Kr.max=Pr,Kr.min=Rr,Kr.parsingFlags=Cn,Kr.set=q,Kr.startOf=hn,Kr.subtract=Yr,Kr.toArray=bn,Kr.toObject=wn,Kr.toDate=vn,Kr.toISOString=on,Kr.inspect=sn,Kr.toJSON=Sn,Kr.toString=rn,Kr.unix=yn,Kr.valueOf=gn,Kr.creationData=xn,Kr.year=gr,Kr.isLeapYear=ye,Kr.weekYear=kn,Kr.isoWeekYear=An,Kr.quarter=Kr.quarters=Nn,Kr.month=ue,Kr.daysInMonth=de,Kr.week=Kr.weeks=ke,Kr.isoWeek=Kr.isoWeeks=Ae,Kr.weeksInYear=Mn,Kr.isoWeeksInYear=In,Kr.date=Br,Kr.day=Kr.days=Re,Kr.weekday=Pe,Kr.isoWeekday=_e,Kr.dayOfYear=jn,Kr.hour=Kr.hours=Tr,Kr.minute=Kr.minutes=Hr,Kr.second=Kr.seconds=Gr,Kr.millisecond=Kr.milliseconds=Zr,Kr.utcOffset=It,Kr.utc=Et,Kr.local=Lt,Kr.parseZone=Nt,Kr.hasAlignedHourOffset=jt,Kr.isDST=Dt,Kr.isLocal=Pt,Kr.isUtcOffset=_t,Kr.isUtc=Ut,Kr.isUTC=Ut,Kr.zoneAbbr=Rn,Kr.zoneName=Pn,Kr.dates=C("dates accessor is deprecated. Use date instead.",Br),Kr.months=C("months accessor is deprecated. Use month instead",ue),Kr.years=C("years accessor is deprecated. Use year instead",gr),Kr.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Mt),Kr.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rt);var Xr=A.prototype;Xr.calendar=I,Xr.longDateFormat=M,Xr.invalidDate=E,Xr.ordinal=L,Xr.preparse=Wn,Xr.postformat=Wn,Xr.relativeTime=N,Xr.pastFuture=j,Xr.set=T,Xr.months=oe,Xr.monthsShort=se,Xr.monthsParse=ce,Xr.monthsRegex=fe,Xr.monthsShortRegex=pe,Xr.week=Oe,Xr.firstDayOfYear=Te,Xr.firstDayOfWeek=xe,Xr.weekdays=Ee,Xr.weekdaysMin=Ne,Xr.weekdaysShort=Le,Xr.weekdaysParse=De,Xr.weekdaysRegex=Ue,Xr.weekdaysShortRegex=We,Xr.weekdaysMinRegex=Fe,Xr.isPM=Ge,Xr.meridiem=ze,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=C("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=C("moment.langData is deprecated. Use moment.localeData instead.",tt);var Jr=Math.abs,Qr=oi("ms"),eo=oi("s"),to=oi("m"),no=oi("h"),io=oi("d"),ro=oi("w"),oo=oi("M"),so=oi("y"),ao=ai("milliseconds"),co=ai("seconds"),lo=ai("minutes"),uo=ai("hours"),po=ai("days"),fo=ai("months"),ho=ai("years"),mo=Math.round,go={s:45,m:45,h:22,d:26,M:11},yo=Math.abs,vo=$t.prototype;return vo.abs=Zn,vo.add=Xn,vo.subtract=Jn,vo.as=ii,vo.asMilliseconds=Qr,vo.asSeconds=eo,vo.asMinutes=to,vo.asHours=no,vo.asDays=io,vo.asWeeks=ro,vo.asMonths=oo,vo.asYears=so,vo.valueOf=ri,vo._bubble=ei,vo.get=si,vo.milliseconds=ao,vo.seconds=co,vo.minutes=lo,vo.hours=uo,vo.days=po,vo.weeks=ci,vo.months=fo,vo.years=ho,vo.humanize=fi,vo.toISOString=hi,vo.toString=hi,vo.toJSON=hi,vo.locale=pn,vo.localeData=fn,vo.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hi),vo.lang=qr,H("X",0,0,"unix"),H("x",0,0,"valueOf"),X("x",zi),X("X",Xi),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(w(e))}),e.version="2.16.0",t(vt),e.fn=Kr,e.min=wt,e.max=St,e.now=_r,e.utc=u,e.unix=_n,e.months=qn,e.isDate=s,e.locale=Je,e.invalid=h,e.duration=Wt,e.isMoment=v,e.weekdays=Hn,e.parseZone=Un,e.localeData=tt,e.isDuration=Ct,e.monthsShort=Bn,e.weekdaysMin=zn,e.defineLocale=Qe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Gn,e.normalizeUnits=R,e.relativeTimeRounding=di,e.relativeTimeThreshold=pi,e.calendarFormat=Ht,e.prototype=Kr,e}),define("platform/core/src/capabilities/MetadataCapability",["moment"],function(e){"use strict";function t(e){this.domainObject=e}var n="YYYY-MM-DD HH:mm:ss";return t.prototype.invoke=function(){function t(e){var t=typeof e.value;return"string"===t||"number"===t}function i(t){return"number"==typeof t?e.utc(t).format(n)+" UTC":void 0}function r(){function e(e){return{name:e.getDefinition().name,value:e.getValue(a)}}var t=s.getCapability("type");return(t?t.getProperties():[]).map(e)}function o(){var e=s.getCapability("type");return[{name:"Updated",value:i(a.modified)},{name:"Type",value:e&&e.getName()}]}var s=this.domainObject,a=s.getModel();return r().concat(o()).filter(t)},t}),define("platform/core/src/capabilities/MutationCapability",[],function(){"use strict";function e(e,t){Object.keys(e).forEach(function(t){delete e[t]}),Object.keys(t).forEach(function(n){e[n]=t[n]})}function t(e){return(e||{}).then?e:{then:function(n){return t(n(e))}}}function n(e,t,n){this.generalMutationTopic=e(i),this.specificMutationTopic=e(r+n.getId()),this.now=t,this.domainObject=n}var i="mutation",r="mutation:";return n.prototype.mutate=function(n,i){function r(e){c.notify(s),l.notify(e)}function o(t){var n=t||d;return t!==!1&&(u!==n&&e(u,n),u.modified=p?i:a(),r(u)),t!==!1}var s=this.domainObject,a=this.now,c=this.generalMutationTopic,l=this.specificMutationTopic,u=s.getModel(),d=JSON.parse(JSON.stringify(u)),p=arguments.length>1;return t(n(d)).then(o)},n.prototype.listen=function(e){return this.specificMutationTopic.listen(e)},n.prototype.invoke=n.prototype.mutate,n}),define("platform/core/src/capabilities/DelegationCapability",[],function(){"use strict";function e(e,t){var n=t.getCapability("type"),i=this;this.$q=e,this.delegateCapabilities={},this.domainObject=t,n&&n.getDefinition&&(n.getDefinition().delegates||[]).forEach(function(e){i.delegateCapabilities[e]=!0})}return e.prototype.getDelegates=function(e){function t(e){return function(t){return t.filter(function(t){return t.hasCapability(e)})}}function n(){return i.useCapability("composition")}var i=this.domainObject;return this.doesDelegateCapability(e)?n().then(t(e)):this.$q.when([])},e.prototype.doesDelegateCapability=function(e){return!!this.delegateCapabilities[e]},e.prototype.invoke=e.prototype.getDelegates,e}),define("platform/core/src/objects/DomainObjectImpl",[],function(){"use strict";function e(e,t,n){this.id=e,this.model=t,this.capabilities=n}return e.prototype.getId=function(){return this.id},e.prototype.getModel=function(){return this.model},e.prototype.getCapability=function(e){var t=this.capabilities[e];return"function"==typeof t?t(this):t},e.prototype.hasCapability=function(e){return void 0!==this.getCapability(e)},e.prototype.useCapability=function(e){var t=Array.prototype.slice.apply(arguments,[1]),n=this.getCapability(e);return n&&n.invoke?n.invoke.apply(n,t):n},e}),define("platform/core/src/capabilities/InstantiationCapability",["../objects/DomainObjectImpl"],function(e){"use strict";function t(e,t,n,i){this.$injector=e,this.identifierService=t,this.domainObject=i,this.now=n}return t.prototype.instantiate=function(e){var t=this.identifierService.parse(this.domainObject.getId()),n=t.getDefinedSpace(),i=this.identifierService.generate(n);return e.modified=this.now(),this.instantiateFn=this.instantiateFn||this.$injector.get("instantiate"),this.instantiateFn(e,i)},t.prototype.invoke=t.prototype.instantiate,t}),define("platform/core/src/services/Now",[],function(){"use strict";function e(){return function(){return Date.now()}}return e}),define("platform/core/src/services/Throttle",[],function(){"use strict";function e(e){return function(t,n,i){function r(){return o=void 0,t.apply(null,s)}var o,s=[];return n=n||0,i=i||!1,function(){return s=Array.prototype.slice.apply(arguments,[0]),o=o||e(r,n,i)}}}return e}),define("platform/core/src/services/Topic",[],function(){"use strict";function e(e){function n(){var n=[];return{listen:function(e){return n.push(e),function(){n=n.filter(function(t){return t!==e})}},notify:function(i){n.forEach(function(n){try{n(i)}catch(r){e.error(t+r.message)}})}}}var i={};return function(e){return arguments.length<1?n():(i[e]=i[e]||n(),i[e])}}var t="Error when notifying listener: ";return e}),define("platform/core/src/capabilities/ContextCapability",[],function(){"use strict";function e(e,t){this.parentObject=e,this.domainObject=t}return e.prototype.getParent=function(){return this.parentObject},e.prototype.getPath=function(){var e=this.parentObject,t=e&&e.getCapability("context"),n=t?t.getPath():[this.parentObject];return n.concat([this.domainObject])},e.prototype.getRoot=function(){var e=this.parentObject&&this.parentObject.getCapability("context");return e?e.getRoot():this.parentObject||this.domainObject},e}),define("platform/core/src/capabilities/ContextualDomainObject",["./ContextCapability"],function(e){"use strict";function t(t,n){var i=Object.create(t),r=new e(n,t);return i.getCapability=function(e){return"context"===e?r:t.getCapability.apply(this,arguments)},i}return t}),define("platform/core/src/services/Contextualize",["../capabilities/ContextualDomainObject"],function(e){"use strict";function t(t){function n(e,n){var i=n&&n.getModel(),r=(i||{}).composition||[];-1===r.indexOf(e)&&t.warn(["Attempted to contextualize",e,"in",n&&n.getId(),"but that object does not contain",e,"in its composition.","Unexpected behavior may follow."].join(" "))}return function(t,i){return n(t.getId(),i),new e(t,i)}}return t}),define("platform/core/src/services/Instantiate",["../objects/DomainObjectImpl"],function(e){"use strict";function t(t,n,i){return function(r,o){var s=t.getCapabilities(r);return o=o||n.generate(),i.put(o,r),new e(o,r,s)}}return t}),define("platform/core/bundle",["./src/objects/DomainObjectProvider","./src/capabilities/CoreCapabilityProvider","./src/models/StaticModelProvider","./src/models/RootModelProvider","./src/models/ModelAggregator","./src/models/ModelCacheService","./src/models/PersistedModelProvider","./src/models/CachingModelDecorator","./src/models/MissingModelDecorator","./src/types/TypeProvider","./src/actions/ActionProvider","./src/actions/ActionAggregator","./src/actions/LoggingActionDecorator","./src/views/ViewProvider","./src/identifiers/IdentifierProvider","./src/capabilities/CompositionCapability","./src/capabilities/RelationshipCapability","./src/types/TypeCapability","./src/actions/ActionCapability","./src/views/ViewCapability","./src/capabilities/PersistenceCapability","./src/capabilities/MetadataCapability","./src/capabilities/MutationCapability","./src/capabilities/DelegationCapability","./src/capabilities/InstantiationCapability","./src/services/Now","./src/services/Throttle","./src/services/Topic","./src/services/Contextualize","./src/services/Instantiate","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,O,x,T,k,A,I,M){"use strict";M.register("platform/core",{name:"Open MCT Web Core",description:"Defines core concepts of Open MCT Web.",sources:"src",configuration:{paths:{uuid:"uuid"}},extensions:{versions:[{name:"Version",value:"0.10.1-SNAPSHOT",priority:999},{name:"Built",value:"2016-11-17T18:59:13Z",description:"The date on which this version of the client was built.",priority:990},{name:"Revision",value:"2ef9820b4893ce85727a5ac066c0aa2510bb51e7",description:"A unique revision identifier for the client sources.",priority:995},{name:"Branch",value:"live_demo",description:"The name of the branch that was used during the build.",priority:994}],components:[{provides:"objectService",type:"provider",implementation:e,depends:["modelService","instantiate"]},{provides:"capabilityService",type:"provider",implementation:t,depends:["capabilities[]","$log"]},{provides:"modelService",type:"provider",implementation:n,depends:["models[]","$q","$log"]},{provides:"modelService",type:"provider",implementation:i,depends:["roots[]","$q","$log"]},{provides:"modelService",type:"aggregator",implementation:r,depends:["$q"]},{provides:"modelService",type:"provider",implementation:s,depends:["persistenceService","$q","now","PERSISTENCE_SPACE"]},{provides:"modelService",type:"decorator",implementation:a,depends:["cacheService"]},{provides:"modelService",type:"decorator",priority:"fallback",implementation:c},{provides:"typeService",type:"provider",implementation:l,depends:["types[]"]},{provides:"actionService",type:"provider",implementation:u,depends:["actions[]","$log"]},{provides:"actionService",type:"aggregator",implementation:d},{provides:"actionService",type:"decorator",implementation:p,depends:["$log"]},{provides:"viewService",type:"provider",implementation:f,depends:["views[]","$log"]},{provides:"identifierService",type:"provider",implementation:h,depends:["PERSISTENCE_SPACE"]}],types:[{properties:[{control:"textfield",name:"Title",key:"name",property:"name",pattern:"\\S+",required:!0,cssclass:"l-input-lg"}]},{key:"root",name:"Root",glyph:"F"},{key:"folder",name:"Folder",glyph:"F",features:"creation",description:"Create folders to organize other objects or links to objects.",priority:1e3,model:{composition:[]}},{key:"unknown",name:"Unknown Type",glyph:"?"},{name:"Unknown Type",glyph:"?"}],capabilities:[{key:"composition",implementation:m,depends:["$injector","contextualize"]},{key:"relationship",implementation:g,depends:["$injector"]},{key:"type",implementation:y,depends:["typeService"]},{key:"action",implementation:v,depends:["$q","actionService"]},{key:"view",implementation:b,depends:["viewService"]},{key:"persistence",implementation:w,depends:["cacheService","persistenceService","identifierService","notificationService","$q"]},{key:"metadata",implementation:S},{key:"mutation",implementation:$,depends:["topic","now"]},{key:"delegation",implementation:C,depends:["$q"]},{key:"instantiation",implementation:O,depends:["$injector","identifierService","now"]}],services:[{key:"cacheService",implementation:o},{key:"now",implementation:x},{key:"throttle",implementation:T,depends:["$timeout"]},{key:"topic",implementation:k,depends:["$log"]},{key:"contextualize",implementation:A,depends:["$log"]},{key:"instantiate",implementation:I,depends:["capabilityService","identifierService","cacheService"]}],roots:[{id:"mine",model:{name:"My Items",type:"folder",composition:[]}}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}],licenses:[{name:"Math.uuid.js",version:"1.4.7",description:"Unique identifer generation (code adapted.)",author:"Robert Kieffer",website:"https://github.com/broofa/node-uuid",copyright:"Copyright (c) 2010-2012 Robert Kieffer",license:"license-mit",link:"http://opensource.org/licenses/MIT"}]}})}),define("platform/representation/src/MCTInclude",[],function(){"use strict";function e(e,t){function n(e,n){var r=t.link(e,n,e.key&&i[e.key]);e.$watch("key",function(e){r(e&&i[e])})}var i={};return e.forEach(function(e){var t=e.key;i[t]=i[t]||e}),{restrict:"E",link:n,priority:-1e3,scope:{key:"=",ngModel:"=",parameters:"="}}}return e}),define("platform/representation/src/MCTRepresentation",[],function(){"use strict";function e(e,t,n,i,r,o){function s(e,t){var n,i,r=c[e]||[];for(i=0;i<r.length;i+=1)if(n=r[i].type,!n||!t||t.getCapability("type").instanceOf(n))return r[i]}function a(e,t,a,c,l){function u(){var t=e.domainObject,n=s(e.key,t),r=(n||{}).uses||[],a=v;t&&(e.model=t.getModel(),r.forEach(function(n){o.debug(["Requesting capability ",n," for representation ",e.key].join("")),i.when(t.useCapability(n)).then(function(t){v===a&&(e[n]=t)})}))}function d(){g.forEach(function(e){e.destroy()})}function p(e,t,n,i){return e===b&&i===m&&n.length===S.length&&n.every(function(e,t){return e===S[t]})&&t===w}function f(e){return e?e.hasCapability("context")?e.getCapability("context").getPath().map(function(e){return e.getId()}):[e.getId()]:[]}function h(){var t=e.domainObject,n=s(e.key,t),i=(n||{}).uses||[],r=!(!n||!t),a=!(!t||!t.hasCapability("editor")),c=f(t),l=e.key;p(r,a,c,l)||(e.representation={},$(r?n:void 0),d(),!n&&e.key&&o.warn("No representation found for "+e.key),y.forEach(function(t){delete e[t]}),b=r,S=c,w=a,m=l,r&&(v+=1,u(),e.configuration=(e.model.configuration||{})[e.key]||{},g.forEach(function(e){e.represent(n,t)}),y=i.concat(["model"])))}var m,g=n.map(function(n){return new n(e,t,a)}),y=[],v=0,b=!1,w=!1,S=[],$=r.link(e,t);e.$watch("key",h),e.$watch("domainObject",h),e.$watch("domainObject.getModel().modified",u),e.$on("$destroy",d),h()}var c={};return e.concat(t).forEach(function(e){var t=e.key;c[t]=c[t]||[],c[e.key].push(e)}),{restrict:"E",link:a,priority:-1e3,scope:{key:"=",domainObject:"=mctObject",ngModel:"=",parameters:"="}}}return e}),define("platform/representation/src/gestures/GestureConstants",{
MCT_DRAG_TYPE:"mct-domain-object-id",MCT_EXTENDED_DRAG_TYPE:"mct-domain-object",MCT_MENU_DIMENSIONS:[170,200],MCT_DROP_EVENT:"mctDrop"}),define("platform/representation/src/gestures/DragGesture",["./GestureConstants"],function(e){"use strict";function t(t,n,i,r){function o(i){var o=(i||{}).originalEvent||i;t.debug("Initiating drag");try{o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("text/plain",JSON.stringify({id:r.getId(),model:r.getModel()})),o.dataTransfer.setData(e.MCT_DRAG_TYPE,r.getId()),n.setData(e.MCT_EXTENDED_DRAG_TYPE,r),n.setData(e.MCT_DRAG_TYPE,r.getId())}catch(s){t.warn(["Could not initiate drag due to ",s.message].join(""))}}function s(){n.removeData(e.MCT_DRAG_TYPE),n.removeData(e.MCT_EXTENDED_DRAG_TYPE)}t.debug("Attaching drag gesture"),i.attr("draggable","true"),i.on("dragstart",o),i.on("dragend",s),this.element=i,this.startDragCallback=o,this.endDragCallback=s}return t.prototype.destroy=function(){this.element.removeAttr("draggable"),this.element.off("dragstart",this.startDragCallback),this.element.off("dragend",this.endDragCallback)},t}),define("platform/commonUI/edit/src/capabilities/EditablePersistenceCapability",[],function(){"use strict";function e(e,t,n,i){var r=Object.create(e);return r.persist=function(){return i.markDirty(t)},r.refresh=function(){return n.getCapability("persistence").refresh()},r}return e}),define("platform/commonUI/edit/src/capabilities/EditableLookupCapability",[],function(){"use strict";return function(e,t,n,i,r){function o(e){return void 0!==e&&"function"==typeof e.getId&&"function"==typeof e.getModel&&"function"==typeof e.getCapability}function s(e){return o(e)?i.getEditableObject(e):e}function a(e){return Array.isArray(e)?e.map(s):s(e)}function c(e){return e&&e.then?e.then(a):a(e)}function l(t){return function(){return c(e[t].apply(f,arguments))}}function u(e){return function(){var t=l(e).apply(this,arguments);return f[e]=function(){return t},t}}function d(e){"function"==typeof f[e]&&(f[e]=(r?u:l)(e))}var p,f=Object.create(e);for(p in e)d(p);return f}}),define("platform/commonUI/edit/src/capabilities/EditableContextCapability",["./EditableLookupCapability"],function(e){"use strict";return function(t,n,i,r){var o=new e(t,n,i,r,!0),s=o.getRoot();return o.getTrueRoot=function(){return s},r.isRoot(i)&&(o.getRoot=function(){return n},o.getPath=function(){return[n]}),o}}),define("platform/commonUI/edit/src/capabilities/EditableCompositionCapability",["./EditableLookupCapability"],function(e){"use strict";return function(t,n,i,r){return new e(t,n,i,r,!1)}}),define("platform/commonUI/edit/src/capabilities/EditableRelationshipCapability",["./EditableLookupCapability"],function(e){"use strict";return function(t,n,i,r){return new e(t,n,i,r,!1)}}),define("platform/commonUI/edit/src/capabilities/EditableInstantiationCapability",["./EditableLookupCapability"],function(e){"use strict";return function(t,n,i,r){return new e(t,n,i,r,!1)}}),define("platform/commonUI/edit/src/capabilities/EditorCapability",[],function(){"use strict";function e(e,t,n,i){this.editableObject=t,this.domainObject=n,this.cache=i}function t(e){return e&&e.then?e:{then:function(n){return t(n(e))}}}return e.prototype.save=function(e){function n(){return o.useCapability("mutation",function(){return s.getModel()})}function i(){return o.getCapability("persistence").persist()}var r,o=this.domainObject,s=this.editableObject,a=this,c=this.cache;return s.getCapability("status").set("editing",!1),r=e?t(n()).then(i).then(function(){a.cancel()}):t(c.saveAll()),r.then(function(){return o.getOriginalObject?o.getOriginalObject():o})},e.prototype.cancel=function(){return this.editableObject.getCapability("status").set("editing",!1),this.cache.markClean(),t(void 0)},e.prototype.dirty=function(){return this.cache.dirty()},e}),define("platform/commonUI/edit/src/capabilities/EditableActionCapability",[],function(){"use strict";function e(e,n,i,r){var o=Object.create(e);return o.getActions=function(n){return e.getActions(n).filter(function(e){return-1===t.indexOf(e.getMetadata().key)})},o}var t=["move","copy","link","window","follow"];return e}),define("platform/commonUI/edit/src/objects/EditableModelCache",[],function(){"use strict";function e(){this.cache={}}function t(e){return JSON.parse(JSON.stringify(e))}return e.prototype.getCachedModel=function(e){var n=e.getId(),i=this.cache;return i[n]=i[n]||t(e.getModel())},e}),define("platform/commonUI/edit/src/objects/EditableDomainObjectCache",["./EditableModelCache"],function(e){"use strict";function t(t,n){this.cache=new e,this.dirtyObjects={},this.root=void 0,this.$q=n,this.EditableDomainObject=t}return t.prototype.getEditableObject=function(e){var t,n=e.getCapability("type"),i=this.EditableDomainObject;return this.root=this.root||e,e.hasCapability("editor")?e:n&&n.hasFeature("creation")?t=new i(e,this.cache.getCachedModel(e)):e},t.prototype.isRoot=function(e){return e===this.root},t.prototype.markDirty=function(e){return this.dirtyObjects[e.getId()]=e,this.$q.when(!0)},t.prototype.markClean=function(e){var t=this;e?delete this.dirtyObjects[e.getId()]:Object.keys(this.dirtyObjects).forEach(function(e){delete t.dirtyObjects[e]})},t.prototype.saveAll=function(){var e=this.dirtyObjects,t=Object.keys(e).map(function(t){return e[t]});return this.dirtyObjects={},this.$q.all(t.map(function(e){return e.getCapability("editor").save(!0)}))},t.prototype.dirty=function(){return Object.keys(this.dirtyObjects).length>0},t}),define("platform/commonUI/edit/src/objects/EditableDomainObject",["../capabilities/EditablePersistenceCapability","../capabilities/EditableContextCapability","../capabilities/EditableCompositionCapability","../capabilities/EditableRelationshipCapability","../capabilities/EditableInstantiationCapability","../capabilities/EditorCapability","../capabilities/EditableActionCapability","./EditableDomainObjectCache"],function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){return"editor"===e?["persistence"]:t}function l(e,t){function n(e,t){var n=Object.create(e);return n.getModel=function(){return t},n.getCapability=function(t){var r=c(t,arguments),o=e.getCapability.apply(this,r),s=u[t];return s&&o?new s(o,n,e,i):o},n.setOriginalObject=function(e){o=e},n.getOriginalObject=function(){return o},n}var i,r,o=e;return i=new a(n,t),r=i.getEditableObject(e)}var u={persistence:e,context:t,composition:n,relationship:i,instantiation:r,editor:o};return l}),define("platform/representation/src/gestures/DropGesture",["./GestureConstants","../../../commonUI/edit/src/objects/EditableDomainObject"],function(e,t){"use strict";function n(n,i,r,o,s,a,c){function l(t,n){var i;m&&m.$broadcast&&(i=a[0].getBoundingClientRect(),m.$broadcast(e.MCT_DROP_EVENT,t,{x:n.pageX-i.left,y:n.pageY-i.top},p))}function u(r){p=c.hasCapability("editor")||"folder"===c.getModel().type?c:new t(c,i),h=p.getCapability("action");var o=(r||{}).originalEvent||r,s=n.getData(e.MCT_EXTENDED_DRAG_TYPE);return s&&(f=h.getActions({key:"compose",selectedObject:s})[0])?(o.dataTransfer.dropEffect="move",o.preventDefault(),!1):void 0}function d(t){var n=(t||{}).originalEvent||t,r=n.dataTransfer.getData(e.MCT_DRAG_TYPE),o=p.getModel().type;r&&(t.preventDefault(),i.when(f&&f.perform()).then(function(e){"folder"!==o&&p.getCapability("action").perform("edit"),l(r,n)}))}var p,f,h=c.getCapability("action"),m=a.scope&&a.scope();h&&(a.on("dragover",u),a.on("drop",d)),this.element=a,this.dragOverCallback=u,this.dropCallback=d}return n.prototype.destroy=function(){this.element.off("dragover",this.dragOverCallback),this.element.off("drop",this.dropCallback)},n}),define("platform/representation/src/gestures/ContextMenuGesture",[],function(){"use strict";function e(e,t,n,i){function r(e){i.getCapability("action").perform({key:"menu",domainObject:i,event:e})}var o,s=500;t.isMobile()?t.isMobile()&&(n.on("touchstart",function(t){t.touches.length<2&&(o=!0,e(function(){o&&r(t)},s))}),n.on("touchend",function(e){o=!1})):n.on("contextmenu",r),this.showMenuCallback=r,this.element=n}return e.prototype.destroy=function(){this.element.off("contextmenu",this.showMenu)},e}),define("platform/representation/src/gestures/GestureProvider",[],function(){"use strict";function e(e){var t={};e.forEach(function(e){t[e.key]=e}),this.gestureMap=t}function t(e){e&&e.destroy&&e.destroy()}return e.prototype.attachGestures=function(e,n,i){var r=this.gestureMap,o=i.map(function(e){return r[e]}).filter(function(e){return void 0!==e&&(e.appliesTo?e.appliesTo(n):!0)}).map(function(t){return new t(e,n)});return{destroy:function(){o.forEach(t)}}},e}),define("platform/representation/src/gestures/GestureRepresenter",[],function(){"use strict";function e(e,t,n){this.gestureService=e,this.element=n}return e.prototype.represent=function(e,t){this.destroy(),this.gestureHandle=this.gestureService.attachGestures(this.element,t,(e||{}).gestures||[])},e.prototype.destroy=function(){this.gestureHandle&&this.gestureHandle.destroy()},e}),define("platform/representation/src/services/DndService",[],function(){"use strict";function e(e){var t={};return{setData:function(n,i){e.debug("Setting drag data for "+n),t[n]=i},getData:function(e){return t[e]},removeData:function(n){e.debug("Clearing drag data for "+n),delete t[n]}}}return e}),define("platform/representation/src/TemplateLinker",[],function(){"use strict";function e(e,t,n,i){this.$templateRequest=e,this.$sce=t,this.$compile=n,this.$log=i}return e.prototype.load=function(e){return this.$templateRequest(this.$sce.trustAsResourceUrl(e),!1)},e.prototype.getPath=function(e){return[e.bundle.path,e.bundle.resources,e.templateUrl].join("/")},e.prototype.link=function(e,t,n){function i(){p&&(p.$destroy(),p=void 0)}function r(){f!==h&&(i(),f.replaceWith(h),f=h)}function o(){f!==t&&(f.replaceWith(t),f=t,f.empty())}function s(n){i(),p=e.$new(!1),t.html(n),m.$compile(t.contents())(p)}function a(e){o(),s(e),d=void 0}function c(e){m.$log.warn("Couldn't load template at "+e),r()}function l(e){e?(i(),o(),m.load(e).then(function(t){e===d&&s(t)},function(){c(e)})):r(),d=e}function u(e){e=e||{},e.templateUrl?l(m.getPath(e)):e.template?a(e.template):r()}var d,p,f=t,h=this.$compile("<!-- hidden mct element -->")(e),m=this;return u(n),u},e}),define("platform/representation/src/actions/ContextMenuAction",["../gestures/GestureConstants"],function(e){"use strict";function t(e,t,n,i,r,o){this.$compile=e,this.agentService=r,this.actionContext=o,this.popupService=i,this.getDocument=function(){return t},this.getRootScope=function(){return n}}var n,i='<mct-representation key="\'context-menu\'" mct-object="domainObject" ng-class="menuClass" ng-style="menuStyle"></mct-representation>';return t.prototype.perform=function(){function t(){o&&(o.dismiss(),o=void 0),f.$destroy(),p.off("mousedown",t),n=void 0}var r,o,s=this.$compile,a=this.getDocument(),c=this.getRootScope(),l=this.actionContext,u=[l.event.pageX,l.event.pageY],d=e.MCT_MENU_DIMENSIONS,p=a.find("body"),f=c.$new(),h=this.agentService.isMobile()?"touchstart":"mousedown";n&&n(),n=t,f.domainObject=l.domainObject,f.menuClass={"context-menu-holder":!0},r=s(i)(f),o=this.popupService.display(r,u,{marginX:-d[0],marginY:-d[1]}),f.menuClass["go-left"]=o.goesLeft(),f.menuClass["go-up"]=o.goesUp(),r.on(h,function(e){e.stopPropagation()}),p.on(h,t),r.on("click",t),l.event.preventDefault()},t}),define("platform/representation/src/TemplatePrefetcher",[],function(){"use strict";function e(e,t){Array.prototype.slice.apply(arguments,[1]).reduce(function(e,t){return e.concat(t)},[]).forEach(function(t){t.templateUrl&&e.load(e.getPath(t))})}return e}),define("platform/representation/bundle",["./src/MCTInclude","./src/MCTRepresentation","./src/gestures/DragGesture","./src/gestures/DropGesture","./src/gestures/ContextMenuGesture","./src/gestures/GestureProvider","./src/gestures/GestureRepresenter","./src/services/DndService","./src/TemplateLinker","./src/actions/ContextMenuAction","./src/TemplatePrefetcher","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";d.register("platform/representation",{extensions:{directives:[{key:"mctInclude",implementation:e,depends:["templates[]","templateLinker"]},{key:"mctRepresentation",implementation:t,depends:["representations[]","views[]","representers[]","$q","templateLinker","$log"]}],gestures:[{key:"drag",implementation:n,depends:["$log","dndService"]},{key:"drop",implementation:i,depends:["dndService","$q","navigationService","instantiate","typeService"]},{key:"menu",implementation:r,depends:["$timeout","agentService"]}],components:[{provides:"gestureService",type:"provider",implementation:o,depends:["gestures[]"]}],representers:[{implementation:s,depends:["gestureService"]}],services:[{key:"dndService",implementation:a,depends:["$log"]},{key:"templateLinker",implementation:c,depends:["$templateRequest","$sce","$compile","$log"],comment:"For internal use by mct-include and mct-representation."}],actions:[{key:"menu",implementation:l,depends:["$compile","$document","$rootScope","popupService","agentService"]}],runs:[{priority:"mandatory",implementation:u,depends:["templateLinker","templates[]","views[]","representations[]","controls[]","containers[]"]}]}})}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,r){if(n===r)return!0;if(e===i){if("http"===e)return t(n,"80")===t(r,"80");if("https"===e)return t(n,"443")===t(r,"443")}return!1}var i,r,o,s,a,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,p=d&&location.protocol&&location.protocol.replace(/\:/,""),f=d&&location.hostname,h=d&&(location.port||void 0),m={},g=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(i){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,i=n||t,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,o){var s,a,c,l=i.xdRegExp.exec(e);return l?(s=l[2],a=l[3],a=a.split(":"),c=a[1],a=a[0],(!s||s===t)&&(!a||a.toLowerCase()===r.toLowerCase())&&(!c&&!a||n(s,c,t,o))):!0},finishLoad:function(e,t,n,r){n=t?i.strip(n):n,g.isBuild&&(m[e]=n),r(n)},load:function(e,t,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();g.isBuild=r&&r.isBuild;var o=i.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),a=t.toUrl(s),c=g.useXhr||i.useXhr;return 0===a.indexOf("empty:")?void n():void(!d||c(a,p,f,h)?i.get(a,function(t){i.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){i.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n,r){if(m.hasOwnProperty(t)){var o=i.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,r,o){var s=i.parseName(t),a=s.ext?"."+s.ext:"",c=s.moduleName+a,l=n.toUrl(s.moduleName+a)+".js";i.load(c,n,function(t){var n=function(e){return r(l,e)};n.asModule=function(e,t){return r.asModule(e,l,t)},i.write(e,c,n,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(r=require.nodeRequire("fs"),i.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(o){n&&n(o)}}):"xhr"===g.env||!g.env&&i.createXhr()?i.get=function(e,t,n,r){var o,s=i.createXhr();if(s.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(i){var r,o;4===s.readyState&&(r=s.status||0,r>399&&600>r?(o=new Error(e+" HTTP status: "+r),o.xhr=s,n&&n(o)):t(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var n,i,r="utf-8",o=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),c="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=a.readLine());)n.append(s),n.append(i);c=String(n.toString())}finally{a.close()}t(c)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in o,i.get=function(e,t){var n,i,r,c={};a&&(e=e.replace(/\//g,"\\")),r=new FileUtils.File(e);try{n=o["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(r,1,0,!1),i=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),i.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),c),i.close(),n.close(),t(c.value)}catch(l){throw new Error((r&&r.path||"")+": "+l)}}),i}),define("text!platform/commonUI/about/res/templates/about-dialog.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs t-about l-about t-about-openmctweb s-about" ng-controller = "AboutController as about">\n    <div class="l-splash s-splash"></div>\n    <div class="s-text l-content">\n        <h1 class="l-title s-title">Open MCT</h1>\n        <div class="l-description s-description">\n	        <p>Open MCT Web, Copyright &copy; 2014-2015, United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All rights reserved.</p>\n	        <p>Open MCT Web is licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.  You may obtain a copy of the License at <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.</p>\n	        <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>\n	        <p>Open MCT Web includes source code licensed under additional open source licenses. See the Open Source Licenses file included with this distribution or <a ng-click="about.openLicenses()">click here for licensing information</a>.</p>\n        </div>\n        <h2>Version Information</h2>\n        <ul class="t-info l-info s-info" ng-repeat = "version in about.versions()">\n            <li title="{{version.description}}">\n                <span class="info version-name">{{version.name}}</span>\n	            <span class="info version-value">{{version.value}}</span>\n            </li>\n        </ul>\n    </div>\n</div>\n\n'}),define("platform/commonUI/about/src/LogoController",[],function(){"use strict";function e(e){this.overlayService=e}return e.prototype.showAboutDialog=function(){this.overlayService.createOverlay("overlay-about")},e}),define("platform/commonUI/about/src/AboutController",[],function(){"use strict";function e(e,t){this.versionDefinitions=e,this.$window=t}return e.prototype.versions=function(){return this.versionDefinitions},e.prototype.openLicenses=function(){this.$window.open("#/licenses")},e}),define("platform/commonUI/about/src/LicenseController",[],function(){"use strict";function e(e){this.licenseDefinitions=e}return e.prototype.licenses=function(){return this.licenseDefinitions},e}),define("text!platform/commonUI/about/res/templates/app-logo.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller = "AboutController as about">\n	<div class=\'app-logo logo-openmctweb abs\' title="Version {{about.versions()[0].value}}"></div>\n</span>'}),define("text!platform/commonUI/about/res/templates/about-logo.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="LogoController as logo">\n    <mct-include ng-click="logo.showAboutDialog()" key="\'app-logo\'">\n    </mct-include>\n</span>\n'}),define("text!platform/commonUI/about/res/templates/overlay-about.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay">\n    <mct-include key="\'about-dialog\'">\n    </mct-include>\n</mct-container>'}),define("text!platform/commonUI/about/res/templates/license-apache.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- From http://www.apache.org/licenses/LICENSE-2.0 -->\n<br>\n	<p>Version 2.0, January 2004</p>\n	<p><a href="http://www.apache.org/licenses/">http://www.apache.org/licenses/</a></p>\n	<h3>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</h3>\n	<p><strong><a name="definitions">1. Definitions</a></strong>.</p>\n	<p>"License" shall mean the terms and conditions for use, reproduction, and\n		distribution as defined by Sections 1 through 9 of this document.</p>\n	<p>"Licensor" shall mean the copyright owner or entity authorized by the\n		copyright owner that is granting the License.</p>\n	<p>"Legal Entity" shall mean the union of the acting entity and all other\n		entities that control, are controlled by, or are under common control with\n		that entity. For the purposes of this definition, "control" means (i) the\n		power, direct or indirect, to cause the direction or management of such\n		entity, whether by contract or otherwise, or (ii) ownership of fifty\n		percent (50%) or more of the outstanding shares, or (iii) beneficial\n		ownership of such entity.</p>\n	<p>"You" (or "Your") shall mean an individual or Legal Entity exercising\n		permissions granted by this License.</p>\n	<p>"Source" form shall mean the preferred form for making modifications,\n		including but not limited to software source code, documentation source,\n		and configuration files.</p>\n	<p>"Object" form shall mean any form resulting from mechanical transformation\n		or translation of a Source form, including but not limited to compiled\n		object code, generated documentation, and conversions to other media types.</p>\n	<p>"Work" shall mean the work of authorship, whether in Source or Object form,\n		made available under the License, as indicated by a copyright notice that\n		is included in or attached to the work (an example is provided in the\n		Appendix below).</p>\n	<p>"Derivative Works" shall mean any work, whether in Source or Object form,\n		that is based on (or derived from) the Work and for which the editorial\n		revisions, annotations, elaborations, or other modifications represent, as\n		a whole, an original work of authorship. For the purposes of this License,\n		Derivative Works shall not include works that remain separable from, or\n		merely link (or bind by name) to the interfaces of, the Work and Derivative\n		Works thereof.</p>\n	<p>"Contribution" shall mean any work of authorship, including the original\n		version of the Work and any modifications or additions to that Work or\n		Derivative Works thereof, that is intentionally submitted to Licensor for\n		inclusion in the Work by the copyright owner or by an individual or Legal\n		Entity authorized to submit on behalf of the copyright owner. For the\n		purposes of this definition, "submitted" means any form of electronic,\n		verbal, or written communication sent to the Licensor or its\n		representatives, including but not limited to communication on electronic\n		mailing lists, source code control systems, and issue tracking systems that\n		are managed by, or on behalf of, the Licensor for the purpose of discussing\n		and improving the Work, but excluding communication that is conspicuously\n		marked or otherwise designated in writing by the copyright owner as "Not a\n		Contribution."</p>\n	<p>"Contributor" shall mean Licensor and any individual or Legal Entity on\n		behalf of whom a Contribution has been received by Licensor and\n		subsequently incorporated within the Work.</p>\n	<p><strong><a name="copyright">2. Grant of Copyright License</a></strong>. Subject to the\n		terms and conditions of this License, each Contributor hereby grants to You\n		a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n		copyright license to reproduce, prepare Derivative Works of, publicly\n		display, publicly perform, sublicense, and distribute the Work and such\n		Derivative Works in Source or Object form.</p>\n	<p><strong><a name="patent">3. Grant of Patent License</a></strong>. Subject to the terms\n		and conditions of this License, each Contributor hereby grants to You a\n		perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n		(except as stated in this section) patent license to make, have made, use,\n		offer to sell, sell, import, and otherwise transfer the Work, where such\n		license applies only to those patent claims licensable by such Contributor\n		that are necessarily infringed by their Contribution(s) alone or by\n		combination of their Contribution(s) with the Work to which such\n		Contribution(s) was submitted. If You institute patent litigation against\n		any entity (including a cross-claim or counterclaim in a lawsuit) alleging\n		that the Work or a Contribution incorporated within the Work constitutes\n		direct or contributory patent infringement, then any patent licenses\n		granted to You under this License for that Work shall terminate as of the\n		date such litigation is filed.</p>\n	<p><strong><a name="redistribution">4. Redistribution</a></strong>. You may reproduce and\n		distribute copies of the Work or Derivative Works thereof in any medium,\n		with or without modifications, and in Source or Object form, provided that\n		You meet the following conditions:</p>\n	<ol style="list-style: lower-latin;">\n		<li>You must give any other recipients of the Work or Derivative Works a\n			copy of this License; and</li>\n\n		<li>You must cause any modified files to carry prominent notices stating\n			that You changed the files; and</li>\n\n		<li>You must retain, in the Source form of any Derivative Works that You\n			distribute, all copyright, patent, trademark, and attribution notices from\n			the Source form of the Work, excluding those notices that do not pertain to\n			any part of the Derivative Works; and</li>\n\n		<li>If the Work includes a "NOTICE" text file as part of its distribution,\n			then any Derivative Works that You distribute must include a readable copy\n			of the attribution notices contained within such NOTICE file, excluding\n			those notices that do not pertain to any part of the Derivative Works, in\n			at least one of the following places: within a NOTICE text file distributed\n			as part of the Derivative Works; within the Source form or documentation,\n			if provided along with the Derivative Works; or, within a display generated\n			by the Derivative Works, if and wherever such third-party notices normally\n			appear. The contents of the NOTICE file are for informational purposes only\n			and do not modify the License. You may add Your own attribution notices\n			within Derivative Works that You distribute, alongside or as an addendum to\n			the NOTICE text from the Work, provided that such additional attribution\n			notices cannot be construed as modifying the License.\n			<br>\n			<br>\n			You may add Your own copyright statement to Your modifications and may\n			provide additional or different license terms and conditions for use,\n			reproduction, or distribution of Your modifications, or for any such\n			Derivative Works as a whole, provided Your use, reproduction, and\n			distribution of the Work otherwise complies with the conditions stated in\n			this License.\n		</li>\n\n	</ol>\n\n	<p><strong><a name="contributions">5. Submission of Contributions</a></strong>. Unless You\n		explicitly state otherwise, any Contribution intentionally submitted for\n		inclusion in the Work by You to the Licensor shall be under the terms and\n		conditions of this License, without any additional terms or conditions.\n		Notwithstanding the above, nothing herein shall supersede or modify the\n		terms of any separate license agreement you may have executed with Licensor\n		regarding such Contributions.</p>\n	<p><strong><a name="trademarks">6. Trademarks</a></strong>. This License does not grant\n		permission to use the trade names, trademarks, service marks, or product\n		names of the Licensor, except as required for reasonable and customary use\n		in describing the origin of the Work and reproducing the content of the\n		NOTICE file.</p>\n	<p><strong><a name="no-warranty">7. Disclaimer of Warranty</a></strong>. Unless required by\n		applicable law or agreed to in writing, Licensor provides the Work (and\n		each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT\n		WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including,\n		without limitation, any warranties or conditions of TITLE,\n		NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You\n		are solely responsible for determining the appropriateness of using or\n		redistributing the Work and assume any risks associated with Your exercise\n		of permissions under this License.</p>\n	<p><strong><a name="no-liability">8. Limitation of Liability</a></strong>. In no event and\n		under no legal theory, whether in tort (including negligence), contract, or\n		otherwise, unless required by applicable law (such as deliberate and\n		grossly negligent acts) or agreed to in writing, shall any Contributor be\n		liable to You for damages, including any direct, indirect, special,\n		incidental, or consequential damages of any character arising as a result\n		of this License or out of the use or inability to use the Work (including\n		but not limited to damages for loss of goodwill, work stoppage, computer\n		failure or malfunction, or any and all other commercial damages or losses),\n		even if such Contributor has been advised of the possibility of such\n		damages.</p>\n	<p><strong><a name="additional">9. Accepting Warranty or Additional Liability</a></strong>.\n		While redistributing the Work or Derivative Works thereof, You may choose\n		to offer, and charge a fee for, acceptance of support, warranty, indemnity,\n		or other liability obligations and/or rights consistent with this License.\n		However, in accepting such obligations, You may act only on Your own behalf\n		and on Your sole responsibility, not on behalf of any other Contributor,\n		and only if You agree to indemnify, defend, and hold each Contributor\n		harmless for any liability incurred by, or claims asserted against, such\n		Contributor by reason of your accepting any such warranty or additional\n		liability.</p>\n	<h3>END OF TERMS AND CONDITIONS</h3>\n	<h3 id="apply">APPENDIX: How to apply the Apache License to your work</h3>\n	<p>To apply the Apache License to your work, attach the following boilerplate\n		notice, with the fields enclosed by brackets "[]" replaced with your own\n		identifying information. (Don\'t include the brackets!) The text should be\n		enclosed in the appropriate comment syntax for the file format. We also\n		recommend that a file or class name and description of purpose be included\n		on the same "printed page" as the copyright notice for easier\n		identification within third-party archives.</p>\n	<div class="codehilite"><pre>Copyright [yyyy] [name of copyright owner]\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n</pre></div>';
}),define("text!platform/commonUI/about/res/templates/license-mit.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>'}),define("text!platform/commonUI/about/res/templates/licenses.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="LicenseController as lc" class="abs l-standalone s-text l-about l-licenses s-about s-licenses">\n	<h1>OpenMCT Web Licenses</h1>\n	<h2>Apache License</h2>\n	<mct-include key="\'license-apache\'"></mct-include>\n\n	<h2>Software Components Licenses</h2>\n    <p>This software includes components released under the following licenses:</p>\n	<div class="l-licenses-software">\n		<div class="l-license-software" ng-repeat="license in lc.licenses()">\n			<h3><a target="_blank" ng-href="{{license.website}}">{{license.name}}</a></h3>\n			<p>\n				<em>Version</em> {{license.version}}\n				<em>&nbsp;|&nbsp;Author<span ng-show="license.author.indexOf(\',\') > 0">s</span></em> {{license.author}}\n				<em>&nbsp;|&nbsp;Description</em> {{license.description}}\n			</p>\n			<em>License</em>\n			<div class="s-license-text">\n				<p ng-show="license.copyright.length > 0">{{license.copyright}}</p>\n				<mct-include key="license.license"></mct-include>\n			</div>\n		</div>\n	</div>\n</div>'}),define("text!platform/commonUI/about/res/templates/licenses-export-md.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="LicenseController as lc" class="abs l-about l-standalone s-text s-md-export">\n    <h1># Open MCT Web Licenses</h1>\n    <h2>## Apache License</h2>\n    <mct-include key="\'license-apache\'"></mct-include>\n\n    <h2>## Software Components Licenses</h2>\n    <p>This software includes components released under the following licenses:</p>\n    <div class="l-license-software" ng-repeat="license in lc.licenses()">\n        <p>### {{license.name}}</p>\n        <p>#### Info</p>\n        <p>* Link: {{license.website}}</p>\n        <p>* Version: {{license.version}}</p>\n        <p>* Author<span ng-show="license.author.indexOf(\',\') > 0">s</span>: {{license.author}}</p>\n        <p>* Description: {{license.description}}</p>\n        <p>#### License</p>\n        <p ng-show="license.copyright.length > 0">{{license.copyright}}</p>\n        <mct-include key="license.license"></mct-include>\n        <p>&nbsp;</p>\n        <p>---</p>\n    </div>\n</div>'}),define("platform/commonUI/about/bundle",["text!./res/templates/about-dialog.html","./src/LogoController","./src/AboutController","./src/LicenseController","text!./res/templates/app-logo.html","text!./res/templates/about-logo.html","text!./res/templates/overlay-about.html","text!./res/templates/license-apache.html","text!./res/templates/license-mit.html","text!./res/templates/licenses.html","text!./res/templates/licenses-export-md.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";d.register("platform/commonUI/about",{name:"About Open MCT Web",extensions:{templates:[{key:"app-logo",priority:"optional",template:r},{key:"about-logo",priority:"preferred",template:o},{key:"about-dialog",template:e},{key:"overlay-about",template:s},{key:"license-apache",template:a},{key:"license-mit",template:c}],controllers:[{key:"LogoController",depends:["overlayService"],implementation:t},{key:"AboutController",depends:["versions[]","$window"],implementation:n},{key:"LicenseController",depends:["licenses[]"],implementation:i}],licenses:[{name:"Json.NET",version:"6.0.8",author:"Newtonsoft",description:"JSON serialization/deserialization",website:"http://www.newtonsoft.com/json",copyright:"Copyright (c) 2007 James Newton-King",license:"license-mit",link:"https://github.com/JamesNK/Newtonsoft.Json/blob/master/LICENSE.md"},{name:"Nancy",version:"0.23.2",author:"Andreas Håkansson, Steven Robbins and contributors",description:"Embedded web server",website:"http://nancyfx.org/",copyright:"Copyright © 2010 Andreas Håkansson, Steven Robbins and contributors",license:"license-mit",link:"http://www.opensource.org/licenses/mit-license.php"},{name:"Nancy.Hosting.Self",version:"0.23.2",author:"Andreas Håkansson, Steven Robbins and contributors",description:"Embedded web server",website:"http://nancyfx.org/",copyright:"Copyright © 2010 Andreas Håkansson, Steven Robbins and contributors",license:"license-mit",link:"http://www.opensource.org/licenses/mit-license.php"},{name:"SuperSocket",version:"0.9.0.2",author:" Kerry Jiang",description:"Supports SuperWebSocket",website:"https://supersocket.codeplex.com/",copyright:"Copyright 2010-2014 Kerry Jiang (kerry-jiang@hotmail.com)",license:"license-apache",link:"https://supersocket.codeplex.com/license"},{name:"SuperWebSocket",version:"0.9.0.2",author:" Kerry Jiang",description:"WebSocket implementation for client-server communication",website:"https://superwebsocket.codeplex.com/",copyright:"Copyright 2010-2014 Kerry Jiang (kerry-jiang@hotmail.com)",license:"license-apache",link:"https://superwebsocket.codeplex.com/license"},{name:"log4net",version:"2.0.3",author:"Apache Software Foundation",description:"Logging",website:"http://logging.apache.org/log4net/",copyright:"Copyright © 2004-2015 Apache Software Foundation.",license:"license-apache",link:"http://logging.apache.org/log4net/license.html"}],routes:[{when:"/licenses",template:l},{when:"/licenses-md",template:u}]}})}),define("platform/commonUI/browse/src/BrowseController",["../../../representation/src/gestures/GestureConstants"],function(e){"use strict";function t(e,t,i,r,o,s,a,c,l){function u(n){var r,o=t.current;r=e.$on("$locationChangeSuccess",function(){0===i.path().indexOf("/browse/")&&(t.current=o),r()}),i.path(a.urlForLocation("browse",n))}function d(t){var n=!0;t!==e.navigatedObject&&(c.allow("navigation",e.navigatedObject,t,function(e){n=r.confirm(e+"\r\n\r\n Are you sure you want to continue?")}),n?(e.navigatedObject=t,e.treeModel.selectedObject=t,s.setNavigation(t),u(t)):e.treeModel.selectedObject=e.navigatedObject)}function p(n){!s.getNavigation()||t.current.params.ids?(s.setNavigation(n),e.navigatedObject=n):(e.navigatedObject=s.getNavigation(),u(e.navigatedObject))}function f(e,t){var n;for(n=0;n<e.length;n+=1)if(e[n].getId()===t)return e[n]}function h(e,t){var n=e.useCapability("composition");n?n.then(function(n){var i=f(n,m[t]);i?t+1>=m.length?p(i):h(i,t+1):p(1===t&&n.length>0?n[n.length-1]:e)}):p(e)}var m=[n].concat((t.current.params.ids||l).split("/"));o.getObjects([m[0]]).then(function(t){e.domainObject=t[m[0]],h(e.domainObject,1)}),e.treeModel={selectedObject:s.getNavigation()},s.addListener(d),e.$watch("treeModel.selectedObject",d),e.$on("$destroy",function(){s.removeListener(d)})}var n="ROOT";return t}),define("platform/commonUI/browse/src/PaneController",[],function(){"use strict";function e(e,t,n){var i=this;this.agentService=t,this.state=!n.opener,this.callback=function(){t.isPhone()&&t.isPortrait()&&(i.state=!1)}}return e.prototype.toggle=function(){this.state=!this.state},e.prototype.visible=function(){return this.state},e}),define("platform/commonUI/browse/src/BrowseObjectController",[],function(){"use strict";function e(e,t,n){function i(n){function i(t){t.key===r&&(e.representation=e.representation||{},e.representation.selected=t)}var r=t.search().view;r&&(n&&n.useCapability("view")||[]).forEach(i),o=n}function r(i){var r,o=n.current;i&&(t.search("view",i),r=e.$on("$locationChangeSuccess",function(){0===t.path().indexOf("/browse/")&&(n.current=o),r()}))}var o;e.$watch("domainObject",i),e.$watch("representation.selected.key",r),e.doAction=function(t){return e[t]&&e[t]()}}return e}),define("platform/commonUI/browse/src/creation/CreateMenuController",[],function(){"use strict";function e(e){function t(){e.createActions=e.action?e.action.getActions("create"):[]}e.$watch("action",t)}return e}),define("platform/commonUI/browse/src/creation/LocatorController",[],function(){"use strict";function e(e,t,n){function i(r,o){var s=r&&r.getCapability("context"),a=s&&s.getRoot();return a&&a!==e.rootObject?(e.rootObject=void 0,t(function(){e.rootObject=s&&s.getRoot()||e.rootObject},0)):a||(e.rootObject=void 0,n.getObjects(["ROOT"]).then(function(n){t(function(){e.rootObject=n.ROOT},0)})),e.treeModel.selectedObject=r,e.ngModel[e.field]=r,r&&e.structure&&e.structure.validate&&!e.structure.validate(r)?void i(o,void 0):void(e.ngModelController&&e.ngModelController.$setValidity("composition",!!e.treeModel.selectedObject))}e.treeModel={selectedObject:e.ngModel[e.field]},e.$watch("treeModel.selectedObject",i)}return e}),define("platform/commonUI/browse/src/MenuArrowController",[],function(){"use strict";function e(e){this.$scope=e}return e.prototype.showMenu=function(e){var t={key:"menu",domainObject:this.$scope.domainObject,event:e};this.$scope.domainObject.getCapability("action").perform(t)},e}),define("platform/commonUI/browse/src/navigation/NavigationService",[],function(){"use strict";function e(){this.navigated=void 0,this.callbacks=[]}return e.prototype.getNavigation=function(){return this.navigated},e.prototype.setNavigation=function(e){return this.navigated!==e&&(this.navigated=e,this.callbacks.forEach(function(t){t(e)})),!0},e.prototype.addListener=function(e){this.callbacks.push(e)},e.prototype.removeListener=function(e){this.callbacks=this.callbacks.filter(function(t){return t!==e})},e}),define("platform/commonUI/browse/src/creation/CreationPolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e){return e.hasFeature("creation")},e}),define("platform/commonUI/browse/src/navigation/NavigateAction",[],function(){"use strict";function e(e,t,n){this.domainObject=n.domainObject,this.$q=t,this.navigationService=e}return e.prototype.perform=function(){return this.$q.when(this.navigationService.setNavigation(this.domainObject))},e.appliesTo=function(e){return void 0!==e.domainObject},e}),define("platform/commonUI/browse/src/windowing/NewTabAction",[],function(){"use strict";function e(e,t,n){n=n||{},this.urlService=e,this.open=function(){t.open.apply(t,arguments)},this.domainObject=n.selectedObject||n.domainObject}return e.prototype.perform=function(){this.open(this.urlService.urlForNewTab("browse",this.domainObject),"_blank")},e}),function(e){define("screenfull",[],function(){return function(){return!function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};r>i;i++)if(e=n[i],e&&e[1]in document){for(i=0,t=e.length;t>i;i++)o[n[0][i]]=e[i];return o}return!1}(),i={request:function(e){var i=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:n};return n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),void(e?module.exports=i:window.screenfull=i)):void(e?module.exports=!1:window.screenfull=!1)}(),e.screenfull=screenfull}.apply(e,arguments)})}(this),define("platform/commonUI/browse/src/windowing/FullscreenAction",["screenfull"],function(){"use strict";function e(e){this.context=e}var t="Enter full screen mode",n="Exit full screen mode";return e.prototype.perform=function(){screenfull.toggle()},e.prototype.getMetadata=function(){var i=Object.create(e);return i.glyph=screenfull.isFullscreen?"_":"z",i.description=screenfull.isFullscreen?n:t,i.group="windowing",i.context=this.context,i},e}),define("platform/commonUI/browse/src/creation/CreateWizard",[],function(){"use strict";function e(e,t,n){this.type=e.getCapability("type"),this.model=e.getModel(),this.domainObject=e,this.properties=this.type.getProperties(),this.parent=t,this.policyService=n}return e.prototype.getFormStructure=function(e){function t(e){var t=e&&e.getCapability("type");return t&&r.allow("composition",t,i)}var n=[],i=this.type,r=this.policyService;return n.push({name:"Properties",rows:this.properties.map(function(e,t){var n=Object.create(e.getDefinition());return n.key=t,n}).filter(function(e){return e&&e.control})}),e&&n.push({name:"Location",rows:[{name:"Save In",control:"locator",validate:t,key:"createParent"}]}),{sections:n,name:"Create a New "+this.type.getName()}},e.prototype.populateObjectFromInput=function(e){var t=this.getLocation(e),n=this.createModel(e);return n.location=t.getId(),this.domainObject.useCapability("mutation",function(){return n}),this.domainObject},e.prototype.getInitialFormValue=function(){var e=this.model,t=this.properties.map(function(t){return t.getValue(e)});return t.createParent=this.parent,t},e.prototype.getLocation=function(e){return e.createParent||this.parent},e.prototype.createModel=function(e){var t=JSON.parse(JSON.stringify(this.model));return t.type=this.type.getKey(),this.properties.forEach(function(n,i){n.setValue(t,e[i])}),t},e}),define("platform/commonUI/browse/src/creation/CreateAction",["./CreateWizard","../../../edit/src/objects/EditableDomainObject"],function(e,t){"use strict";function n(e,t,n,i,r){this.metadata={key:"create",glyph:e.getGlyph(),name:e.getName(),type:e.getKey(),description:e.getDescription(),context:n},this.type=e,this.parent=t,this.navigationService=r,this.$q=i}function i(e){var t=e&&e.useCapability("view"),n=0;return(t||[]).forEach(function(e){n+=e.editable!==!1?1:0}),n}return n.prototype.perform=function(){var e,n,r=this.type.getInitialModel(),o=this.navigationService.getNavigation();return r.type=this.type.getKey(),e=o.useCapability("instantiation",r),n=new t(e,this.$q),n.setOriginalObject(o),n.getCapability("status").set("editing",!0),n.useCapability("mutation",function(e){e.location=o.getId()}),i(n)>0&&n.hasCapability("composition")?void this.navigationService.setNavigation(n):n.getCapability("action").perform("save")},n.prototype.getMetadata=function(){return this.metadata},n}),define("platform/commonUI/browse/src/creation/CreateActionProvider",["./CreateAction"],function(e){"use strict";function t(e,t,n,i){this.typeService=t,this.navigationService=n,this.$q=e,this.policyService=i}return t.prototype.getActions=function(t){var n=t||{},i=n.key,r=n.domainObject,o=this;return"create"===i&&r?this.typeService.listTypes().filter(function(e){return o.policyService.allow("creation",e)}).map(function(t){return new e(t,r,n,o.$q,o.navigationService)}):[]},t}),define("platform/commonUI/browse/src/creation/AddAction",["./CreateWizard"],function(e){"use strict";function t(e,t,n,i,r,o){this.metadata={key:"add",glyph:e.getGlyph(),name:e.getName(),type:e.getKey(),description:e.getDescription(),context:n},this.type=e,this.parent=t,this.$q=i,this.dialogService=r,this.policyService=o}return t.prototype.perform=function(){function t(e){return o.populateObjectFromInput(e,r)}function n(e){return e.getCapability("persistence").persist().then(function(){return e})}function i(e){return a.getCapability("composition").add(e),n(a)}var r,o,s=this.type.getInitialModel(),a=this.parent;return s.type=this.type.getKey(),r=a.getCapability("instantiation").instantiate(s),r.useCapability("mutation",function(e){e.location=a.getId()}),o=new e(r,this.parent,this.policyService),this.dialogService.getUserInput(o.getFormStructure(!1),o.getInitialFormValue()).then(t).then(n).then(i)},t.prototype.getMetadata=function(){return this.metadata},t}),define("platform/commonUI/browse/src/creation/AddActionProvider",["./AddAction"],function(e){"use strict";function t(e,t,n,i){this.typeService=t,this.dialogService=n,this.$q=e,this.policyService=i}return t.prototype.getActions=function(t){var n=t||{},i=n.key,r=n.domainObject,o=this;return"add"===i&&r?this.typeService.listTypes().filter(function(e){return o.policyService.allow("creation",e)&&o.policyService.allow("composition",r.getCapability("type"),e)}).map(function(t){return new e(t,r,n,o.$q,o.dialogService,o.policyService)}):[]},t}),define("platform/commonUI/browse/src/creation/CreationService",[],function(){"use strict";function e(e,t){this.$q=e,this.$log=t}var t="Tried to create an object in non-persistent container.";return e.prototype.createObject=function(e,n){function i(){var e=n.getCapability("composition"),t=e&&e.add(o);return a.$q.when(t).then(function(e){return e?r.persist().then(function(){return e}):void a.$log.error("Could not modify "+n.getId())})}var r=n.getCapability("persistence"),o=n.useCapability("instantiation",e),s=o.getCapability("persistence"),a=this;return r&&s?s.persist().then(i):(a.$log.warn(t),a.$q.reject(new Error(t)))},e}),define("platform/commonUI/browse/src/windowing/WindowTitler",[],function(){"use strict";function e(e,t,n){function i(){var t=e.getNavigation();return t&&t.getModel().name}function r(e){n[0].title=e}t.$watch(i,r)}return e}),define("text!platform/commonUI/browse/res/templates/browse.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<div class="abs holder-all" ng-controller="BrowseController">\n    <mct-include key="\'topbar-browse\'"></mct-include>\n    <div class="abs holder holder-main browse-area s-browse-area browse-wrapper"\n         ng-controller="PaneController as modelPaneTree"\n         ng-class="modelPaneTree.visible() ? \'pane-tree-showing\' : \'pane-tree-hidden\'">\n        <mct-split-pane class=\'abs contents\'\n                        anchor=\'left\'>\n            <div class=\'split-pane-component treeview pane left\'>\n                <div class="abs holder l-flex-col holder-treeview-elements">\n                    <mct-representation key="\'create-button\'"\n                                        mct-object="navigatedObject"\n                                        class="holder flex-elem create-btn-holder">\n                    </mct-representation>\n                    <mct-include key="\'search\'"\n                                 ng-model="treeModel"\n                                 class="holder l-flex-col flex-elem search-holder"\n                                 ng-class="{ active: treeModel.search, grows: treeModel.search }">\n                    </mct-include>\n                    <mct-representation key="\'tree\'"\n                                        mct-object="domainObject"\n                                        parameters="tree"\n                                        ng-model="treeModel"\n                                        class="holder flex-elem grows vscroll tree-holder"\n                                        ng-hide="treeModel.search">\n                    </mct-representation>\n                </div>\n            </div>\n\n            <mct-splitter class="splitter-treeview mobile-hide"></mct-splitter>\n\n            <div class=\'split-pane-component items pane primary-pane right\'>\n                <a class="mini-tab-icon anchor-left toggle-pane toggle-tree"\n                   title="{{ modelPaneTree.visible()? \'Hide\' : \'Show\' }} this pane"\n                   ng-click="modelPaneTree.toggle()"\n                   ng-class="{ collapsed : !modelPaneTree.visible() }"></a>\n\n                <div class=\'holder holder-object-and-inspector abs\' id=\'content-area\'\n                     ng-controller="PaneController as modelPaneInspect"\n                     ng-class="modelPaneInspect.visible() ? \'pane-inspect-showing\' : \'pane-inspect-hidden\'">\n\n                    <mct-split-pane class=\'l-object-and-inspector contents abs\' anchor=\'right\'>\n                        <div class=\'split-pane-component t-object pane primary-pane left\'>\n                            <mct-representation mct-object="navigatedObject"\n                                                key="\'view-object\'"\n                                                class="abs holder holder-object">\n                            </mct-representation>\n                        </div>\n\n                        <mct-splitter class="splitter-inspect mobile-hide flush-right edge-shdw"></mct-splitter>\n\n                        <div class="split-pane-component t-inspect pane right mobile-hide">\n                            <mct-representation key="\'object-inspector\'"\n                                                mct-object="navigatedObject"\n                                                ng-model="treeModel">\n                            </mct-representation>\n                            <a class="mini-tab-icon anchor-right mobile-hide toggle-pane toggle-inspect"\n                               title="{{ modelPaneInspect.visible()? \'Hide\' : \'Show\' }} the Inspection pane"\n                               ng-click="modelPaneInspect.toggle()"\n                               ng-class="{ collapsed : !modelPaneInspect.visible() }"></a>\n                        </div>\n                    </mct-split-pane>\n                </div>\n            </div>\n        </mct-split-pane>\n    </div>\n    <mct-include key="\'bottombar\'"></mct-include>\n</div>\n\n'}),define("text!platform/commonUI/browse/res/templates/create/locator.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="LocatorController" class="selector-list">\n    <div class="wrapper">\n        <mct-representation key="\'tree\'"\n                            mct-object="rootObject"\n                            ng-model="treeModel">\n        </mct-representation>\n    </div>\n</div>\n'}),define("text!platform/commonUI/browse/res/templates/browse-object.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="BrowseObjectController" class="abs l-flex-col">\n    <div class="holder flex-elem l-flex-row object-browse-bar ">\n        <div class="items-select left flex-elem l-flex-row grows">\n            <mct-representation key="\'back-arrow\'"\n                                mct-object="domainObject"\n                                class="flex-elem l-back"></mct-representation>\n            <mct-representation key="\'object-header\'"\n                                mct-object="domainObject"\n                                class="l-flex-row flex-elem grows object-header">\n            </mct-representation>\n        </div>\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\n            <mct-representation key="\'switcher\'"\n                                mct-object="domainObject"\n                                ng-model="representation">\n            </mct-representation>\n            <!-- Temporarily, on mobile, the action buttons are hidden-->\n            <mct-representation key="\'action-group\'"\n                                mct-object="domainObject"\n                                parameters="{ category: \'view-control\' }"\n                                class="mobile-hide">\n            </mct-representation>\n        </div>\n    </div>\n    <div class="holder l-flex-col flex-elem grows l-object-wrapper">\n        <div class="holder l-flex-col flex-elem grows l-object-wrapper-inner">\n            <!-- Toolbar and Save/Cancel buttons -->\n            <div class="l-edit-controls flex-elem l-flex-row flex-align-end">\n                <mct-representation key="\'edit-action-buttons\'"\n                                    mct-object="domainObject"\n                                    class=\'flex-elem conclude-editing\'>\n                </mct-representation>\n\n            </div>\n            <mct-representation key="representation.selected.key"\n                                mct-object="representation.selected.key && domainObject"\n                                class="abs flex-elem grows object-holder-main scroll">\n            </mct-representation>\n        </div>\n    </div>\n</div>\n'}),define("text!platform/commonUI/browse/res/templates/create/create-button.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ClickAwayController as createController">\n    <div class="s-menu-btn major create-btn" ng-click="createController.toggle()">\n		<span class="title-label">Create</span>\n    </div>\n    <div class="menu super-menu" ng-show="createController.isActive()">\n        <mct-representation mct-object="domainObject" key="\'create-menu\'">\n        </mct-representation>\n    </div>\n</span>';
}),define("text!platform/commonUI/browse/res/templates/create/create-menu.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="contents" ng-controller="CreateMenuController">\n    <div class="pane left menu-items">\n        <ul>\n\n            <li ng-repeat="createAction in createActions" ng-click="createAction.perform()">\n                <a\n                   ng-mouseover="representation.activeMetadata = createAction.getMetadata()"\n                   ng-mouseleave="representation.activeMetadata = undefined">\n                    <span class="ui-symbol icon type-icon">\n                        {{createAction.getMetadata().glyph}}\n                    </span>\n                    {{createAction.getMetadata().name}}\n                </a>\n            </li>\n\n        </ul>\n    </div>\n    <div class="pane right menu-item-description">\n        <div class="desc-area ui-symbol icon type-icon">\n            {{representation.activeMetadata.glyph}}\n        </div>\n        <div class="desc-area title">\n            {{representation.activeMetadata.name}}\n        </div>\n        <div class="desc-area description">\n            {{representation.activeMetadata.description}}\n        </div>\n    </div>\n</div>\n'}),define("text!platform/commonUI/browse/res/templates/items/grid-item.html",[],function(){return"<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- For selected, add class 'selected' to outer div -->\n<div class='item grid-item' ng-click='action.perform(\"navigate\")'>\n    <div class='contents abs'>\n        <div class='top-bar bar abs'>\n            <div class='ui-symbol profile' title='Shared'>&#x4f;</div>\n            <mct-representation class=\"desktop-hide\" key=\"'info-button'\" mct-object=\"domainObject\"></mct-representation>\n        </div>\n        <div class='item-main abs lg'>\n            <span class=\"t-item-icon\" ng-class=\"{ 'l-icon-link':location.isLink() }\">\n                <span class=\"t-item-icon-glyph ng-binding\">{{type.getGlyph()}}</span>\n            </span>\n            <div class='ui-symbol abs item-open'>}</div>\n        </div>\n        <div class='bottom-bar bar abs'>\n            <div class='title'>{{model.name}}</div>\n            <div class='details'>\n                <span>{{type.getName()}}</span>\n                <span ng-show=\"model.composition !== undefined\">\n                    - {{model.composition.length}} Item<span ng-show=\"model.composition.length > 1\">s</span>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!platform/commonUI/browse/res/templates/browse/object-header.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class=\'type-icon ui-symbol flex-elem\'>{{type.getGlyph()}}</span>\n<span class="l-elem-wrapper l-flex-row flex-elem grows">\n    <span ng-if="parameters.mode" class=\'action flex-elem\'>{{parameters.mode}}</span>\n    <span class=\'title-label flex-elem flex-can-shrink\'>{{model.name}}</span>\n    <mct-representation\n        key="\'menu-arrow\'"\n        mct-object=\'domainObject\'\n        class="flex-elem"></mct-representation>\n</span>'}),define("text!platform/commonUI/browse/res/templates/menu-arrow.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<span ng-controller="MenuArrowController as menuArrow">\n    <a class=\'ui-symbol context-available\'\n       ng-click=\'menuArrow.showMenu($event)\'>v</a>\n</span>'}),define("text!platform/commonUI/browse/res/templates/back-arrow.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<!-- Back Arrow Icon used on mobile-->\n<a\n   class=\'type-icon icon ui-symbol s-back\'\n   ng-show="context.getPath().length > 2"\n   ng-click="context.getParent().getCapability(\'action\').perform(\'navigate\')">\n    {\n</a>\n\n'}),define("text!platform/commonUI/browse/res/templates/items/items.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'items-holder grid abs\'>\n    <mct-representation key="\'grid-item\'"\n                        ng-repeat="childObject in composition"\n                        mct-object="childObject">\n    </mct-representation>\n</div>'}),define("text!platform/commonUI/browse/res/templates/browse/object-properties.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="ObjectInspectorController as controller">\n    <ul class="flex-elem grows l-inspector-part">\n        <li>\n            <em class="t-inspector-part-header">Properties</em>\n            <div class="inspector-properties"\n                 ng-repeat="data in metadata"\n                 ng-class="{ first:$index === 0 }">\n                <div class="label">{{ data.name }}</div>\n                <div class="value">{{ data.value }}</div>\n            </div>\n        </li>\n        <li ng-if="contextutalParents.length > 0">\n            <em class="t-inspector-part-header" title="The location of this linked object.">Location</em>\n            <div ng-if="primaryParents.length > 0" class="section-header">This Object</div>\n            <span class="inspector-location"\n                  ng-repeat="parent in contextutalParents"\n                  ng-class="{ last:($index + 1) === contextualParents.length }">\n                <mct-representation key="\'label\'"\n                                    mct-object="parent"\n                                    ng-model="ngModel"\n                                    ng-click="ngModel.selectedObject = parent"\n                                    class="location-item">\n                </mct-representation>\n            </span>\n        </li>\n        <li ng-if="primaryParents.length > 0">\n            <div class="section-header">Object\'s Original</div>\n            <span class="inspector-location"\n                  ng-repeat="parent in primaryParents"\n                  ng-class="{ last:($index + 1) === primaryParents.length }">\n                <mct-representation key="\'label\'"\n                                    mct-object="parent"\n                                    ng-model="ngModel"\n                                    ng-click="ngModel.selectedObject = parent"\n                                    class="location-item">\n                </mct-representation>\n            </span>\n        </li>\n    </ul>\n</div>'}),define("text!platform/commonUI/browse/res/templates/browse/inspector-region.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="InspectorController">\n    <div ng-repeat="region in regions">\n        <mct-representation\n                key="region.content.key"\n                mct-object="domainObject"\n                ng-model="ngModel">\n        </mct-representation>\n    </div>\n</div>\n'}),define("platform/commonUI/browse/bundle",["./src/BrowseController","./src/PaneController","./src/BrowseObjectController","./src/creation/CreateMenuController","./src/creation/LocatorController","./src/MenuArrowController","./src/navigation/NavigationService","./src/creation/CreationPolicy","./src/navigation/NavigateAction","./src/windowing/NewTabAction","./src/windowing/FullscreenAction","./src/creation/CreateActionProvider","./src/creation/AddActionProvider","./src/creation/CreationService","./src/windowing/WindowTitler","text!./res/templates/browse.html","text!./res/templates/create/locator.html","text!./res/templates/browse-object.html","text!./res/templates/create/create-button.html","text!./res/templates/create/create-menu.html","text!./res/templates/items/grid-item.html","text!./res/templates/browse/object-header.html","text!./res/templates/menu-arrow.html","text!./res/templates/back-arrow.html","text!./res/templates/items/items.html","text!./res/templates/browse/object-properties.html","text!./res/templates/browse/inspector-region.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,O,x,T,k){"use strict";k.register("platform/commonUI/browse",{extensions:{routes:[{when:"/browse/:ids*",template:m,reloadOnSearch:!1},{when:"",template:m,reloadOnSearch:!1}],constants:[{key:"DEFAULT_PATH",value:"mine",priority:"fallback"}],controllers:[{key:"BrowseController",implementation:e,depends:["$scope","$route","$location","$window","objectService","navigationService","urlService","policyService","DEFAULT_PATH"]},{key:"PaneController",implementation:t,priority:"preferred",depends:["$scope","agentService","$window"]},{key:"BrowseObjectController",implementation:n,depends:["$scope","$location","$route"]},{key:"CreateMenuController",implementation:i,depends:["$scope"]},{key:"LocatorController",implementation:r,depends:["$scope","$timeout","objectService"]},{key:"MenuArrowController",implementation:o,depends:["$scope"]}],controls:[{key:"locator",template:g}],representations:[{key:"view-object",templateUrl:"templates/view-object.html"},{key:"browse-object",template:y,gestures:["drop"],uses:["view"]},{key:"create-button",template:v},{key:"create-menu",template:b,uses:["action"]},{key:"grid-item",template:w,uses:["type","action","location"],gestures:["info","menu"]},{key:"object-header",template:S,uses:["type"]},{key:"menu-arrow",template:$,uses:["action"],gestures:["menu"]},{key:"back-arrow",uses:["context"],template:C},{key:"object-properties",template:x},{key:"inspector-region",template:T}],services:[{key:"navigationService",implementation:s}],policies:[{implementation:a,category:"creation"}],actions:[{key:"navigate",implementation:c,depends:["navigationService","$q"]},{key:"window",name:"Open In New Tab",implementation:l,description:"Open in a new browser tab",category:["view-control","contextual"],depends:["urlService","$window"],group:"windowing",glyph:"y",priority:"preferred"},{key:"fullscreen",implementation:u,category:"view-control",group:"windowing",glyph:"z",priority:"default"}],views:[{key:"items",name:"Items",glyph:"9",description:"Grid of available items",template:O,uses:["composition"],gestures:["drop"],type:"folder",editable:!1}],components:[{key:"CreateActionProvider",provides:"actionService",type:"provider",implementation:d,depends:["$q","typeService","navigationService","policyService"]},{key:"AddActionProvider",provides:"actionService",type:"provider",implementation:p,depends:["$q","typeService","dialogService","policyService"]},{key:"CreationService",provides:"creationService",type:"provider",implementation:f,depends:["$q","$log"]}],runs:[{implementation:h,depends:["navigationService","$rootScope","$document"]}],licenses:[{name:"screenfull.js",version:"1.2.0",description:"Wrapper for cross-browser usage of fullscreen API",author:"Sindre Sorhus",website:"https://github.com/sindresorhus/screenfull.js/",copyright:"Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)",license:"license-mit",link:"https://github.com/sindresorhus/screenfull.js/blob/gh-pages/license"}]}})}),define("platform/commonUI/edit/src/controllers/EditActionController",[],function(){"use strict";function e(e){function n(){e.editActions=e.action?e.action.getActions(t):[]}e.$watch("action",n)}var t={category:"conclude-editing"};return e}),define("platform/commonUI/edit/src/controllers/EditPanesController",[],function(){"use strict";function e(e){function t(e){var t=n.rootDomainObject,i=e&&e.getCapability("context"),r=i&&i.getTrueRoot(),o=t&&t.getId(),s=r&&r.getId();o!==s&&(n.rootDomainObject=r)}var n=this;e.$watch("domainObject",t)}return e.prototype.getRoot=function(){return this.rootDomainObject},e}),define("platform/commonUI/edit/src/controllers/ElementsController",[],function(){"use strict";function e(e){function t(t){return"undefined"==typeof t?e.searchText:void(e.searchText=t)}e.filterBy=t}return e}),define("platform/commonUI/edit/src/controllers/EditObjectController",[],function(){"use strict";function e(e,t,n){function i(n){function i(t){t.key===o&&(e.representation=e.representation||{},e.representation.selected=t)}var o=t.search().view;o&&(n&&n.useCapability("view")||[]).forEach(i),r=n}this.scope=e,this.policyService=n;var r;e.$watch("domainObject",i),e.doAction=function(t){return e[t]&&e[t]()}}return e.prototype.getUnloadWarning=function(){var e,t=this.scope.domainObject;return this.policyService.allow("navigation",t,void 0,function(t){e=t}),e},e}),define("platform/commonUI/edit/src/directives/MCTBeforeUnload",[],function(){"use strict";function e(e){function t(){var e;return i.forEach(function(t){e=e||t()}),e}function n(n,o,s){function a(){return n.$eval(s.mctBeforeUnload)}function c(){i=i.filter(function(e){return e!==a}),0===i.length&&(e.onbeforeunload=r)}function l(t){var n=a();n&&!e.confirm(n)&&t.preventDefault()}0===i.length&&(e.onbeforeunload=t),i.push(a),n.$on("$destroy",c),n.$on("$locationChangeStart",l)}var i=[],r=e.onbeforeunload;return{restrict:"A",link:n}}return e}),define("platform/commonUI/edit/src/actions/LinkAction",[],function(){"use strict";function e(e){this.domainObject=(e||{}).domainObject,this.selectedObject=(e||{}).selectedObject}return e.prototype.perform=function(){function e(){var e=n.domainObject.getCapability("persistence");return e.persist()}function t(){var t=n.domainObject&&n.domainObject.getCapability("composition");return t&&t.add(n.selectedObject).then(e)}var n=this;return this.selectedObject&&t()},e}),define("platform/commonUI/edit/src/actions/EditAction",["../objects/EditableDomainObject"],function(e){"use strict";function t(e,t,i,r,o){var s=(o||{}).domainObject;return s?(this.domainObject=s,this.$location=e,this.navigationService=t,void(this.$q=r)):(i.warn(["No domain object to edit; ","edit action is not valid."].join("")),n)}var n={perform:function(){}};return t.prototype.perform=function(){function t(e){e&&e.getId()===n.domainObject.getId()||(n.domainObject.getCapability("editor").cancel(),n.navigationService.removeListener(t))}var n=this;this.domainObject.hasCapability("editor")||(this.domainObject=new e(this.domainObject,this.$q)),this.navigationService.setNavigation(this.domainObject),this.domainObject.getCapability("status").set("editing",!0),this.navigationService.addListener(t)},t.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("type"),i=t&&t.getDomainObject?!0:!1;return n&&n.hasFeature("creation")&&!i},t}),define("platform/commonUI/edit/src/actions/PropertiesDialog",[],function(){"use strict";function e(e,t){this.type=e,this.model=t,this.properties=e.getProperties()}return e.prototype.getFormStructure=function(){return{name:"Edit "+this.model.name,sections:[{name:"Properties",rows:this.properties.map(function(e,t){var n=Object.create(e.getDefinition());return n.key=t,n}).filter(function(e){return e.control})}]}},e.prototype.getInitialFormValue=function(){var e=this.model;return this.properties.map(function(t){return t.getValue(e)})},e.prototype.updateModel=function(e,t){this.properties.forEach(function(n,i){n.setValue(e,t[i])})},e}),define("platform/commonUI/edit/src/actions/PropertiesAction",["./PropertiesDialog"],function(e){"use strict";function t(e,t){this.domainObject=(t||{}).domainObject,this.dialogService=e}return t.prototype.perform=function(){function t(){var e=o.getCapability("persistence");return e&&e.persist()}function n(e,t){return o.useCapability("mutation",function(n){t.updateModel(n,e)})}function i(i){var r=new e(i,o.getModel());return s.getUserInput(r.getFormStructure(),r.getInitialFormValue()).then(function(e){return e&&n(e,r)}).then(function(e){return e&&t()})}var r=this.domainObject.getCapability("type"),o=this.domainObject,s=this.dialogService;return r&&i(r)},t.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("type"),i=n&&n.hasFeature("creation");return t&&t.hasCapability("persistence")&&i},t}),define("platform/commonUI/edit/src/actions/RemoveAction",[],function(){"use strict";function e(e,t,n){this.domainObject=(n||{}).domainObject,this.$q=e,this.navigationService=t}return e.prototype.perform=function(){function e(e){return e!==a.getId()}function t(t){t.composition=t.composition.filter(e)}function n(e){var t=e.getCapability("persistence");return t&&t.persist()}function i(e,t){for(var n,i=s.getNavigation();i;){if(i.getId()===e.getId())return void s.setNavigation(t);n=i.getCapability("context"),i=n&&n.getParent()}}function r(e){var r=e.getCapability("context"),s=r.getParent();return i(e,s),o.when(s.useCapability("mutation",t)).then(function(){return n(s)})}var o=this.$q,s=this.navigationService,a=this.domainObject;return o.when(a).then(r)},e.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("context"),i=n&&n.getParent(),r=i&&i.getCapability("type"),o=r&&r.hasFeature("creation");return void 0!==i&&Array.isArray(i.getModel().composition)&&o},e}),define("platform/commonUI/edit/src/actions/SaveAction",[],function(){"use strict";function e(e){this.domainObject=(e||{}).domainObject}return e.prototype.perform=function(){function e(e){return function(){return e}}function t(){return i.getCapability("editor").save().then(e(i.getOriginalObject()))}function n(e){return e&&e.getCapability("action").perform("navigate"),e}var i=this.domainObject;return t().then(n)},e.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&void 0!==t.getModel().persisted},e}),define("platform/commonUI/edit/src/actions/SaveAsAction",["../../../browse/src/creation/CreateWizard"],function(e){"use strict";function t(e,t,n,i,r,o){this.domainObject=(o||{}).domainObject,this.injectObjectService=function(){this.objectService=e.get("objectService")},this.policyService=t,this.dialogService=n,this.creationService=i,this.copyService=r}function n(e){return function(){return e}}return t.prototype.createWizard=function(t){return new e(this.domainObject,t,this.policyService)},t.prototype.getObjectService=function(){return this.objectService||this.injectObjectService(),this.objectService},t.prototype.perform=function(){function e(e){return e&&e.getCapability("action").perform("navigate"),e}return this.save().then(e)},t.prototype.save=function(){function e(e){var t=a.createWizard(e);return a.dialogService.getUserInput(t.getFormStructure(!0),t.getInitialFormValue()).then(t.populateObjectFromInput.bind(t))}function t(e){return a.getObjectService().getObjects([e]).then(function(t){return t[e]})}function i(e){return t(e.getModel().location)}function r(e){return e.getId()===c.getId()||e.getCapability("location").isOriginal()}function o(e){return l.perform(c,e,r)}function s(e){return c.getCapability("editor").cancel().then(n(e))}var a=this,c=this.domainObject,l=this.copyService;return i(c).then(e).then(i).then(o).then(s)["catch"](n(!1))},t.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&void 0===t.getModel().persisted},t}),define("platform/commonUI/edit/src/actions/CancelAction",[],function(){"use strict";function e(e,t,n){this.domainObject=n.domainObject,this.navigationService=t,this.objectService=e.get("objectService")}return e.prototype.perform=function(){function e(){return i.getCapability("editor")}function t(e){return e.cancel()}function n(){return r.navigationService.setNavigation(r.domainObject.getOriginalObject())}var i=this.domainObject,r=this;return t(e()).then(n)},e.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")},e}),define("platform/commonUI/edit/src/policies/EditActionPolicy",[],function(){"use strict";function e(e){this.policyService=e}function t(e){var t=(e||{}).domainObject;return t&&t.hasCapability("status")&&t.getCapability("status").get("editing")}return e.prototype.countEditableViews=function(e){var t,n,i=e.domainObject,r=0;return i?(t=i.getCapability("type"),n=i.useCapability("view"),(n||[]).forEach(function(e){(e.editable===!0||"plot"===e.key&&"telemetry.panel"===t.getKey())&&r++}),r):r},e.prototype.allow=function(e,n){var i=e.getMetadata().key,r=(n||{}).category;if("view-control"===r){if("edit"===i)return this.countEditableViews(n)>0&&!t(n);if("properties"===i)return this.countEditableViews(n)<1&&!t(n)}return!0},e}),define("platform/commonUI/edit/src/policies/EditableLinkPolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e,t){var n=e.getMetadata().key;return"link"===n?!(t.selectedObject||t.domainObject).hasCapability("editor"):!0},e}),define("platform/commonUI/edit/src/policies/EditableMovePolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e,t){var n=t.domainObject,i=t.selectedObject,r=e.getMetadata().key;return"move"===r&&n.hasCapability("editor")?!!i&&i.hasCapability("editor"):!0},e}),define("platform/commonUI/edit/src/policies/EditNavigationPolicy",[],function(){"use strict";function e(e){this.policyService=e}return e.prototype.isDirty=function(e){var t=e,n=t&&t.getCapability("editor"),i=t&&t.getCapability("status");return i&&i.get("editing")&&n&&n.dirty()},e.prototype.allow=function(e){return!this.isDirty(e)},e}),define("platform/commonUI/edit/src/policies/EditContextualActionPolicy",[],function(){"use strict";function e(e,t,n){this.navigationService=e,this.editModeBlacklist=t,this.nonEditContextBlacklist=n}function t(e){var t=e.hasCapability("context")&&e.getCapability("context").getParent();return!!t&&t.hasCapability("editor")}return e.prototype.allow=function(e,n){var i=n.domainObject,r=this.navigationService.getNavigation(),o=e.getMetadata?e.getMetadata():{};return r.hasCapability("editor")?i.hasCapability("editor")||t(i)?-1===this.editModeBlacklist.indexOf(o.key):-1===this.nonEditContextBlacklist.indexOf(o.key):!0},e}),define("platform/commonUI/edit/src/representers/EditRepresenter",[],function(){"use strict";function e(e,t,n){function i(t){var n=s.domainObject;return e.when(n.useCapability("mutation",function(){return t})).then(function(e){return e&&n.getCapability("persistence").persist()})}function r(e){var r=n.model,o=n.configuration,a=s.domainObject;t.debug(["Committing ",a&&a.getModel().name,"("+(a&&a.getId())+"):",e].join(" ")),a&&a.hasCapability("persistence")&&(s.key&&o&&(r.configuration=r.configuration||{},r.configuration[s.key]=o),i(r))}function o(e){s.domainObject=e,n.model=e.getModel()}var s=this;this.scope=n,this.listenHandle=void 0,n.commit=r,n.setEditable=o,n.$on("$destroy",function(){s.destroy()})}return e.prototype.represent=function(e,t){function n(){i.viewObjectTemplate="edit-object"}var i=this.scope;this.key=(e||{}).key,this.domainObject=t,this.destroy(),this.listenHandle=this.domainObject.getCapability("status").listen(function(e){-1!=e.indexOf("editing")?n():delete i.viewObjectTemplate}),t.getCapability("status").get("editing")&&n()},e.prototype.destroy=function(){return this.listenHandle&&this.listenHandle()},e}),define("platform/commonUI/edit/src/representers/EditToolbar",[],function(){"use strict";function e(e,t){return e&&t}function t(e,t){return e||t}function n(e,t){function n(e){return s.properties.push(e),s.properties.length-1}function i(e,n){e&&(s.selection.forEach(function(t){"function"==typeof t[e]&&t[e](n)}),t())}function r(e){var t=Object.create(e||{});return e.property&&(t.key=n(e.property)),e.method&&(t.click=function(t){i(e.method,t)}),t}function o(e){var t=Object.create(e||{});return t.items=((e||{}).items||[]).map(r),t}var s=this;this.toolbarState=[],this.selection=void 0,this.properties=[],this.toolbarStructure=Object.create(e||{}),this.toolbarStructure.sections=((e||{}).sections||[]).map(o)}return n.prototype.isConsistent=function(e){function t(t){var s;void 0!==t[e]&&(s=i.lookupState(e,t),o&&(r=r&&s===n),n=s,o=!0)}var n,i=this,r=!0,o=!1;return i.selection.forEach(t),r},n.prototype.isApplicable=function(n){function i(e){return r&&void 0!==e[r]||o&&"function"==typeof e[o]}var r=(n||{}).property,o=(n||{}).method,s=!!(n||{}).exclusive;return this.selection.map(i).reduce(s?e:t,s)&&this.isConsistent(r)},n.prototype.lookupState=function(e,t){var n=t[e];return"function"==typeof n?n():n},n.prototype.setSelection=function(e){function t(e){var t=0;(e.items||[]).forEach(function(e){e.hidden=!i.isApplicable(e),t+=e.hidden?0:1}),e.hidden=!t}function n(e){
var t;return i.selection.forEach(function(n){t=void 0!==n[e]?i.lookupState(e,n):t}),t}var i=this;this.selection=e,this.toolbarStructure.sections.forEach(t),this.toolbarState=this.properties.map(n)},n.prototype.getStructure=function(){return this.toolbarStructure},n.prototype.getState=function(){return this.toolbarState},n.prototype.updateState=function(e,t){function n(e,t){function n(n){void 0!==n[e]&&("function"==typeof n[e]?(r=r||n[e]()!==t,n[e](t)):(r=r||n[e]!==t,n[e]=t))}var r=!1;return i.selection.forEach(n),r}var i=this;return n(this.properties[e],t)},n}),define("platform/commonUI/edit/src/representers/EditToolbarSelection",[],function(){"use strict";function e(){this.selection=[{}],this.selecting=!1,this.selectedObj=void 0}return e.prototype.selected=function(e){return e===this.selectedObj||e===this.selection[0]},e.prototype.select=function(e){return e===this.selection[0]?!1:(this.deselect(),this.selectedObj=e,this.selecting=!0,void this.selection.push(e))},e.prototype.deselect=function(){return this.selecting?(this.selecting=!1,this.selectedObj=void 0,this.selection.pop(),!0):!1},e.prototype.get=function(){return this.selectedObj},e.prototype.proxy=function(e){return arguments.length>0&&(this.selection[0]=e),this.selection[0]},e.prototype.all=function(){return this.selection},e}),define("platform/commonUI/edit/src/representers/EditToolbarRepresenter",["./EditToolbar","./EditToolbarSelection"],function(e,t){"use strict";function n(e,t,n){function r(t){e.commit&&e.commit(t)}function o(e){c.toolbar&&(e=Array.isArray(e)?e:e?[e]:[],c.toolbar.setSelection(e),c.toolbarObject.structure=c.toolbar.getStructure(),c.toolbarObject.state=c.toolbar.getState())}function s(){return c.toolbarObject.state}function a(e){var t=(e||[]).map(function(e,t){return c.toolbar.updateState(t,e)}).reduce(function(e,t){return e||t},!1);t&&r("Changes from toolbar.")}var c=this;return this.setSelection=function(t){e.selection=t},this.clearExposedToolbar=function(){n.toolbar&&delete e.$parent[n.toolbar]},this.exposeToolbar=function(){e.$parent[c.attrs.toolbar]=c.toolbarObject},this.commit=r,this.attrs=n,this.updateSelection=o,this.toolbar=void 0,this.toolbarObject={},n&&n.toolbar?(e.$watchCollection(s,a),e.$watchCollection("selection.all()",o),e.$parent[n.toolbar]=this.toolbarObject,void 0):i}var i={represent:function(){},destroy:function(){}};return n.prototype.represent=function(n){function i(t){o.attrs.toolbar&&(o.toolbar=new e(t,o.commit),o.exposeToolbar())}var r=(n||{}).toolbar||{},o=this;i(r),this.setSelection(new t),this.updateSelection([])},n.prototype.destroy=function(){this.clearExposedToolbar()},n}),define("text!platform/commonUI/edit/res/templates/library.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-representation key="\'tree\'"\n                    mct-object="parameters.domainObject"\n                    parameters="parameters">\n</mct-representation>'}),define("text!platform/commonUI/edit/res/templates/edit-object.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs l-flex-col" ng-controller="EditObjectController as EditObjectController">\n    <div mct-before-unload="EditObjectController.getUnloadWarning()"\n         class="holder flex-elem l-flex-row object-browse-bar ">\n        <div class="items-select left flex-elem l-flex-row grows">\n            <mct-representation key="\'back-arrow\'"\n                                mct-object="domainObject"\n                                class="flex-elem l-back"></mct-representation>\n            <mct-representation key="\'object-header\'"\n                                mct-object="domainObject"\n                                class="l-flex-row flex-elem grows object-header">\n            </mct-representation>\n        </div>\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\n            <mct-representation key="\'switcher\'"\n                                mct-object="domainObject"\n                                ng-model="representation">\n            </mct-representation>\n            <!-- Temporarily, on mobile, the action buttons are hidden-->\n            <mct-representation key="\'action-group\'"\n                                mct-object="domainObject"\n                                parameters="{ category: \'view-control\' }"\n                                class="mobile-hide">\n            </mct-representation>\n        </div>\n    </div>\n    <div class="holder l-flex-col flex-elem grows l-object-wrapper">\n        <div class="holder l-flex-col flex-elem grows l-object-wrapper-inner">\n            <!-- Toolbar and Save/Cancel buttons -->\n            <div class="l-edit-controls flex-elem l-flex-row flex-align-end">\n                <mct-toolbar name="mctToolbar"\n                             structure="toolbar.structure"\n                             ng-model="toolbar.state"\n                             class="flex-elem grows">\n                </mct-toolbar>\n                <mct-representation key="\'edit-action-buttons\'"\n                                    mct-object="domainObject"\n                                    class=\'flex-elem conclude-editing\'>\n                </mct-representation>\n\n            </div>\n            <mct-representation key="representation.selected.key"\n                                mct-object="representation.selected.key && domainObject"\n                                class="abs flex-elem grows object-holder-main scroll"\n                                toolbar="toolbar">\n            </mct-representation>\n        </div><!--/ l-object-wrapper-inner -->\n    </div>\n</div>\n'}),define("text!platform/commonUI/edit/res/templates/edit-action-buttons.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="EditActionController">\n    <span ng-repeat="currentAction in editActions">\n        <a class=\'s-btn t-{{currentAction.getMetadata().key}}\'\n           title=\'{{currentAction.getMetadata().name}}\'\n           ng-click="currentAction.perform()"\n           ng-class="{ major: $index === 0 }">\n            <span class="title-label">{{currentAction.getMetadata().name}}</span>\n        </a>\n    </span>\n</span>'}),define("text!platform/commonUI/edit/res/templates/elements.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="ElementsController" class="flex-elem l-flex-col holder grows">\n    <mct-include key="\'input-filter\'"\n                 class="flex-elem holder"\n                 ng-model="filterBy">\n    </mct-include>\n    <div class="flex-elem grows vscroll">\n        <ul class="tree">\n            <li ng-repeat="containedObject in composition | filter:searchText">\n                <span class="tree-item">\n                    <mct-representation\n                            class="rep-object-label"\n                            key="\'label\'"\n                            mct-object="containedObject">\n                    </mct-representation>\n                </span>\n            </li>\n        </ul>\n    </div>\n</div>'}),define("text!platform/commonUI/edit/res/templates/topbar-edit.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'top-bar edit abs\'>\n    <mct-representation key="\'object-header\'"\n                        mct-object="domainObject"\n                        parameters="{ mode: \'Edit\' }"\n                        class="l-flex-row flex-elem grows object-header">\n    </mct-representation>\n    <div class=\'buttons-main btn-bar buttons abs\'>\n        <mct-representation key="\'switcher\'"\n                            mct-object="domainObject"\n                            ng-model="ngModel">\n        </mct-representation>\n\n        <mct-representation key="\'edit-action-buttons\'"\n                            mct-object="domainObject"\n                            class=\'conclude-editing\'>\n        </mct-representation>\n    </div>\n</div>'}),define("platform/commonUI/edit/bundle",["./src/controllers/EditActionController","./src/controllers/EditPanesController","./src/controllers/ElementsController","./src/controllers/EditObjectController","./src/directives/MCTBeforeUnload","./src/actions/LinkAction","./src/actions/EditAction","./src/actions/PropertiesAction","./src/actions/RemoveAction","./src/actions/SaveAction","./src/actions/SaveAsAction","./src/actions/CancelAction","./src/policies/EditActionPolicy","./src/policies/EditableLinkPolicy","./src/policies/EditableMovePolicy","./src/policies/EditNavigationPolicy","./src/policies/EditContextualActionPolicy","./src/representers/EditRepresenter","./src/representers/EditToolbarRepresenter","text!./res/templates/library.html","text!./res/templates/edit-object.html","text!./res/templates/edit-action-buttons.html","text!./res/templates/elements.html","text!./res/templates/topbar-edit.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,O){"use strict";O.register("platform/commonUI/edit",{extensions:{controllers:[{key:"EditActionController",implementation:e,depends:["$scope"]},{key:"EditPanesController",implementation:t,depends:["$scope"]},{key:"ElementsController",implementation:n,depends:["$scope"]},{key:"EditObjectController",implementation:i,depends:["$scope","$location","policyService"]}],directives:[{key:"mctBeforeUnload",implementation:r,depends:["$window"]}],actions:[{key:"compose",implementation:o},{key:"edit",implementation:s,depends:["$location","navigationService","$log","$q"],description:"Edit this object.",category:"view-control",glyph:"p"},{key:"properties",category:["contextual","view-control"],implementation:a,glyph:"p",name:"Edit Properties...",description:"Edit properties of this object.",depends:["dialogService"]},{key:"remove",category:"contextual",implementation:c,glyph:"Z",name:"Remove",description:"Remove this object from its containing object.",depends:["$q","navigationService"]},{key:"save",category:"conclude-editing",implementation:l,name:"Save",description:"Save changes made to these objects.",depends:[],priority:"mandatory"},{key:"save",category:"conclude-editing",implementation:u,name:"Save",description:"Save changes made to these objects.",depends:["$injector","policyService","dialogService","creationService","copyService"],priority:"mandatory"},{key:"cancel",category:"conclude-editing",implementation:d,name:"Cancel",description:"Discard changes made to these objects.",depends:["$injector","navigationService"]}],policies:[{category:"action",implementation:p},{category:"action",implementation:g,depends:["navigationService","editModeBlacklist","nonEditContextBlacklist"]},{category:"action",implementation:h},{category:"action",implementation:f},{category:"navigation",message:"There are unsaved changes.",implementation:m}],templates:[{key:"edit-library",template:b}],representations:[{key:"edit-object",template:w,uses:["view"],gestures:["drop"]},{key:"edit-action-buttons",template:S,uses:["action"]},{key:"edit-elements",template:$,uses:["composition"],gestures:["drop"]},{key:"topbar-edit",template:C}],representers:[{implementation:y,depends:["$q","$log"]},{implementation:v}],constants:[{key:"editModeBlacklist",value:["copy","follow","window","link","locate"]},{key:"nonEditContextBlacklist",value:["copy","follow","properties","move","link","remove","locate"]}]}})}),define("platform/commonUI/dialog/src/DialogService",[],function(){"use strict";function e(e,t,n){this.overlayService=e,this.$q=t,this.$log=n,this.overlay=void 0,this.dialogVisible=!1}return e.prototype.dismiss=function(){var e=this.overlay;e&&e.dismiss(),this.dialogVisible=!1},e.prototype.getDialogResponse=function(e,t,n,i){function r(e){s.resolve(n?n():e),a.dismiss()}function o(){s.reject(),a.dismiss()}var s=this.$q.defer(),a=this;return t.confirm=r,t.cancel=o,this.canShowDialog(t)?(this.overlay=this.overlayService.createOverlay(e,t,i||"t-dialog"),this.dialogVisible=!0):s.reject(),s.promise},e.prototype.getUserInput=function(e,t){function n(){return i.value}var i={title:e.name,message:e.message,structure:e,value:t};return this.getDialogResponse("overlay-dialog",i,n)},e.prototype.getUserChoice=function(e){return this.getDialogResponse("overlay-options",{dialog:e})},e.prototype.canShowDialog=function(e){return this.dialogVisible?(this.$log.warn(["Dialog already showing; ","unable to show ",e.title].join("")),!1):!0},e.prototype.showBlockingMessage=function(e){return this.canShowDialog(e)?(this.overlay=this.overlayService.createOverlay("overlay-blocking-message",e,"t-dialog-sm"),this.dialogVisible=!0,!0):!1},e}),define("platform/commonUI/dialog/src/OverlayService",[],function(){"use strict";function e(e,t,n){this.$compile=t,this.findBody=function(){return e.find("body")},this.newScope=function(){return n.$new()}}var t='<mct-include ng-model="overlay" key="key" ng-class="typeClass"></mct-include>';return e.prototype.createOverlay=function(e,n,i){function r(){s.$destroy(),o.remove()}var o,s=this.newScope();return n=n||{cancel:r},s.overlay=n,s.key=e,s.typeClass=i||"t-dialog",o=this.$compile(t)(s),this.findBody().prepend(o),{dismiss:r}},e}),define("text!platform/commonUI/dialog/res/templates/overlay-dialog.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay">\n    <mct-include key="\'form-dialog\'" ng-model="ngModel">\n    </mct-include>\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/overlay-options.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay">\n    <div class="abs top-bar">\n        <div class="title">{{ngModel.dialog.title}}</div>\n        <div class="hint">{{ngModel.dialog.hint}}</div>\n    </div>\n    <div class=\'abs editor\'>\n        <mct-include key="ngModel.dialog.template"\n                     parameters="ngModel.dialog.parameters"\n                     ng-model="ngModel.dialog.model">\n        </mct-include>\n    </div>\n    <div class="abs bottom-bar">\n        <a ng-repeat="option in ngModel.dialog.options"\n           href=\'\'\n           class="s-btn lg"\n           title="{{option.description}}"\n           ng-click="ngModel.confirm(option.key)"\n           ng-class="{ major: $first, subtle: !$first }">\n            {{option.name}}\n        </a>\n    </div>\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/dialog.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs top-bar">\n    <div class="title">{{ngModel.title}}</div>\n    <div class="hint">All fields marked <span class="ui-symbol req">*</span> are required.</div>\n</div>\n<div class=\'abs editor\'>\n    <mct-form ng-model="ngModel.value"\n              structure="ngModel.structure"\n              name="createForm">\n    </mct-form>\n</div>\n<div class="abs bottom-bar">\n    <a class=\'s-btn major\'\n       ng-class="{ disabled: !createForm.$valid }"\n       ng-click="ngModel.confirm()">\n        OK\n    </a>\n    <a class=\'s-btn\'\n       ng-click="ngModel.cancel()">\n        Cancel\n    </a>\n</div>'}),define("text!platform/commonUI/dialog/res/templates/overlay-blocking-message.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-container key="overlay" class="t-message-single">\n    <mct-include key="\'message\'" ng-model="ngModel">\n    </mct-include>\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/message.html",[],function(){return'<div class="l-message"\n     ng-class="\'message-severity-\' + ngModel.severity">\n    <div class="ui-symbol type-icon message-type"></div>\n    <div class="message-contents">\n        <div class="top-bar">\n            <div class="title">{{ngModel.title}}</div>\n            <div class="hint" ng-hide="ngModel.hint === undefined">{{ngModel.hint}}</div>\n        </div>\n        <div class="message-body">\n            <div class="message-action">\n                {{ngModel.actionText}}\n            </div>\n            <mct-include key="\'progress-bar\'"\n                         ng-model="ngModel"\n                         ng-show="ngModel.progress !== undefined || ngModel.unknownProgress"></mct-include>\n        </div>\n        <div class="bottom-bar">\n            <a ng-repeat="dialogOption in ngModel.options"\n               class="s-btn major"\n               ng-click="dialogOption.callback()">\n                {{dialogOption.label}}\n            </a>\n            <a class="s-btn major"\n               ng-if="ngModel.primaryOption"\n               ng-click="ngModel.primaryOption.callback()">\n                {{ngModel.primaryOption.label}}\n            </a>\n\n        </div>\n\n    </div>\n</div>'}),define("text!platform/commonUI/dialog/res/templates/overlay-message-list.html",[],function(){return'<mct-container key="overlay" class="t-message-list">\n    <div class="message-contents">\n        <div class="abs top-bar">\n            <div class="title">{{ngModel.dialog.title}}</div>\n            <div class="hint">Displaying {{ngModel.dialog.messages.length}} message<span ng-show="ngModel.dialog.messages.length > 1">s</span>\n            </div>\n        </div>\n        <div class="abs message-body">\n            <mct-include\n                    ng-repeat="msg in ngModel.dialog.messages | orderBy: \'-\'"\n                    key="\'message\'" ng-model="msg.model"></mct-include>\n        </div>\n        <div class="abs bottom-bar">\n            <a ng-repeat="dialogAction in ngModel.dialog.actions"\n               class="s-btn major"\n               ng-click="dialogAction.action()">\n                {{dialogAction.label}}\n            </a>\n        </div>\n    </div>\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/overlay.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="abs overlay">\n    <div class="abs blocker"></div>\n    <div class="abs holder">\n        <a ng-click="ngModel.cancel()"\n           ng-if="ngModel.cancel"\n           class="clk-icon icon ui-symbol close">x</a>\n        <div class="abs contents" ng-transclude></div>\n    </div>\n</div>'}),define("platform/commonUI/dialog/bundle",["./src/DialogService","./src/OverlayService","text!./res/templates/overlay-dialog.html","text!./res/templates/overlay-options.html","text!./res/templates/dialog.html","text!./res/templates/overlay-blocking-message.html","text!./res/templates/message.html","text!./res/templates/overlay-message-list.html","text!./res/templates/overlay.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l){"use strict";l.register("platform/commonUI/dialog",{extensions:{services:[{key:"dialogService",implementation:e,depends:["overlayService","$q","$log"]},{key:"overlayService",implementation:t,depends:["$document","$compile","$rootScope"]}],templates:[{key:"overlay-dialog",template:n},{key:"overlay-options",template:i},{key:"form-dialog",template:r},{key:"overlay-blocking-message",template:o},{key:"message",template:s},{key:"overlay-message-list",template:a}],containers:[{key:"overlay",template:c}]}})}),define("platform/commonUI/formats/src/FormatProvider",[],function(){"use strict";function e(e){function t(e){var t=e.key;t&&!n[t]&&(n[t]=new e)}var n={};e.forEach(t),this.formatMap=n}return e.prototype.getFormat=function(e){var t=this.formatMap[e];if(!t)throw new Error("FormatProvider: No format found for "+e);return t},e}),define("platform/commonUI/formats/src/UTCTimeFormat",["moment"],function(e){"use strict";function t(){}var n="YYYY-MM-DD HH:mm:ss.SSS",i=[n,"YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm","YYYY-MM-DD"];return t.prototype.format=function(t){return e.utc(t).format(n)+"Z"},t.prototype.parse=function(t){return e.utc(t,i).valueOf()},t.prototype.validate=function(t){return e.utc(t,i).isValid()},t}),define("platform/commonUI/formats/bundle",["./src/FormatProvider","./src/UTCTimeFormat","legacyRegistry"],function(e,t,n){"use strict";n.register("platform/commonUI/formats",{name:"Time services bundle",description:"Defines interfaces and provides default implementations for handling different time systems.",extensions:{components:[{provides:"formatService",type:"provider",implementation:e,depends:["formats[]"]}],formats:[{key:"utc",implementation:t}],constants:[{key:"DEFAULT_TIME_FORMAT",value:"utc"}]}})}),define("platform/commonUI/general/src/services/UrlService",[],function(){"use strict";function e(e){this.$location=e}return e.prototype.urlForLocation=function(e,t){var n=t&&t.getCapability("context"),i=n?n.getPath():[],r=i.map(function(e){return e.getId()});return e+"/"+r.slice(1).join("/")},e.prototype.urlForNewTab=function(e,t){var n="?view="+this.$location.search().view,i="index.html#"+this.urlForLocation(e,t)+n;return i},e}),define("platform/commonUI/general/src/services/Popup",[],function(){"use strict";function e(e,t){this.styles=t,this.element=e,e.css(t)}return e.prototype.dismiss=function(){this.element.remove()},e.prototype.goesLeft=function(){return!this.styles.left},e.prototype.goesRight=function(){return!this.styles.right},e.prototype.goesUp=function(){return!this.styles.top},e.prototype.goesDown=function(){return!this.styles.bottom},e}),define("platform/commonUI/general/src/services/PopupService",["./Popup"],function(e){"use strict";function t(e,t){this.$document=e,this.$window=t}return t.prototype.display=function(t,n,i){function r(e,t){return 0>e?e+u[t]:e}var o,s,a=this.$document,c=this.$window,l=a.find("body"),u=[c.innerWidth,c.innerHeight],d={position:"absolute"};return i=i||{},s=[void 0!==i.offsetX?i.offsetX:0,void 0!==i.offsetY?i.offsetY:0],o=[i.marginX,i.marginY].map(function(e,t){return void 0===e?u[t]/2:e}).map(r),n=n.map(r),n[0]>o[0]?d.right=u[0]-n[0]+s[0]+"px":d.left=n[0]+s[0]+"px",n[1]>o[1]?d.bottom=u[1]-n[1]+s[1]+"px":d.top=n[1]+s[1]+"px",l.append(t),new e(t,d)},t}),define("platform/commonUI/general/src/SplashScreenManager",[],function(){"use strict";function e(e){var t;e=e[0],t=e.querySelectorAll(".l-splash-holder")[0],t&&(t.className+=" fadeout",t.addEventListener("transitionend",function(){
t.parentNode.removeChild(t)}))}return e}),define("platform/commonUI/general/src/StyleSheetLoader",[],function(){"use strict";function e(e,t,n){function i(e){var t=s.createElement("link"),n=[e.bundle.path,e.bundle.resources,e.stylesheetUrl].join("/");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",n),o.append(t)}function r(e){return void 0===e.theme||e.theme===n}var o=t.find("head"),s=t[0];e.filter(r).forEach(i)}return e}),define("platform/commonUI/general/src/controllers/TimeRangeController",[],function(){"use strict";function e(e){return 100*e+"%"}function t(e,t,n){return Math.max(t,Math.min(n,e))}function n(e){return{start:e.start,end:e.end}}function i(e,t,n,i){this.$scope=e,this.formatService=t,this.defaultFormat=n,this.now=i,this.tickCount=2,this.innerMinimumSpan=1e3,this.outerMinimumSpan=1e3,this.initialDragValue=void 0,this.formatter=t.getFormat(n),this.formStartChanged=!1,this.formEndChanged=!1,this.$scope.ticks=[],this.updateViewFromModel(this.$scope.ngModel),this.updateFormModel(),["updateViewFromModel","updateSpanWidth","updateOuterStart","updateOuterEnd","updateFormat","validateStart","validateEnd","onFormStartChange","onFormEndChange"].forEach(function(e){this[e]=this[e].bind(this)},this),this.$scope.$watchCollection("ngModel",this.updateViewFromModel),this.$scope.$watch("spanWidth",this.updateSpanWidth),this.$scope.$watch("ngModel.outer.start",this.updateOuterStart),this.$scope.$watch("ngModel.outer.end",this.updateOuterEnd),this.$scope.$watch("parameters.format",this.updateFormat),this.$scope.$watch("formModel.start",this.onFormStartChange),this.$scope.$watch("formModel.end",this.onFormEndChange)}var r=150;return i.prototype.formatTimestamp=function(e){return this.formatter.format(e)},i.prototype.updateTicks=function(){var e,t,n,i,r,o;for(r=this.$scope.ngModel.outer.end,i=this.$scope.ngModel.outer.start,o=r-i,this.$scope.ticks=[],e=0;e<this.tickCount;e+=1)t=e/(this.tickCount-1),n=t*o+i,this.$scope.ticks.push(this.formatTimestamp(n))},i.prototype.updateSpanWidth=function(e){this.tickCount=Math.max(Math.floor(e/r),2),this.updateTicks()},i.prototype.updateViewForInnerSpanFromModel=function(t){var n=t.outer.end-t.outer.start;this.$scope.startInnerText=this.formatTimestamp(t.inner.start),this.$scope.endInnerText=this.formatTimestamp(t.inner.end),this.$scope.startInnerPct=e((t.inner.start-t.outer.start)/n),this.$scope.endInnerPct=e((t.outer.end-t.inner.end)/n)},i.prototype.defaultBounds=function(){var e=this.now();return{start:e-864e5,end:e}},i.prototype.updateViewFromModel=function(e){e=e||{},e.outer=e.outer||this.defaultBounds(),e.inner=e.inner||n(e.outer),this.$scope.ngModel=e,this.updateViewForInnerSpanFromModel(e),this.updateTicks()},i.prototype.startLeftDrag=function(){this.initialDragValue=this.$scope.ngModel.inner.start},i.prototype.startRightDrag=function(){this.initialDragValue=this.$scope.ngModel.inner.end},i.prototype.startMiddleDrag=function(){this.initialDragValue={start:this.$scope.ngModel.inner.start,end:this.$scope.ngModel.inner.end}},i.prototype.toMillis=function(e){var t=this.$scope.ngModel.outer.end-this.$scope.ngModel.outer.start;return e/this.$scope.spanWidth*t},i.prototype.leftDrag=function(e){var n=this.toMillis(e);this.$scope.ngModel.inner.start=t(this.initialDragValue+n,this.$scope.ngModel.outer.start,this.$scope.ngModel.inner.end-this.innerMinimumSpan),this.updateViewFromModel(this.$scope.ngModel)},i.prototype.rightDrag=function(e){var n=this.toMillis(e);this.$scope.ngModel.inner.end=t(this.initialDragValue+n,this.$scope.ngModel.inner.start+this.innerMinimumSpan,this.$scope.ngModel.outer.end),this.updateViewFromModel(this.$scope.ngModel)},i.prototype.middleDrag=function(e){var n=this.toMillis(e),i=0>n?"start":"end",r=0>n?"end":"start";this.$scope.ngModel.inner[i]=t(this.initialDragValue[i]+n,this.$scope.ngModel.outer.start,this.$scope.ngModel.outer.end),this.$scope.ngModel.inner[r]=this.$scope.ngModel.inner[i]+this.initialDragValue[r]-this.initialDragValue[i],this.updateViewFromModel(this.$scope.ngModel)},i.prototype.updateFormModel=function(){this.$scope.formModel={start:((this.$scope.ngModel||{}).outer||{}).start,end:((this.$scope.ngModel||{}).outer||{}).end}},i.prototype.updateOuterStart=function(){var e=this.$scope.ngModel;e.inner.start=Math.max(e.outer.start,e.inner.start),e.inner.end=Math.max(e.inner.start+this.innerMinimumSpan,e.inner.end),this.updateFormModel(),this.updateViewForInnerSpanFromModel(e),this.updateTicks()},i.prototype.updateOuterEnd=function(){var e=this.$scope.ngModel;e.inner.end=Math.min(e.outer.end,e.inner.end),e.inner.start=Math.min(e.inner.end-this.innerMinimumSpan,e.inner.start),this.updateFormModel(),this.updateViewForInnerSpanFromModel(e),this.updateTicks()},i.prototype.updateFormat=function(e){this.formatter=this.formatService.getFormat(e||this.defaultFormat),this.updateViewForInnerSpanFromModel(this.$scope.ngModel),this.updateTicks()},i.prototype.updateBoundsFromForm=function(){this.formStartChanged&&(this.$scope.ngModel.outer.start=this.$scope.ngModel.inner.start=this.$scope.formModel.start,this.formStartChanged=!1),this.formEndChanged&&(this.$scope.ngModel.outer.end=this.$scope.ngModel.inner.end=this.$scope.formModel.end,this.formEndChanged=!1)},i.prototype.onFormStartChange=function(e,t){this.formStartChanged||e===t||(this.formStartChanged=!0)},i.prototype.onFormEndChange=function(e,t){this.formEndChanged||e===t||(this.formEndChanged=!0)},i.prototype.validateStart=function(e){return e<=this.$scope.formModel.end-this.outerMinimumSpan},i.prototype.validateEnd=function(e){return e>=this.$scope.formModel.start+this.outerMinimumSpan},i}),define("platform/commonUI/general/src/controllers/DateTimePickerController",["moment"],function(e){"use strict";function t(t,o){function s(){var t,n,i=e.utc({year:u,month:d}).day(0),r=[];for(t=0;6>t;t+=1)for(r.push([]),n=0;7>n;n+=1)r[t].push({year:i.year(),month:i.month(),day:i.date(),dayOfYear:i.dayOfYear()}),i.add(1,"days");return r}function a(){t.month=i[d],t.year=u,t.table=s()}function c(n){var i;i=e.utc(n),t.date={year:i.year(),month:i.month(),day:i.date()},t.time={hours:i.hour(),minutes:i.minute(),seconds:i.second()},p||(u=i.year(),d=i.month(),a())}function l(){var n=e.utc({year:t.date.year,month:t.date.month,day:t.date.day,hour:t.time.hours,minute:t.time.minutes,second:t.time.seconds});t.ngModel[t.field]=n.valueOf()}var u,d,p=!1;t.isInCurrentMonth=function(e){return e.month===d},t.isSelected=function(e){var n=t.date||{};return e.day===n.day&&e.month===n.month&&e.year===n.year},t.select=function(e){t.date=t.date||{},t.date.month=e.month,t.date.year=e.year,t.date.day=e.day,l()},t.dateEquals=function(e,t){return e.year===t.year&&e.month===t.month&&e.day===t.day},t.changeMonth=function(e){d+=e,d>11&&(d=0,u+=1),0>d&&(d=11,u-=1),p=!0,a()},t.nameFor=function(e){return n[e]},t.optionsFor=function(e){return r[e]},a(),t.ngModel[t.field]=void 0===t.ngModel[t.field]?o():t.ngModel[t.field],t.$watch("ngModel[field]",c),t.$watchCollection("date",l),t.$watchCollection("time",l)}var n={hours:"Hour",minutes:"Minute",seconds:"Second"},i=e.months(),r=function(){for(var e=[];e.length<60;)e.push(e.length);return{hours:e.slice(0,24),minutes:e,seconds:e}}();return t}),define("platform/commonUI/general/src/controllers/DateTimeFieldController",[],function(){"use strict";function e(e,t,n){function i(t){c.validate(e.textValue)&&c.parse(e.textValue)===t||(e.textValue=c.format(t),e.textInvalid=!1,e.lastValidValue=e.textValue),e.pickerModel={value:t}}function r(t){e.textInvalid=!c.validate(t),e.textInvalid||(e.ngModel[e.field]=c.parse(t),e.lastValidValue=e.textValue)}function o(t){t!==e.ngModel[e.field]&&(e.ngModel[e.field]=t,i(t),e.ngBlur&&e.ngBlur())}function s(r){c=t.getFormat(r||n),i(e.ngModel[e.field])}function a(){e.textValue=e.lastValidValue,r(e.textValue)}var c=t.getFormat(n);e.restoreTextValue=a,e.picker={active:!1},e.$watch("structure.format",s),e.$watch("ngModel[field]",i),e.$watch("pickerModel.value",o),e.$watch("textValue",r)}return e}),define("platform/commonUI/general/src/controllers/TreeNodeController",[],function(){"use strict";function e(e,t){function n(e){return e&&e.getId&&e.getId()}function i(e,t,n){return n=n||0,n>=e.length||t[n]===e[n]&&i(e,t,n+1)}function r(){var t,r,o=e.domainObject,c=a,l=o&&o.getCapability("context"),u=c&&c.getCapability("context");s.isSelectedFlag=!1,l&&u&&(t=l.getPath().map(n),r=u.getPath().map(n),r.length>=t.length&&i(t,r)&&(t.length===r.length?s.isSelectedFlag=!0:(e.toggle&&e.toggle.setState(!0),s.trackExpansion())))}function o(e){a=e,r()}var s=this,a=(e.ngModel||{}).selectedObject;this.isSelectedFlag=!1,this.hasBeenExpandedFlag=!1,this.$timeout=t,this.$scope=e,e.$watch("ngModel.selectedObject",o),e.$watch("domainObject",r)}return e.prototype.select=function(){this.$scope.ngModel&&(this.$scope.ngModel.selectedObject=this.$scope.domainObject),(this.$scope.parameters||{}).callback&&this.$scope.parameters.callback(this.$scope.domainObject)},e.prototype.trackExpansion=function(){var e=this;e.hasBeenExpanded()||e.$timeout(function(){e.hasBeenExpandedFlag=!0},0)},e.prototype.hasBeenExpanded=function(){return this.hasBeenExpandedFlag},e.prototype.isSelected=function(){return this.isSelectedFlag},e}),define("platform/commonUI/general/src/controllers/ActionGroupController",[],function(){"use strict";function e(e){function t(t){function n(e){var t=e.getMetadata(),n=t.group;n?(i[n]=i[n]||[],i[n].push(e)):r.push(e)}var i={},r=[];(t||[]).forEach(n),e.ungrouped=r,e.groups=Object.keys(i).sort().map(function(e){return i[e]})}function n(){var n=e.action,i=e.parameters||{},r=i.category;t(n&&r?n.getActions({category:r}):[])}e.$watch("domainObject",n),e.$watch("action",n),e.$watch("parameters.category",n),e.ungrouped=[],e.groups=[]}return e}),define("platform/commonUI/general/src/controllers/ToggleController",[],function(){"use strict";function e(){this.state=!1}return e.prototype.isActive=function(){return this.state},e.prototype.setState=function(e){this.state=e},e.prototype.toggle=function(){this.state=!this.state},e}),define("platform/commonUI/general/src/controllers/ContextMenuController",[],function(){"use strict";function e(e){function t(){e.menuActions=e.action?e.action.getActions({category:"contextual"}):[]}e.$watch("action",t)}return e}),define("platform/commonUI/general/src/controllers/ClickAwayController",[],function(){"use strict";function e(e,t){var n=this;this.state=!1,this.$scope=e,this.$document=t,this.clickaway=function(){return n.deactivate(),e.$apply(),!1}}return e.prototype.deactivate=function(){this.state=!1,this.$document.off("mouseup",this.clickaway)},e.prototype.activate=function(){this.state=!0,this.$document.on("mouseup",this.clickaway)},e.prototype.isActive=function(){return this.state},e.prototype.setState=function(e){this.state!==e&&this.toggle()},e.prototype.toggle=function(){this.state?this.deactivate():this.activate()},e}),define("platform/commonUI/general/src/controllers/ViewSwitcherController",[],function(){"use strict";function e(e,t){function n(e,t){var n;if(t)for(n=0;n<e.length;n+=1)if(e[n].key===t.key)return e[n];return e[0]}function i(i){Array.isArray(i)&&t(function(){e.ngModel.selected=n(i,(e.ngModel||{}).selected)},0)}e.$watch("view",i)}return e}),define("platform/commonUI/general/src/controllers/BottomBarController",[],function(){"use strict";function e(e){function t(e){return{template:e.template||"indicator",ngModel:"function"==typeof e?new e:e}}this.indicators=e.map(t)}return e.prototype.getIndicators=function(){return this.indicators},e}),define("platform/commonUI/general/src/controllers/GetterSetterController",[],function(){"use strict";function e(e){function t(){"function"==typeof e.ngModel&&(e.getterSetter.value=e.ngModel())}function n(){"function"==typeof e.ngModel&&e.ngModel(e.getterSetter.value)}e.$watch("ngModel()",t),e.$watch("getterSetter.value",n),e.getterSetter={}}return e}),define("platform/commonUI/general/src/controllers/SelectorController",[],function(){"use strict";function e(e,n){function i(){return c.selectedObject}function r(e){u.rootObject=e[t]}function o(e){var t=e&&e.getCapability("type");t&&t.instanceOf(n.structure.type)||(c.selectedObject=a),a=c.selectedObject}function s(t){function n(e){function n(t){return e[t]}u.selectedObjects=t.filter(n).map(n)}e.getObjects(t).then(n)}var a,c={},l={},u=this;n.$watch(i,o),n.$watchCollection(function(){return u.getField()},s),e.getObjects([t]).then(r),this.$scope=n,this.selectedObjects=[],this.treeModel=c,this.listModel=l}var t="ROOT";return e.prototype.setField=function(e){this.$scope.ngModel[this.$scope.field]=e},e.prototype.getField=function(){return this.$scope.ngModel[this.$scope.field]||[]},e.prototype.root=function(){return this.rootObject},e.prototype.select=function(e){var t=e&&e.getId(),n=this.getField()||[];t&&-1===n.indexOf(t)&&this.setField(n.concat([t]))},e.prototype.deselect=function(e){var t=e&&e.getId(),n=this.getField()||[];t&&-1!==n.indexOf(t)&&(this.setField(n.filter(function(e){return e!==t})),delete this.listModel.selectedObject)},e.prototype.selected=function(){return this.selectedObjects},e}),define("platform/commonUI/general/src/controllers/ObjectInspectorController",[],function(){"use strict";function e(e,t){function n(){var t,n=e.ngModel.selectedObject,i=[];for(t=n&&n.hasCapability("context")&&n.getCapability("context").getParent();t&&"root"!==t.getModel().type&&t.hasCapability("context");)i.unshift(t),n=t,t=n.getCapability("context").getParent();e.contextutalParents=i}function i(n){var r;n||(n=e.ngModel.selectedObject,e.primaryParents=[]),r=n.getModel().location,r&&"root"!==r&&t.getObjects([r]).then(function(t){var n=t[r];e.primaryParents.unshift(n),i(n)})}function r(){e.metadata=e.ngModel.selectedObject&&e.ngModel.selectedObject.hasCapability("metadata")&&e.ngModel.selectedObject.useCapability("metadata")}e.primaryParents=[],e.contextutalParents=[],e.$watch("ngModel.selectedObject",function(){e.isLink=e.ngModel.selectedObject&&e.ngModel.selectedObject.hasCapability("location")&&e.ngModel.selectedObject.getCapability("location").isLink(),e.isLink?(i(),n()):(e.primaryParents=[],n()),r()})}return e}),define("platform/commonUI/general/src/controllers/BannerController",[],function(){"use strict";function e(e,t,n){e.active=t.active,e.action=function(e,t){return t.stopPropagation(),e()},e.dismiss=function(e,t){t.stopPropagation(),e.dismissOrMinimize()},e.maximize=function(e){"info"!==e.model.severity&&(e.model.cancel=function(){n.dismiss()},e.onDismiss(function(){n.dismiss()}),n.showBlockingMessage(e.model))}}return e}),define("platform/commonUI/general/src/directives/MCTContainer",[],function(){"use strict";function e(e){var t={};return e.forEach(function(e){t[e.key]=e}),{restrict:"E",transclude:!0,scope:!0,link:function(e,n,i){var r=i.key,o=t[r],s="container",a={};o&&(s=o.alias||s,(o.attributes||[]).forEach(function(e){a[e]=i[e]})),e[s]=a},template:function(e,n){var i=n.key,r=t[i];return r?r.template:""}}}return e}),define("platform/commonUI/general/src/directives/MCTDrag",[],function(){"use strict";function e(e){function t(t,n,i){function r(e){t.$eval(i[e],{delta:d,$event:u}),t.$apply()}function o(e){var t=[e.pageX,e.pageY];l=l||t,d=t.map(function(e,t){return e-l[t]}),u=e}function s(e){return o(e),r("mctDrag"),e.preventDefault(),!1}function a(e){return p.off("mouseup",a),p.off("mousemove",s),s(e),r("mctDragUp"),l=void 0,e.preventDefault(),!1}function c(e){return p.on("mouseup",a),p.on("mousemove",s),o(e),r("mctDragDown"),r("mctDrag"),e.preventDefault(),!1}var l,u,d,p=e.find("body");n.on("mousedown",c)}return{restrict:"A",link:t}}return e}),define("platform/commonUI/general/src/directives/MCTClickElsewhere",[],function(){"use strict";function e(e){function t(t,n,i){function r(e){var r=e.clientX,o=e.clientY,s=n[0].getBoundingClientRect(),a=s.left,c=a+s.width,l=s.top,u=l+s.height;(a>r||r>c||l>o||o>u)&&t.$eval(i.mctClickElsewhere)}var o=e.find("body");o.on("mousedown",r),t.$on("$destroy",function(){o.off("mousedown",r)})}return{restrict:"A",link:t}}return e}),define("platform/commonUI/general/src/directives/MCTResize",[],function(){"use strict";function e(e){function n(n,i,r){function o(){return r.mctResizeInterval?n.$eval(r.mctResizeInterval):t}function s(e){l&&l.width===e.width&&l.height===e.height||(n.$eval(r.mctResize,{bounds:e}),u||n.$apply(),l=e)}function a(){s({width:i[0].offsetWidth,height:i[0].offsetHeight}),d&&e(a,o(),!1)}function c(){d=!1}var l,u=!0,d=!0;n.$on("$destroy",c),a(),u=!1}return{restrict:"A",link:n}}var t=100;return e}),define("platform/commonUI/general/src/directives/MCTPopup",[],function(){"use strict";function e(e,n){function i(i,r,o,s,a){var c=e(t)(i),l=r.parent()[0].getBoundingClientRect(),u=[l.left,l.top],d=n.display(c,u);c.css("z-index",75),a(function(e){c.append(e)}),i.$on("$destroy",function(){d.dismiss()})}return{restrict:"E",transclude:!0,link:i,scope:{}}}var t="<div></div>";return e}),define("platform/commonUI/general/src/directives/MCTScroll",[],function(){"use strict";function e(e,t,n){function i(i,r,o){function s(e){r[0][t]=e}function a(){l.assign(i,r[0][t]),i.$apply(c)}var c=o[n],l=e(c);l.assign(i,r[0][t]),i.$watch(c,s),r.on("scroll",a)}return{restrict:"A",link:i}}return e}),define("platform/commonUI/general/src/directives/MCTSplitPane",[],function(){"use strict";function e(e,s,a){function c(c,l,u){function d(e){return"vertical"===y.orientation?e.offsetWidth:e.offsetHeight}function p(e){var t,n=e.eq(y.reversed?2:0),i=e.eq(1),r=e.eq(y.reversed?0:2),o=d(i[0]);n.css(y.edge,"0px"),n.css(y.dimension,b-o+"px"),t=d(n[0]),n.css(y.dimension,t+"px"),i.css(y.edge,t+"px"),i.css(y.opposite,"auto"),r.css(y.edge,t+o+"px"),r.css(y.opposite,"0px"),b=t+o}function f(){var e=l.children();return 3!==e.length||"mct-splitter"!==e[1].nodeName.toLowerCase()?void s.warn(i):void p(e)}function h(){b=Math.max(b,0),b=Math.min(b,d(l[0]))}function m(e){var t=b;return"number"==typeof e&&(b=e,h(),f(),S.assign&&b!==t&&S.assign(c,b)),b}function g(e){l.children().toggleClass(e)}var y,v,b,w=u.anchor||t,S=e(u.position);return o[w]||(s.warn(r),w=t),y=o[w],c.$watch(u.position,m),l.addClass("split-layout"),l.addClass(y.orientation),m(d(l.children().eq(y.reversed?2:0)[0])),v=a(function(){m(m())},n,0,!1),c.$on("$destroy",function(){a.cancel(v)}),{position:m,toggleClass:g,anchor:function(){return y}}}return{restrict:"E",controller:["$scope","$element","$attrs",c]}}var t="left",n=15,i=["Invalid mct-split-pane contents.","This element should contain exactly three","child elements, where the middle-most element","is an mct-splitter."].join(" "),r=["Unknown anchor provided to mct-split-pane,","defaulting to",t+"."].join(" "),o={left:{edge:"left",opposite:"right",dimension:"width",orientation:"vertical"},right:{edge:"right",opposite:"left",dimension:"width",orientation:"vertical",reversed:!0},top:{edge:"top",opposite:"bottom",dimension:"height",orientation:"horizontal"},bottom:{edge:"bottom",opposite:"top",dimension:"height",orientation:"horizontal",reversed:!0}};return e}),define("platform/commonUI/general/src/directives/MCTSplitter",[],function(){"use strict";function e(){function e(e,t,n,i){var r;t.addClass("splitter"),e.splitter={startMove:function(){t[0];r=i.position(),i.toggleClass("resizing")},move:function(e){var t=i.anchor(),n="vertical"===t.orientation?0:1,o=e[n]*(t.reversed?-1:1);i.position(r+o)},endMove:function(){i.toggleClass("resizing")}}}return{restrict:"E",require:"^mctSplitPane",link:e,template:t,scope:!0}}var t='<div class=\'abs\'mct-drag-down="splitter.startMove()" mct-drag="splitter.move(delta)" mct-drag-up="splitter.endMove()"></div>';return e}),function(e){define("zepto",[],function(){return function(){var t=function(){function e(e){return null==e?String(e):H[G.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function o(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return"number"==typeof e.length}function a(e){return I.call(e,function(e){return null!=e})}function c(e){return e.length>0?C.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in L?L[e]:L[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function d(e,t){return"number"!=typeof t||N[l(e)]?t:t+"px"}function p(e){var t,n;return E[e]||(t=M.createElement(e),M.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),E[e]=n),E[e]}function f(e){return"children"in e?A.call(e.children):C.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t,n){for($ in t)n&&(o(t[$])||X(t[$]))?(o(t[$])&&!o(e[$])&&(e[$]={}),X(t[$])&&!X(e[$])&&(e[$]=[]),h(e[$],t[$],n)):t[$]!==S&&(e[$]=t[$])}function m(e,t){return null==t?C(e):C(e).filter(t)}function g(e,n,i,r){return t(n)?n.call(e,i,r):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",i=n&&n.baseVal!==S;return t===S?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function b(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?C.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,i=e.childNodes.length;i>n;n++)w(e.childNodes[n],t)}var S,$,C,O,x,T,k=[],A=k.slice,I=k.filter,M=window.document,E={},L={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,D=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,P=/^(?:body|html)$/i,_=/([A-Z])/g,U=["val","css","html","text","data","width","height","offset"],W=["after","prepend","before","append"],F=M.createElement("table"),V=M.createElement("tr"),Y={tr:M.createElement("tbody"),tbody:F,thead:F,tfoot:F,td:V,th:V,"*":M.createElement("div")},q=/complete|loaded|interactive/,B=/^[\w-]*$/,H={},G=H.toString,z={},Z=M.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(e){return e instanceof Array};return z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=Z).appendChild(e),i=~z.qsa(r,t).indexOf(e),o&&Z.removeChild(e),i},x=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(e){return I.call(e,function(t,n){return e.indexOf(t)==n})},z.fragment=function(e,t,n){var i,r,s;return D.test(e)&&(i=C(M.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(R,"<$1></$2>")),t===S&&(t=j.test(e)&&RegExp.$1),t in Y||(t="*"),s=Y[t],s.innerHTML=""+e,i=C.each(A.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=C(i),C.each(n,function(e,t){U.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},z.Z=function(e,t){return e=e||[],e.__proto__=C.fn,e.selector=t||"",e},z.isZ=function(e){return e instanceof z.Z},z.init=function(e,n){var i;if(!e)return z.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&j.test(e))i=z.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return C(n).find(e);i=z.qsa(M,e)}else{if(t(e))return C(M).ready(e);if(z.isZ(e))return e;if(X(e))i=a(e);else if(r(e))i=[e],e=null;else if(j.test(e))i=z.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return C(n).find(e);i=z.qsa(M,e)}}return z.Z(i,e)},C=function(e,t){return z.init(e,t)},C.extend=function(e){var t,n=A.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},z.qsa=function(e,t){var n,r="#"==t[0],o=!r&&"."==t[0],s=r||o?t.slice(1):t,a=B.test(s);return i(e)&&a&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:A.call(a&&!r?o?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},C.contains=M.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},C.type=e,C.isFunction=t,C.isWindow=n,C.isArray=X,C.isPlainObject=o,C.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},C.inArray=function(e,t,n){return k.indexOf.call(t,e,n)},C.camelCase=x,C.trim=function(e){return null==e?"":String.prototype.trim.call(e)},C.uuid=0,C.support={},C.expr={},C.map=function(e,t){var n,i,r,o=[];if(s(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&o.push(n);else for(r in e)n=t(e[r],r),null!=n&&o.push(n);return c(o)},C.each=function(e,t){var n,i;if(s(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},C.grep=function(e,t){return I.call(e,t)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),C.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return C(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return C(A.apply(this,arguments))},ready:function(e){return q.test(M.readyState)&&M.body?e(C):M.addEventListener("DOMContentLoaded",function(){e(C)},!1),this},get:function(e){return e===S?A.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):C(I.call(this,function(t){return z.matches(t,e)}))},add:function(e,t){return C(T(this.concat(C(e,t))))},is:function(e){return this.length>0&&z.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):s(e)&&t(e.item)?A.call(e):C(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return C(n)},has:function(e){return this.filter(function(){return r(e)?C.contains(this,e):C(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:C(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:C(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?C(e).filter(function(){var e=this;return k.some.call(n,function(t){return C.contains(t,e)})}):1==this.length?C(z.qsa(this[0],e)):this.map(function(){return z.qsa(this,e)}):C()},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=C(e));n&&!(r?r.indexOf(n)>=0:z.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return C(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=C.map(n,function(e){return(e=e.parentNode)&&!i(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(T(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return f(this)}),e)},contents:function(){return this.map(function(){return A.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return I.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return C.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=C(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){C(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){C(this[0]).before(e=C(e));for(var t;(t=e.children()).length;)e=t.first();C(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=C(this),r=i.contents(),o=n?e.call(this,t):e;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=C(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return C(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return C(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;C(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(e))for($ in e)y(this,$,e[$]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=K[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(_,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?b(i):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=C(this),i=g(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof t)return r.style[x(t)]||i.getPropertyValue(t);if(X(t)){var o={};return C.each(t,function(e,t){o[t]=r.style[x(t)]||i.getPropertyValue(t)}),o}}var s="";if("string"==e(t))n||0===n?s=l(t)+":"+d(t,n):this.each(function(){this.style.removeProperty(l(t))});else for($ in t)t[$]||0===t[$]?s+=l($)+":"+d($,t[$])+";":this.each(function(){this.style.removeProperty(l($))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(C(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?k.some.call(this,function(e){return this.test(v(e))},u(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){O=[];var n=v(this),i=g(this,e,t,n);i.split(/\s+/g).forEach(function(e){C(this).hasClass(e)||O.push(e)},this),O.length&&v(this,n+(n?" ":"")+O.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return v(this,"");O=v(this),g(this,e,t,O).split(/\s+/g).forEach(function(e){O=O.replace(u(e)," ")}),v(this,O.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=C(this),r=g(this,e,n,v(this));r.split(/\s+/g).forEach(function(e){(t===S?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];
return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=P.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(C(e).css("margin-top"))||0,n.left-=parseFloat(C(e).css("margin-left"))||0,i.top+=parseFloat(C(t[0]).css("border-top-width"))||0,i.left+=parseFloat(C(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!P.test(e.nodeName)&&"static"==C(e).css("position");)e=e.offsetParent;return e})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});C.fn[e]=function(r){var o,s=this[0];return r===S?n(s)?s["inner"+t]:i(s)?s.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){s=C(this),s.css(e,g(this,r,t,s[e]()))})}}),W.forEach(function(t,n){var i=n%2;C.fn[t]=function(){var t,r,o=C.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:z.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var a=C.contains(M.documentElement,r);o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!r)return C(e).remove();r.insertBefore(e,t),a&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},C.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return C(e)[t](this),this}}),z.Z.prototype=C.fn,z.uniq=T,z.deserializeValue=b,C.zepto=z,C}();return window.Zepto=t,void 0===window.$&&(window.$=t),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,o,s){if(n=i(n),n.ns)var a=r(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!v&&e.e in b||!!t}function s(e){return w[e]||v&&b[e]||e}function a(n,r,a,c,u,p,f){var h=t(n),m=g[h]||(g[h]=[]);r.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(a);var r=i(t);r.fn=a,r.sel=u,r.e in w&&(a=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=p;var h=p||a;r.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=c;var t=h.apply(n,e._args==d?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(s(r.e),r.proxy,o(r,f))})}function c(e,i,r,a,c){var l=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,r,a).forEach(function(t){delete g[l][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,o(t,c))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(O,function(e,i){var r=n[e];t[e]=function(){return this[i]=S,r&&r.apply(n,arguments)},t[i]=$}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=S)),t}function u(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===d||(n[t]=e[t]);return l(n,e)}var d,p=1,f=Array.prototype.slice,h=e.isFunction,m=function(e){return"string"==typeof e},g={},y={},v="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:a,remove:c},e.proxy=function(n,i){var r=2 in arguments&&f.call(arguments,2);if(h(n)){var o=function(){return n.apply(i,r?r.concat(f.call(arguments)):arguments)};return o._zid=t(n),o}if(m(i))return r?(r.unshift(n[i],n),e.proxy.apply(null,r)):e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var S=function(){return!0},$=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,O={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,o){var s,l,p=this;return t&&!m(t)?(e.each(t,function(e,t){p.on(e,n,i,t,o)}),p):(m(n)||h(r)||r===!1||(r=i,i=n,n=d),(h(i)||i===!1)&&(r=i,i=d),r===!1&&(r=$),p.each(function(d,p){o&&(s=function(e){return c(p,e.type,r),r.apply(this,arguments)}),n&&(l=function(t){var i,o=e(t.target).closest(n,p).get(0);return o&&o!==p?(i=e.extend(u(t),{currentTarget:o,liveFired:p}),(s||r).apply(o,[i].concat(f.call(arguments,1)))):void 0}),a(p,t,r,i,n,l||s)}))},e.fn.off=function(t,n,i){var r=this;return t&&!m(t)?(e.each(t,function(e,t){r.off(e,n,t)}),r):(m(n)||h(i)||i===!1||(i=n,n=d),i===!1&&(i=$),r.each(function(){c(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var r,o;return this.each(function(s,a){r=u(m(t)?e.Event(t):t),r._args=i,r.target=a,e.each(n(a,t.type||t),function(e,t){return o=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(y[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),l(n)}}(t),function(e){function t(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.isDefaultPrevented()}function n(e,n,i,r){return e.global?t(n||v,i,r):void 0}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var i=t.context;return t.beforeSend.call(i,e,t)===!1||n(t,i,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,i,"ajaxSend",[e,t])}function s(e,t,i,r){var o=i.context,s="success";i.success.call(o,e,s,t),r&&r.resolveWith(o,[e,s,t]),n(i,o,"ajaxSuccess",[t,i,e]),c(s,t,i)}function a(e,t,i,r,o){var s=r.context;r.error.call(s,i,t,e),o&&o.rejectWith(s,[i,t,e]),n(r,s,"ajaxError",[i,r,e||t]),c(t,i,r)}function c(e,t,i){var o=i.context;i.complete.call(o,t,e),n(i,o,"ajaxComplete",[t,i]),r(i)}function l(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==C?"html":e==$?"json":w.test(e)?"script":S.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}function f(t,n,i,r){return e.isFunction(n)&&(r=i,i=n,n=void 0),e.isFunction(i)||(r=i,i=void 0),{url:t,data:n,success:i,dataType:r}}function h(t,n,i,r){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,function(n,c){o=e.type(c),r&&(n=i?r:r+"["+(a||"object"==o||"array"==o?n:"")+"]"),!r&&s?t.add(c.name,c.value):"array"==o||!i&&"object"==o?h(t,c,i,n):t.add(n,c)})}var m,g,y=0,v=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,$="application/json",C="text/html",O=/^\s*$/,x=v.createElement("a");x.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var i,r,c=t.jsonpCallback,l=(e.isFunction(c)?c():c)||"jsonp"+ ++y,u=v.createElement("script"),d=window[l],p=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:p};return n&&n.promise(f),e(u).on("load error",function(o,c){clearTimeout(r),e(u).off().remove(),"error"!=o.type&&i?s(i[0],f,t,n):a(null,c||"error",f,t,n),window[l]=d,i&&e.isFunction(d)&&d(i[0]),d=i=void 0}),o(f,t)===!1?(p("abort"),f):(window[l]=function(){i=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+l),v.head.appendChild(u),t.timeout>0&&(r=setTimeout(function(){p("timeout")},t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:$,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,r=e.extend({},t||{}),c=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===r[m]&&(r[m]=e.ajaxSettings[m]);i(r),r.crossDomain||(n=v.createElement("a"),n.href=r.url,n.href=n.href,r.crossDomain=x.protocol+"//"+x.host!=n.protocol+"//"+n.host),r.url||(r.url=window.location.toString()),p(r);var f=r.dataType,h=/\?.+=\?/.test(r.url);if(h&&(f="jsonp"),r.cache!==!1&&(t&&t.cache===!0||"script"!=f&&"jsonp"!=f)||(r.url=d(r.url,"_="+Date.now())),"jsonp"==f)return h||(r.url=d(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===!1?"":"callback=?")),e.ajaxJSONP(r,c);var y,b=r.accepts[f],w={},S=function(e,t){w[e.toLowerCase()]=[e,t]},$=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,C=r.xhr(),T=C.setRequestHeader;if(c&&c.promise(C),r.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=r.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(b)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!=r.type.toUpperCase())&&S("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(g in r.headers)S(g,r.headers[g]);if(C.setRequestHeader=S,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=l,clearTimeout(y);var t,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==$){f=f||u(r.mimeType||C.getResponseHeader("content-type")),t=C.responseText;try{"script"==f?(1,eval)(t):"xml"==f?t=C.responseXML:"json"==f&&(t=O.test(t)?null:e.parseJSON(t))}catch(i){n=i}n?a(n,"parsererror",C,r,c):s(t,C,r,c)}else a(C.statusText||null,C.status?"error":"abort",C,r,c)}},o(C,r)===!1)return C.abort(),a(null,"abort",C,r,c),C;if(r.xhrFields)for(g in r.xhrFields)C[g]=r.xhrFields[g];var k="async"in r?r.async:!0;C.open(r.type,r.url,k,r.username,r.password);for(g in w)T.apply(C,w[g]);return r.timeout>0&&(y=setTimeout(function(){C.onreadystatechange=l,C.abort(),a(null,"timeout",C,r,c)},r.timeout)),C.send(r.data?r.data:null),C},e.get=function(){return e.ajax(f.apply(null,arguments))},e.post=function(){var t=f.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=f.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,o=this,s=t.split(/\s/),a=f(t,n,i),c=a.success;return s.length>1&&(a.url=s[0],r=s[1]),a.success=function(t){o.html(r?e("<div>").html(t.replace(b,"")).find(r):t),c&&c.apply(o,arguments)},e.ajax(a),this};var T=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(t)+"="+T(n))},h(i,t,n),i.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,i=[],r=function(e){return e.forEach?e.forEach(r):void i.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(i,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(e(o).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(t),e.Zepto=t}.apply(e,arguments)})}(this),define("text!platform/commonUI/general/res/templates/tree/node.html",[],function(){return'<span class="tree-item menus-to-left">\n</span>\n<span class="tree-item-subtree">\n</span>\n'}),define("text!platform/commonUI/general/res/templates/tree/toggle.html",[],function(){return"<span class='ui-symbol view-control flex-elem'>\n</span>\n"}),define("platform/commonUI/general/src/ui/ToggleView",["zepto","text!../../res/templates/tree/toggle.html"],function(e,t){function n(n){this.expanded=!!n,this.callbacks=[],this.el=e(t),this.el.on("click",function(){this.value(!this.expanded)}.bind(this))}return n.prototype.value=function(e){this.expanded=e,e?this.el.addClass("expanded"):this.el.removeClass("expanded"),this.callbacks.forEach(function(t){t(e)})},n.prototype.observe=function(e){return this.callbacks.push(e),function(){this.callbacks=this.callbacks.filter(function(t){return t!==e})}.bind(this)},n.prototype.elements=function(){return this.el},n}),define("text!platform/commonUI/general/res/templates/tree/tree-label.html",[],function(){return'<span class="rep-object-label">\n    <div class="t-object-label l-flex-row flex-elem grows">\n        <div class="t-item-icon flex-elem">\n            <div class="t-item-icon-glyph"></div>\n        </div>\n        <div class=\'t-title-label flex-elem grows\'></div>\n    </div>\n</span>\n'}),define("platform/commonUI/general/src/ui/TreeLabelView",["zepto","text!../../res/templates/tree/tree-label.html"],function(e,t){"use strict";function n(n){this.el=e(t),this.gestureService=n}function i(e){var t=e.getCapability("type");return t.getGlyph()}function r(e){var t=e.getCapability("location");return t.isLink()}return n.prototype.updateView=function(e){var t=this.el.find(".t-title-label"),n=this.el.find(".t-item-icon-glyph"),o=this.el.find(".t-item-icon");t.text(e?e.getModel().name:""),n.text(e?i(e):""),e&&r(e)?o.addClass("l-icon-link"):o.removeClass("l-icon-link")},n.prototype.model=function(e){this.unlisten&&(this.unlisten(),delete this.unlisten),this.activeGestures&&(this.activeGestures.destroy(),delete this.activeGestures),this.updateView(e),e&&(this.unlisten=e.getCapability("mutation").listen(this.updateView.bind(this,e)),this.activeGestures=this.gestureService.attachGestures(this.elements(),e,["info","menu","drag"]))},n.prototype.elements=function(){return this.el},n}),define("platform/commonUI/general/src/ui/TreeNodeView",["zepto","text!../../res/templates/tree/node.html","./ToggleView","./TreeLabelView"],function(e,t,n,i){"use strict";function r(r,o,s){this.li=e("<li>"),this.statusClasses=[],this.toggleView=new n(!1),this.toggleView.observe(function(t){t?(this.subtreeView||(this.subtreeView=o(),this.subtreeView.model(this.activeObject),this.li.find(".tree-item-subtree").eq(0).append(e(this.subtreeView.elements()))),e(this.subtreeView.elements()).removeClass("hidden")):this.subtreeView&&e(this.subtreeView.elements()).addClass("hidden")}.bind(this)),this.labelView=new i(r),e(this.labelView.elements()).on("click",function(){s(this.activeObject)}.bind(this)),this.li.append(e(t)),this.li.find("span").eq(0).append(e(this.toggleView.elements())).append(e(this.labelView.elements())),this.model(void 0)}function o(e){function t(e){return e.getId()}var n=e&&e.getCapability("context");return n?n.getPath().map(t):[]}return r.prototype.updateStatusClasses=function(e){this.statusClasses.forEach(function(e){this.li.removeClass(e)}.bind(this)),this.statusClasses=e.map(function(e){return"s-status-"+e}),this.statusClasses.forEach(function(e){this.li.addClass(e)}.bind(this))},r.prototype.model=function(t){this.unlisten&&this.unlisten(),this.activeObject=t,t&&t.hasCapability("composition")?e(this.toggleView.elements()).addClass("has-children"):e(this.toggleView.elements()).removeClass("has-children"),t&&t.hasCapability("status")&&(this.unlisten=t.getCapability("status").listen(this.updateStatusClasses.bind(this)),this.updateStatusClasses(t.getCapability("status").list())),this.labelView.model(t),this.subtreeView&&this.subtreeView.model(t)},r.prototype.value=function(e){var t=o(this.activeObject),n=o(e);this.onSelectionPath&&(this.li.find(".tree-item").eq(0).removeClass("selected"),this.subtreeView&&this.subtreeView.value(void 0)),this.onSelectionPath=!!e&&!!this.activeObject&&t.length<=n.length&&t.every(function(e,t){return n[t]===e}),this.onSelectionPath&&(t.length===n.length?this.li.find(".tree-item").eq(0).addClass("selected"):(this.toggleView.value(!0),this.subtreeView.value(e)))},r.prototype.elements=function(){return this.li},r}),define("text!platform/commonUI/general/res/templates/tree/wait-node.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<li class=\'tree-item t-wait-node loading\'>\n    <span class="t-title-label">Loading...</span>\n</li>\n'}),define("platform/commonUI/general/src/ui/TreeView",["zepto","./TreeNodeView","text!../../res/templates/tree/wait-node.html"],function(e,t,n){"use strict";function i(t,n){this.ul=e('<ul class="tree"></ul>'),this.nodeViews=[],this.callbacks=[],this.selectFn=n||this.value.bind(this),this.gestureService=t,this.pending=!1}return i.prototype.newTreeView=function(){return new i(this.gestureService,this.selectFn)},i.prototype.setSize=function(n){for(var i;this.nodeViews.length<n;)i=new t(this.gestureService,this.newTreeView.bind(this),this.selectFn),this.nodeViews.push(i),this.ul.append(e(i.elements()));for(;this.nodeViews.length>n;)i=this.nodeViews.pop(),e(i.elements()).remove()},i.prototype.loadComposition=function(){function e(e,t){n.nodeViews[t].model(e)}function t(t){n.pending&&(n.pending=!1,n.nodeViews=[],n.ul.empty()),i===n.activeObject&&(n.setSize(t.length),t.forEach(e),n.updateNodeViewSelection())}var n=this,i=this.activeObject;i.useCapability("composition").then(t)},i.prototype.model=function(t){this.unlisten&&this.unlisten(),this.activeObject=t,this.ul.empty(),t&&t.hasCapability("composition")?(this.pending=!0,this.ul.append(e(n)),this.unlisten=t.getCapability("mutation").listen(this.loadComposition.bind(this)),this.loadComposition(t)):this.setSize(0)},i.prototype.updateNodeViewSelection=function(){this.nodeViews.forEach(function(e){e.value(this.selectedObject)}.bind(this))},i.prototype.value=function(e){this.selectedObject=e,this.updateNodeViewSelection(),this.callbacks.forEach(function(t){t(e)})},i.prototype.observe=function(e){return this.callbacks.push(e),function(){this.callbacks=this.callbacks.filter(function(t){return t!==e})}.bind(this)},i.prototype.elements=function(){return this.ul},i}),define("platform/commonUI/general/src/directives/MCTTree",["angular","../ui/TreeView"],function(e,t){function n(n,i){function r(r,o,s){var a=new t(i),c=n(s.mctModel),l=a.observe(function(e){e!==c(r.$parent)&&(c.assign(r.$parent,e),r.$apply())});o.append(e.element(a.elements())),r.$parent.$watch(s.mctModel,a.value.bind(a)),r.$watch("mctObject",a.model.bind(a)),r.$on("$destroy",l)}return{restrict:"E",link:r,scope:{mctObject:"="}}}return n}),define("text!platform/commonUI/general/res/templates/bottombar.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'abs bottom-bar ue-bottom-bar mobile-disable-select\' ng-controller="BottomBarController as bar">\n    <div id=\'status\' class=\'status-holder\'>\n        <mct-include ng-repeat="indicator in bar.getIndicators()"\n                     ng-model="indicator.ngModel"\n                     key="indicator.template"\n                     class="status-block-holder"\n                     ng-class=\'indicator.ngModel.getGlyphClass()\'>\n        </mct-include>\n    </div>\n    <mct-include key="\'message-banner\'"></mct-include>\n    <mct-include key="\'about-logo\'"></mct-include>\n</div>'}),define("text!platform/commonUI/general/res/templates/controls/action-button.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<a class="s-btn key-{{parameters.action.getMetadata().key}}"\n   ng-class="{ labeled: parameters.labeled }"\n   title="{{parameters.action.getMetadata().description}}"\n   ng-click="parameters.action.perform()">\n    <span class="ui-symbol icon">\n        {{parameters.action.getMetadata().glyph}}\n    </span>\n    <span class="title-label" ng-if="parameters.labeled">\n        {{parameters.action.getMetadata().name}}\n    </span>\n</a>\n'}),define("text!platform/commonUI/general/res/templates/controls/input-filter.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- look at action-button for example -->\n<span class="t-filter l-filter s-filter"\n      ng-controller="GetterSetterController">\n	<input type="search"\n           class="t-filter-input"\n           ng-model="getterSetter.value"/>\n	<a class="clear-icon"\n       ng-class="{show: !(getterSetter.value === \'\' || getterSetter.value === undefined)}"\n       ng-click="getterSetter.value = \'\'">\n    </a>\n</span>'}),define("text!platform/commonUI/general/res/templates/indicator.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- DO NOT ADD SPACES BETWEEN THE SPANS - IT ADDS WHITE SPACE!! -->\n<div class=\'status block\'\n	 title="{{ngModel.getDescription()}}"\n	 ng-click=\'ngModel.configure()\'\n	 ng-show="ngModel.getText().length > 0">\n	<span class="ui-symbol status-indicator">\n		{{ngModel.getGlyph()}}\n	</span><span class="label"\n		  ng-class=\'ngModel.getTextClass()\'>\n		{{ngModel.getText()}}\n        <a class="s-btn ui-symbol" ng-if="ngModel.configure">G</a>\n	</span><span class="count">\n	</span>\n</div>'}),define("text!platform/commonUI/general/res/templates/message-banner.html",[],function(){return'<div ng-controller="BannerController" ng-show="active.notification"\n     class="l-message-banner s-message-banner {{active.notification.model.severity}}" ng-class="{\n     \'minimized\': active.notification.model.minimized,\n     \'new\': !active.notification.model.minimized}"\n     ng-click="maximize(active.notification)">\n    <span class="banner-elem label">\n        {{active.notification.model.title}}\n    </span>\n    <span ng-show="active.notification.model.progress !== undefined || active.notification.model.unknownProgress">\n        <mct-include key="\'progress-bar\'" class="banner-elem"\n                     ng-model="active.notification.model">\n        </mct-include>\n    </span>\n    <a ng-hide="active.notification.model.primaryOption === undefined"\n       class="banner-elem l-action s-action"\n       ng-click="action(active.notification.model.primaryOption.callback, $event)">\n        {{active.notification.model.primaryOption.label}}\n    </a>\n    <a class="banner-elem ui-symbol close" ng-click="dismiss(active.notification, $event)">\n        &#x78;</a>\n</div>'}),define("text!platform/commonUI/general/res/templates/progress-bar.html",[],function(){return'<span class="l-progress-bar s-progress-bar"\n      ng-class="{ indeterminate:ngModel.unknownProgress }">\n    <span class="progress-amt-holder">\n        <span class="progress-amt" style="width: {{ngModel.progress}}%"></span>\n    </span>\n</span>\n<div class="progress-info hint" ng-hide="ngModel.progressText === undefined">\n    <span class="progress-amt-text" ng-show="ngModel.progress > 0">{{ngModel.progress}}% complete. </span>\n    {{ngModel.progressText}}\n</div>'}),define("text!platform/commonUI/general/res/templates/controls/time-controller.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="TimeRangeController as trCtrl">\n    <form class="l-time-range-inputs-holder"\n          ng-submit="trCtrl.updateBoundsFromForm()">\n        <span class="l-time-range-inputs-elem ui-symbol type-icon">&#x43;</span>\n        <span class="l-time-range-input">\n            <mct-control key="\'datetime-field\'"\n                         structure="{\n                             format: parameters.format,\n                             validate: trCtrl.validateStart\n                         }"\n                         ng-model="formModel"\n                         ng-blur="trCtrl.updateBoundsFromForm()"\n                         field="\'start\'"\n                         class="time-range-start">\n            </mct-control>\n        </span>\n\n        <span class="l-time-range-inputs-elem lbl">to</span>\n\n        <span class="l-time-range-input" ng-controller="ToggleController as t2">\n            <mct-control key="\'datetime-field\'"\n                         structure="{\n                             format: parameters.format,\n                             validate: trCtrl.validateEnd\n                         }"\n                         ng-model="formModel"\n                         ng-blur="trCtrl.updateBoundsFromForm()"\n                         field="\'end\'"\n                         class="time-range-end">\n            </mct-control>&nbsp;\n        </span>\n\n        <input type="submit" class="hidden">\n    </form>\n\n    <div class="l-time-range-slider-holder">\n        <div class="l-time-range-slider">\n            <div class="slider"\n                 mct-resize="spanWidth = bounds.width">\n                <div class="knob knob-l"\n                     mct-drag-down="trCtrl.startLeftDrag()"\n                     mct-drag="trCtrl.leftDrag(delta[0])"\n                     ng-style="{ left: startInnerPct }">\n                    <div class="range-value">{{startInnerText}}</div>\n                </div>\n                <div class="knob knob-r"\n                     mct-drag-down="trCtrl.startRightDrag()"\n                     mct-drag="trCtrl.rightDrag(delta[0])"\n                     ng-style="{ right: endInnerPct }">\n                    <div class="range-value">{{endInnerText}}</div>\n                </div>\n                <div class="slot range-holder">\n                    <div class="range"\n                         mct-drag-down="trCtrl.startMiddleDrag()"\n                         mct-drag="trCtrl.middleDrag(delta[0])"\n                         ng-style="{\n                             left: startInnerPct,\n                             right: endInnerPct\n                         }">\n                        <div class="toi-line"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="l-time-range-ticks-holder">\n        <div class="l-time-range-ticks">\n            <div\n                ng-repeat="tick in ticks track by $index"\n                ng-style="{ left: $index * (100 / (ticks.length - 1)) + \'%\' }"\n                class="tick tick-x"\n                >\n                <span class="l-time-range-tick-label">{{tick}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n';
}),define("text!platform/commonUI/general/res/templates/containers/accordion.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n    class="accordion-head"\n    ng-click="toggle.toggle()"\n    ng-class="{ expanded:!toggle.isActive() }"\n    >\n    {{container.label}}\n</div>\n<div\n    class="accordion-contents"\n    ng-show="!toggle.isActive()"\n    ng-transclude\n    >\n</div>\n'}),define("text!platform/commonUI/general/res/templates/subtree.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<mct-tree mct-object="domainObject" mct-model="ngModel.selectedObject">\n</mct-tree>\n\n'}),define("text!platform/commonUI/general/res/templates/tree.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<ul class="tree">\n    <li>\n        <mct-representation key="\'tree-node\'"\n                            mct-object="domainObject"\n                            ng-model="ngModel"\n                            parameters="parameters">\n        </mct-representation>\n    </li>\n</ul>\n'}),define("text!platform/commonUI/general/res/templates/tree-node.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ToggleController as toggle">\n    <span ng-controller="TreeNodeController as treeNode">\n        <span\n            class="tree-item menus-to-left"\n            ng-class="{selected: treeNode.isSelected()}"\n            >\n            <span\n                class=\'ui-symbol view-control flex-elem\'\n                ng-class="{ \'has-children\': model.composition !== undefined, expanded: toggle.isActive() }"\n                ng-click="toggle.toggle(); treeNode.trackExpansion()"\n                >\n            </span>\n            <mct-representation\n                class="rep-object-label"\n                key="\'label\'"\n                mct-object="domainObject"\n                parameters="{suppressMenuOnEdit: true}"\n                ng-click="treeNode.select()"\n                >\n            </mct-representation>\n        </span>\n        <span\n            class="tree-item-subtree"\n            ng-show="toggle.isActive()"\n            ng-if="model.composition !== undefined"\n            >\n\n            <mct-representation key="\'subtree\'"\n                                ng-model="ngModel"\n                                parameters="parameters"\n                                mct-object="treeNode.hasBeenExpanded() && domainObject">\n            </mct-representation>\n\n        </span>\n    </span>\n</span>\n'}),define("text!platform/commonUI/general/res/templates/label.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-object-label l-flex-row flex-elem grows">\n    <div class="t-item-icon flex-elem" ng-class="{ \'l-icon-link\':location.isLink() }">\n        <div class="t-item-icon-glyph">{{type.getGlyph()}}</div>\n    </div>\n    <div class=\'t-title-label flex-elem grows\'>{{model.name}}</div>\n</div>\n'}),define("text!platform/commonUI/general/res/templates/controls/action-group.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ActionGroupController">\n    <span ng-repeat="action in ungrouped">\n        <mct-include key="\'action-button\'" parameters="{ action: action }"></mct-include>\n    </span>\n    <span class="l-btn-set" ng-repeat="group in groups">\n        <span ng-repeat="action in group">\n            <mct-include key="\'action-button\'"\n                         parameters="{ action: action }"\n                         ng-class="{ first:$index == 0, last:$index == group.length - 1 }"\n	            >\n            </mct-include>\n        </span>\n    </span>\n</span>'}),define("text!platform/commonUI/general/res/templates/menu/context-menu.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="menu-element context-menu-wrapper mobile-disable-select" ng-controller="ContextMenuController">\n    <div class="menu context-menu">\n        <ul>\n\n            <li ng-repeat="menuAction in menuActions"\n                ng-click="menuAction.perform()"\n                title="{{menuAction.getMetadata().description}}"\n                >\n                <span class="ui-symbol icon type-icon">\n                    {{menuAction.getMetadata().glyph}}\n                </span>\n                {{menuAction.getMetadata().name}}\n            </li>\n\n        </ul>\n    </div>\n</div>'}),define("text!platform/commonUI/general/res/templates/controls/switcher.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="ViewSwitcherController">\n    <div\n	    class="view-switcher menu-element s-menu-btn"\n	    ng-if="view.length > 1"\n	    ng-controller="ClickAwayController as toggle"\n	    >\n\n        <span\n	        class="l-click-area"\n	        ng-click="toggle.toggle()"\n	        title="{{ngModel.selected.name}}"\n	        ></span>\n\n        <span class="ui-symbol icon type-icon">{{ngModel.selected.glyph}}</span>\n        <span class="title-label">{{ngModel.selected.name}}</span>\n\n        <div class="menu" ng-show="toggle.isActive()">\n            <ul>\n                <li ng-repeat="option in view"\n                    ng-click="ngModel.selected = option; toggle.setState(false)">\n                    <span class="ui-symbol type-icon icon">{{option.glyph}}</span>\n                    {{option.name}}\n                </li>\n            </ul>\n        </div>\n    </div>\n</span>'}),define("text!platform/commonUI/general/res/templates/object-inspector.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class="l-inspect">\n    <div ng-controller="PaneController">\n        <mct-split-pane class=\'abs contents split-layout\' anchor=\'bottom\'>\n            <div class="split-pane-component pane top">\n                <div class="abs holder holder-inspector l-flex-col">\n                    <div class="pane-header flex-elem">Inspection</div>\n                    <mct-representation\n                            key="\'inspector-region\'"\n                            mct-object="domainObject"\n                            ng-model="ngModel"\n                            class="flex-elem grows vscroll l-flex-col">\n                    </mct-representation>\n                </div>\n            </div>\n            <mct-splitter class="splitter-inspect-panel mobile-hide"></mct-splitter>\n            <div class="split-pane-component pane bottom">\n                <div class="abs holder holder-elements l-flex-col">\n                    <em class="flex-elem t-inspector-part-header">Elements</em>\n                    <mct-representation\n                            key="\'edit-elements\'"\n                            mct-object="domainObject"\n                            class="flex-elem l-flex-col holder grows current-elements">\n                    </mct-representation>\n                </div>\n            </div>\n        </mct-split-pane>\n    </div>\n</span>\n'}),define("text!platform/commonUI/general/res/templates/controls/selector.html",[],function(){return"<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class='form-control complex channel-selector cols cols-32'\n     ng-controller=\"SelectorController as selector\">\n    <div class='col col-15'>\n        <div class='line field-hints'>Available</div>\n        <!--div id='_form_filter' class='line filter'>\n            <input type='text' class='control filter' name='filter-available' />\n            <a class='icon ui-symbol t-available-trigger'\n               href=''\n               title=\"Filter is case sensitive\">M</a>\n        </div>\n\n        <div class=\"line\">\n            Showing {{shown}} of {{count}} available options.\n        </div -->\n\n        <div class='line treeview' name='available'>\n            <mct-representation key=\"'tree'\"\n                                mct-object=\"selector.root()\"\n                                ng-model=\"selector.treeModel\">\n            </mct-representation>\n        </div>\n    </div>\n    <div class='col col-2'>\n        <div class='btn-holder valign-mid btns-add-remove'>\n            <a class='s-btn major'\n               ng-click=\"selector.select(selector.treeModel.selectedObject)\">\n                <span class='ui-symbol'>&gt;</span>\n            </a>\n            <a class='s-btn major'\n               ng-click=\"selector.deselect(selector.listModel.selectedObject)\">\n                <span class='ui-symbol'>&lt;</span>\n            </a>\n        </div>\n    </div>\n    <div class='col col-15'>\n        <div class='line field-hints'>Selected</div>\n        <!-- div id='_form_filter' class='line filter'>\n            <input type='text' class='control filter' name='filter-selected' />\n            <a class='icon ui-symbol t-selected-trigger'\n               href=''\n               title=\"Filter is case sensitive\">\n                M\n            </a>\n        </div>\n        <div class=\"line\">\n            Showing {{shown}} of {{count}} available options.\n        </div -->\n\n        <div class='line treeview l-tree-item-flat-list' name='selected'>\n            <ul class=\"tree\">\n                <li ng-repeat=\"selectedObject in selector.selected()\">\n	                <span\n		                class=\"tree-item\"\n		                ng-class=\"{selected: selector.listModel.selectedObject === selectedObject }\"\n		                >\n                    <mct-representation\n	                    key=\"'label'\"\n	                    mct-object=\"selectedObject\"\n	                    ng-click=\"selector.listModel.selectedObject = selectedObject\"\n	                    >\n                    </mct-representation>\n					</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>"}),define("text!platform/commonUI/general/res/templates/controls/datetime-picker.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<div ng-controller="DateTimePickerController" class="l-datetime-picker s-datetime-picker s-menu">\n	<div class="holder">\n		<div class="l-month-year-pager">\n			<a class="pager prev" ng-click="changeMonth(-1)"></a>\n			<span class="val">{{month}} {{year}}</span>\n			<a class="pager next" ng-click="changeMonth(1)"></a>\n		</div>\n		<div class="l-calendar">\n			<ul class="l-cal-row l-header">\n				<li ng-repeat="day in [\'Su\',\'Mo\',\'Tu\',\'We\',\'Th\',\'Fr\',\'Sa\']">{{day}}</li>\n			</ul>\n			<ul class="l-cal-row l-body" ng-repeat="row in table">\n				<li ng-repeat="cell in row"\n					ng-click="select(cell)"\n					ng-class=\'{ "in-month": isInCurrentMonth(cell), selected: isSelected(cell) }\'>\n					<div class="prime">{{cell.day}}</div>\n					<div class="sub">{{cell.dayOfYear}}</div>\n				</li>\n			</ul>\n		</div>\n	</div>\n	<div class="l-time-selects complex datetime"\n			ng-show="options">\n		<div class="field-hints">\n			<span class="hint time md"\n				  ng-repeat="key in [\'hours\', \'minutes\', \'seconds\']"\n				  ng-if="options[key]">\n				{{nameFor(key)}}\n			</span>\n		</div>\n		<div>\n			<span class="field control time md"\n				  ng-repeat="key in [\'hours\', \'minutes\', \'seconds\']"\n				  ng-if="options[key]">\n				<div class=\'form-control select\'>\n					<select size="1"\n							ng-model="time[key]"\n							ng-options="i for i in optionsFor(key)">\n					</select>\n				</div>\n			</span>\n		</div>\n	</div>\n</div>\n'}),define("text!platform/commonUI/general/res/templates/controls/datetime-field.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class="s-btn"\n      ng-controller="DateTimeFieldController">\n    <input type="text"\n           ng-model="textValue"\n           ng-blur="restoreTextValue(); ngBlur()"\n           ng-class="{\n                        error: textInvalid ||\n                            (structure.validate &&\n                                !structure.validate(ngModel[field]))\n                     }">\n    </input>\n    <a class="ui-symbol icon icon-calendar"\n       ng-if="structure.format === \'utc\' || !structure.format"\n       ng-click="picker.active = !picker.active">\n    </a>\n    <mct-popup ng-if="picker.active">\n        <div mct-click-elsewhere="picker.active = false">\n            <mct-control key="\'datetime-picker\'"\n                         ng-model="pickerModel"\n                         field="\'value\'"\n                         options="{ hours: true }">\n            </mct-control>\n        </div>\n    </mct-popup>\n</span>\n'}),define("platform/commonUI/general/bundle",["./src/services/UrlService","./src/services/PopupService","./src/SplashScreenManager","./src/StyleSheetLoader","./src/controllers/TimeRangeController","./src/controllers/DateTimePickerController","./src/controllers/DateTimeFieldController","./src/controllers/TreeNodeController","./src/controllers/ActionGroupController","./src/controllers/ToggleController","./src/controllers/ContextMenuController","./src/controllers/ClickAwayController","./src/controllers/ViewSwitcherController","./src/controllers/BottomBarController","./src/controllers/GetterSetterController","./src/controllers/SelectorController","./src/controllers/ObjectInspectorController","./src/controllers/BannerController","./src/directives/MCTContainer","./src/directives/MCTDrag","./src/directives/MCTClickElsewhere","./src/directives/MCTResize","./src/directives/MCTPopup","./src/directives/MCTScroll","./src/directives/MCTSplitPane","./src/directives/MCTSplitter","./src/directives/MCTTree","text!./res/templates/bottombar.html","text!./res/templates/controls/action-button.html","text!./res/templates/controls/input-filter.html","text!./res/templates/indicator.html","text!./res/templates/message-banner.html","text!./res/templates/progress-bar.html","text!./res/templates/controls/time-controller.html","text!./res/templates/containers/accordion.html","text!./res/templates/subtree.html","text!./res/templates/tree.html","text!./res/templates/tree-node.html","text!./res/templates/label.html","text!./res/templates/controls/action-group.html","text!./res/templates/menu/context-menu.html","text!./res/templates/controls/switcher.html","text!./res/templates/object-inspector.html","text!./res/templates/controls/selector.html","text!./res/templates/controls/datetime-picker.html","text!./res/templates/controls/datetime-field.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,O,x,T,k,A,I,M,E,L,N,j,D,R,P,_,U,W,F,V,Y,q,B,H){"use strict";H.register("platform/commonUI/general",{name:"General UI elements",description:"General UI elements, meant to be reused across modes",resources:"res",extensions:{services:[{key:"urlService",implementation:e,depends:["$location"]},{key:"popupService",implementation:t,depends:["$document","$window"]}],runs:[{implementation:i,depends:["stylesheets[]","$document","THEME"]},{implementation:n,depends:["$document"]}],filters:[{implementation:"filters/ReverseFilter.js",key:"reverse"}],stylesheets:[{stylesheetUrl:"css/normalize.min.css",priority:"mandatory"}],templates:[{key:"bottombar",template:k},{key:"action-button",template:A},{key:"input-filter",template:I},{key:"indicator",template:M},{key:"message-banner",template:E},{key:"progress-bar",template:L},{key:"time-controller",template:N}],controllers:[{key:"TimeRangeController",implementation:r,depends:["$scope","formatService","DEFAULT_TIME_FORMAT","now"]},{key:"DateTimePickerController",implementation:o,depends:["$scope","now"]},{key:"DateTimeFieldController",implementation:s,depends:["$scope","formatService","DEFAULT_TIME_FORMAT"]},{key:"TreeNodeController",implementation:a,depends:["$scope","$timeout","navigationService"]},{key:"ActionGroupController",implementation:c,depends:["$scope"]},{key:"ToggleController",implementation:l},{key:"ContextMenuController",implementation:u,depends:["$scope"]},{key:"ClickAwayController",implementation:d,depends:["$scope","$document"]},{key:"ViewSwitcherController",implementation:p,depends:["$scope","$timeout"]},{key:"BottomBarController",implementation:f,depends:["indicators[]"]},{key:"GetterSetterController",implementation:h,depends:["$scope"]},{key:"SelectorController",implementation:m,depends:["objectService","$scope"]},{key:"ObjectInspectorController",implementation:g,depends:["$scope","objectService"]},{key:"BannerController",implementation:y,depends:["$scope","notificationService","dialogService"]}],directives:[{key:"mctContainer",implementation:v,depends:["containers[]"]},{key:"mctDrag",implementation:b,depends:["$document"]},{key:"mctClickElsewhere",implementation:w,depends:["$document"]},{key:"mctResize",implementation:S,depends:["$timeout"]},{key:"mctPopup",implementation:$,depends:["$compile","popupService"]},{key:"mctScrollX",implementation:C,depends:["$parse","MCT_SCROLL_X_PROPERTY","MCT_SCROLL_X_ATTRIBUTE"]},{key:"mctScrollY",implementation:C,depends:["$parse","MCT_SCROLL_Y_PROPERTY","MCT_SCROLL_Y_ATTRIBUTE"]},{key:"mctSplitPane",implementation:O,depends:["$parse","$log","$interval"]},{key:"mctSplitter",implementation:x},{key:"mctTree",implementation:T,depends:["$parse","gestureService"]}],constants:[{key:"MCT_SCROLL_X_PROPERTY",value:"scrollLeft"},{key:"MCT_SCROLL_X_ATTRIBUTE",value:"mctScrollX"},{key:"MCT_SCROLL_Y_PROPERTY",value:"scrollTop"},{key:"MCT_SCROLL_Y_ATTRIBUTE",value:"mctScrollY"},{key:"THEME",value:"unspecified",priority:"fallback"}],containers:[{key:"accordion",template:j,attributes:["label"]}],representations:[{key:"tree",template:D,uses:["composition"],type:"root",priority:"preferred"},{key:"tree",template:R},{key:"subtree",template:D,uses:["composition"]},{key:"tree-node",template:P,uses:["action"]},{key:"label",template:_,uses:["type","location"],gestures:["drag","menu","info"]},{key:"node",template:_,uses:["type"],gestures:["drag","menu"]},{key:"action-group",template:U,uses:["action"]},{key:"context-menu",template:W,uses:["action"]},{key:"switcher",template:F,uses:["view"]},{key:"object-inspector",template:V}],controls:[{key:"selector",template:Y},{key:"datetime-picker",template:q},{key:"datetime-field",template:B}],licenses:[{name:"Normalize.css",version:"1.1.2",description:"Browser style normalization",author:"Nicolas Gallagher, Jonathan Neal",website:"http://necolas.github.io/normalize.css/",copyright:"Copyright (c) Nicolas Gallagher and Jonathan Neal",license:"license-mit",link:"https://github.com/necolas/normalize.css/blob/v1.1.2/LICENSE.md"},{name:"Zepto",version:"1.1.6",description:"DOM manipulation",author:"Thomas Fuchs",website:"http://zeptojs.com/",copyright:"Copyright (c) 2010-2016 Thomas Fuchs",license:"license-mit",link:"https://github.com/madrobby/zepto/blob/master/MIT-LICENSE"}]}})}),define("platform/commonUI/inspect/src/gestures/InfoGesture",[],function(){"use strict";function e(e,t,n,i,r,o){var s=this;this.showBubbleCallback=function(e){s.showBubble(e)},this.hideBubbleCallback=function(e){s.hideBubble(e)},this.trackPositionCallback=function(e){s.trackPosition(e)},this.element=r,this.$timeout=e,this.infoService=n,this.delay=i,this.domainObject=o,t.isMobile()||r.on("mouseenter",this.showBubbleCallback)}return e.prototype.trackPosition=function(e){this.mousePosition=[e.clientX,e.clientY]},e.prototype.hideBubble=function(){this.dismissBubble&&(this.dismissBubble(),this.element.off("mouseleave",this.hideBubbleCallback),this.dismissBubble=void 0),this.pendingBubble&&(this.$timeout.cancel(this.pendingBubble),this.element.off("mousemove",this.trackPositionCallback),this.element.off("mouseleave",this.hideBubbleCallback),this.pendingBubble=void 0),this.mousePosition=void 0},e.prototype.showBubble=function(e){function t(){n.dismissBubble=n.infoService.display("info-table",n.domainObject.getModel().name,n.domainObject.useCapability("metadata"),n.mousePosition),n.element.off("mousemove",n.trackPositionCallback),n.pendingBubble=void 0}var n=this;this.trackPosition(e),this.pendingBubble||(this.element.on("mousemove",this.trackPositionCallback),this.pendingBubble=this.$timeout(t,this.delay),this.element.on("mouseleave",this.hideBubbleCallback));
},e.prototype.destroy=function(){this.hideBubble(),this.element.off("mouseenter",this.showBubbleCallback)},e}),define("platform/commonUI/inspect/src/gestures/InfoButtonGesture",[],function(){"use strict";function e(e,t,n,i,r){function o(e){l=[e.clientX-22,e.clientY]}function s(){c&&(c(),c=void 0),d.off("touchstart",s)}function a(e){o(e),e.stopPropagation(),c=n.display("info-table",r.getModel().name,r.useCapability("metadata"),l),d.on("touchstart",function(e){e.preventDefault(),s(),d.unbind("touchstart")})}var c,l,u,d=e.find("body");return t.isMobile()&&i.on("click",a),u=i.scope().$on("$destroy",s),{destroy:function(){s(),i.off("click",a),u()}}}return e}),define("platform/commonUI/inspect/src/InfoConstants",{BUBBLE_TEMPLATE:'<mct-container key="bubble" bubble-title="{{bubbleTitle}}" bubble-layout="{{bubbleLayout}}" class="bubble-container"><mct-include key="bubbleTemplate" ng-model="bubbleModel"></mct-include></mct-container>',BUBBLE_OPTIONS:{offsetX:0,offsetY:-26},BUBBLE_MOBILE_POSITION:[0,-25],BUBBLE_MARGIN_LR:10,BUBBLE_MAX_WIDTH:300}),define("platform/commonUI/inspect/src/services/InfoService",["../InfoConstants"],function(e){"use strict";function t(e,t,n,i){this.$compile=e,this.$rootScope=t,this.popupService=n,this.agentService=i}var n=e.BUBBLE_TEMPLATE,i=e.BUBBLE_MOBILE_POSITION,r=e.BUBBLE_OPTIONS;return t.prototype.display=function(t,o,s,a){var c,l,u,d=this.$compile,p=this.$rootScope,f=p.$new(),h=d("<span></span>")(f),m=e.BUBBLE_MARGIN_LR+e.BUBBLE_MAX_WIDTH;return c=Object.create(r),c.marginX=-m,this.agentService.isPhone(navigator.userAgent)&&(a=i,c={}),l=this.popupService.display(h,a,c),f.bubbleModel=s,f.bubbleTemplate=t,f.bubbleTitle=o,f.bubbleLayout=[l.goesUp()?"arw-btm":"arw-top",l.goesLeft()?"arw-right":"arw-left"].join(" "),u=d(n)(f),h.append(u),function(){l.dismiss(),f.$destroy()}},t}),define("text!platform/commonUI/inspect/res/info-table.html",[],function(){return'<table>\n    <tr ng-repeat="property in ngModel">\n        <td class="label">{{property.name}}</td>\n        <td title="{{property.value}}" class="value align-{{property.align}}">\n            {{property.value}}\n        </td>\n    </tr>\n</table>\n'}),define("text!platform/commonUI/inspect/res/info-bubble.html",[],function(){return'<mct-container\n	key="bubble"\n	bubble-title="{{parameters.title}}"\n	bubble-layout="{{parameters.layout}}"\n	>\n    <mct-include key="info-table"\n                 ng-model="ngModel">\n    </mct-include>\n</mct-container>\n'}),define("text!platform/commonUI/inspect/res/bubble.html",[],function(){return'    <div class="t-infobubble s-infobubble l-infobubble-wrapper {{bubble.bubbleLayout}}">\n        <div class="l-infobubble">\n            <div ng-show="bubble.bubbleTitle.length > 0"\n                 class="title">\n                {{bubble.bubbleTitle}}\n            </div>\n            <span ng-transclude></span>\n        </div>\n    </div>\n'}),define("text!platform/commonUI/inspect/res/templates/info-button.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n\n<!--The icon for the info button appearing in a grid item (list in folder)-->\n<a class=\'ui-symbol icon mobile-info\'>&#xe608;</a>\n'}),define("platform/commonUI/inspect/bundle",["./src/gestures/InfoGesture","./src/gestures/InfoButtonGesture","./src/services/InfoService","text!./res/info-table.html","text!./res/info-bubble.html","text!./res/bubble.html","text!./res/templates/info-button.html","legacyRegistry"],function(e,t,n,i,r,o,s,a){"use strict";a.register("platform/commonUI/inspect",{extensions:{templates:[{key:"info-table",template:i},{key:"info-bubble",template:r}],containers:[{key:"bubble",template:o,attributes:["bubbleTitle","bubbleLayout"],alias:"bubble"}],gestures:[{key:"info",implementation:e,depends:["$timeout","agentService","infoService","INFO_HOVER_DELAY"]},{key:"infobutton",implementation:t,depends:["$document","agentService","infoService"]}],services:[{key:"infoService",implementation:n,depends:["$compile","$rootScope","popupService","agentService"]}],constants:[{key:"INFO_HOVER_DELAY",value:2e3}],representations:[{key:"info-button",template:s,gestures:["infobutton"]}]}})}),define("platform/commonUI/mobile/src/DeviceMatchers",[],function(){"use strict";return{mobile:function(e){return e.isMobile()},phone:function(e){return e.isPhone()},tablet:function(e){return e.isTablet()},desktop:function(e){return!e.isMobile()},portrait:function(e){return e.isPortrait()},landscape:function(e){return e.isLandscape()},touch:function(e){return e.isTouch()}}}),define("platform/commonUI/mobile/src/MCTDevice",["./DeviceMatchers"],function(e){"use strict";function t(t){function n(n){return n=n||"",n.split(" ").every(function(n){var i=e[n];return i&&i(t)})}function i(e,t,i,r,o){n(i.mctDevice)&&o(function(e){t.replaceWith(e)})}return{link:i,transclude:"element",priority:601,terminal:!0,restrict:"A"}}return t}),define("platform/commonUI/mobile/src/AgentService",[],function(){"use strict";function e(e){var t=e.navigator.userAgent,n=t.match(/iPad|iPhone|Android/i)||[];this.userAgent=t,this.mobileName=n[0],this.$window=e,this.touchEnabled=void 0!==e.ontouchstart}return e.prototype.isMobile=function(){return!!this.mobileName},e.prototype.isPhone=function(){return"iPhone"===this.mobileName},e.prototype.isTablet=function(){return this.isMobile()&&!this.isPhone()},e.prototype.isPortrait=function(){return this.$window.innerWidth<this.$window.innerHeight},e.prototype.isLandscape=function(){return!this.isPortrait()},e.prototype.isTouch=function(){return this.touchEnabled},e.prototype.isBrowser=function(e){return e=e.toLowerCase(),-1!==this.userAgent.toLowerCase().indexOf(e)},e}),define("platform/commonUI/mobile/src/DeviceClassifier",["./DeviceMatchers"],function(e){"use strict";function t(t,n){var i=n.find("body");Object.keys(e).forEach(function(n){e[n](t)&&i.addClass(n)})}return t}),define("platform/commonUI/mobile/bundle",["./src/MCTDevice","./src/AgentService","./src/DeviceClassifier","legacyRegistry"],function(e,t,n,i){"use strict";i.register("platform/commonUI/mobile",{extensions:{directives:[{key:"mctDevice",implementation:e,depends:["agentService"]}],services:[{key:"agentService",implementation:t,depends:["$window"]}],runs:[{implementation:n,depends:["agentService","$document"]}]}})}),define("platform/commonUI/themes/espresso/bundle",["legacyRegistry"],function(e){"use strict";e.register("platform/commonUI/themes/espresso",{name:"Espresso",description:"Espresso theme: dark and rich",extensions:{stylesheets:[{stylesheetUrl:"css/theme-espresso.css",priority:1e3}],constants:[{key:"THEME",value:"espresso"}]}})}),define("platform/commonUI/notification/src/NotificationIndicatorController",[],function(){"use strict";function e(e,t,n){e.notifications=t.notifications,e.highest=t.highest,e.showNotificationsList=function(){n.getDialogResponse("overlay-message-list",{dialog:{title:"Messages",messages:t.notifications},cancel:function(){n.dismiss()}})}}return e}),define("platform/commonUI/notification/src/NotificationIndicator",[],function(){"use strict";function e(){}return e.template="notificationIndicatorTemplate",e}),define("platform/commonUI/notification/src/NotificationService",[],function(){"use strict";function e(e,t,n,i){this.notifications=[],this.$timeout=e,this.highest={severity:"info"},this.DEFAULT_AUTO_DISMISS=n,this.MINIMIZE_TIMEOUT=i,this.topic=t,this.active={}}return e.prototype.minimize=function(e,t){var n=e.notifications.indexOf(t);e.active.timeout&&(e.$timeout.cancel(e.active.timeout),delete e.active.timeout),n>=0&&(t.model.minimized=!0,e.$timeout(function(){e.setActiveNotification(e.selectNextNotification())},e.MINIMIZE_TIMEOUT))},e.prototype.dismiss=function(e,t){var n=e.notifications.indexOf(t);e.active.timeout&&(e.$timeout.cancel(e.active.timeout),delete e.active.timeout),n>=0&&e.notifications.splice(n,1),e.setActiveNotification(e.selectNextNotification()),this.setHighestSeverity()},e.prototype.dismissOrMinimize=function(e){e.minimize()},e.prototype.getActiveNotification=function(){return this.active.notification},e.prototype.info=function(e){var t="string"==typeof e?{title:e}:e;return t.autoDismiss=t.autoDismiss||!0,t.severity="info",this.notify(t)},e.prototype.alert=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="alert",this.notify(t)},e.prototype.error=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="error",this.notify(t)},e.prototype.setHighestSeverity=function(){var e={info:1,alert:2,error:3};this.highest.severity=this.notifications.reduce(function(t,n){return e[n.model.severity]>e[t]?n.model.severity:t},"info")},e.prototype.notify=function(e){var t,n=this,i=n.active.notification,r=this.topic();return t={model:e,minimize:function(){n.minimize(n,t)},dismiss:function(){n.dismiss(n,t),r.notify()},dismissOrMinimize:function(){n.dismissOrMinimize(t)},onDismiss:function(e){r.listen(e)}},e.severity=e.severity||"info",e.autoDismiss===!0&&(e.autoDismiss=this.DEFAULT_AUTO_DISMISS),e.dismissable!==!1&&(e.options=e.options||[],e.options.unshift({label:"Dismiss",callback:function(){t.dismiss()}})),this.notifications.push(t),this.setHighestSeverity(),this.active.notification?this.active.timeout||(this.active.timeout=this.$timeout(function(){i.dismissOrMinimize()},this.DEFAULT_AUTO_DISMISS)):this.setActiveNotification(t),t},e.prototype.setActiveNotification=function(e){var t;this.active.notification=e,e&&(e.model.autoDismiss||this.selectNextNotification())?(t=e.model.autoDismiss||this.DEFAULT_AUTO_DISMISS,this.active.timeout=this.$timeout(function(){e.dismissOrMinimize()},t)):delete this.active.timeout},e.prototype.selectNextNotification=function(){for(var e,t=0;t<this.notifications.length;t++)if(e=this.notifications[t],!e.model.minimized&&e!==this.active.notification)return e},e}),define("text!platform/commonUI/notification/res/notification-indicator.html",[],function(){return'<!-- DO NOT ADD SPACES BETWEEN THE SPANS - IT ADDS WHITE SPACE!! -->\n<span ng-show="notifications.length > 0" class="status block"\n      ng-class="highest.severity"\n      ng-controller="NotificationIndicatorController">\n    <span class="ui-symbol status-indicator">&#xe610;</span><span class="label">\n        <a ng-click="showNotificationsList()">{{notifications.length}}\n            Notifications</a>\n    </span><span class="count">{{notifications.length}}</span>\n</span>'}),define("platform/commonUI/notification/bundle",["./src/NotificationIndicatorController","./src/NotificationIndicator","./src/NotificationService","text!./res/notification-indicator.html","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("platform/commonUI/notification",{extensions:{constants:[{key:"DEFAULT_AUTO_DISMISS",value:3e3},{key:"FORCE_AUTO_DISMISS",value:1e3},{key:"MINIMIZE_TIMEOUT",value:300}],templates:[{key:"notificationIndicatorTemplate",template:i}],controllers:[{key:"NotificationIndicatorController",implementation:e,depends:["$scope","notificationService","dialogService"]}],indicators:[{implementation:t,priority:"fallback"}],services:[{key:"notificationService",implementation:n,depends:["$timeout","topic","DEFAULT_AUTO_DISMISS","MINIMIZE_TIMEOUT"]}]}})}),define("platform/containment/src/CapabilityTable",[],function(){"use strict";function e(e,t){function n(e){var t=Object.create(e.getInitialModel()||{});return t.type=e.getKey(),t}function i(e){return t.getCapabilities(n(e))}function r(e){var t=e.getKey();Object.keys(i(e)).forEach(function(e){o.table[e]=o.table[e]||{},o.table[e][t]=!0})}var o=this;this.table={},(e.listTypes()||[]).forEach(r)}return e.prototype.hasCapability=function(e,t){return(this.table[t]||{})[e]},e}),define("platform/containment/src/ContainmentTable",["./CapabilityTable"],function(e){"use strict";function t(t,i){function r(e,t){t=Array.isArray(t)?t:[t],c.forEach(function(n){var i=n.getKey();e[i]=t.map(function(e){return l.hasCapability(i,e)}).reduce(function(e,t){return e&&t},!0)})}function o(e,t){"string"==typeof t?e[t]=!0:r(e,(t||{}).has||[])}function s(e){var t=e.getKey(),i=e.getDefinition()||{},r=i.contains;void 0===r?a.table[t]=n:(a.table[t]={},r=Array.isArray(r)?r:[r],r.forEach(function(e){o(a.table[t],e)}))}var a=this,c=t.listTypes(),l=new e(t,i);this.table={},c.forEach(s)}var n=!0;return t.prototype.canContain=function(e,t){var i=this.table[e.getKey()]||{};return i===n||i[t.getKey()]},t}),define("platform/containment/src/CompositionPolicy",["./ContainmentTable"],function(e){"use strict";function t(t){var n;this.getTable=function(){return n=n||new e(t.get("typeService"),t.get("capabilityService"))}}return t.prototype.allow=function(e,t){return this.getTable().canContain(e,t)},t}),define("platform/containment/src/CompositionMutabilityPolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e){return e.hasFeature("creation")},e}),define("platform/containment/src/CompositionModelPolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e,t){return Array.isArray((e.getInitialModel()||{}).composition)},e}),define("platform/containment/src/ComposeActionPolicy",[],function(){"use strict";function e(e){this.getPolicyService=function(){return e.get("policyService")}}return e.prototype.allowComposition=function(e,t){var n=e&&e.getCapability("type"),i=t&&t.getCapability("type");return this.policyService=this.policyService||this.getPolicyService(),e.getId()!==t.getId()&&this.policyService.allow("composition",n,i)},e.prototype.allow=function(e,t){return"compose"===e.getMetadata().key?this.allowComposition((t||{}).domainObject,(t||{}).selectedObject):!0},e}),define("platform/containment/bundle",["./src/CompositionPolicy","./src/CompositionMutabilityPolicy","./src/CompositionModelPolicy","./src/ComposeActionPolicy","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("platform/containment",{extensions:{policies:[{category:"composition",implementation:e,depends:["$injector"],message:"Objects of this type cannot contain objects of that type."},{category:"composition",implementation:t,message:"Objects of this type cannot be modified."},{category:"composition",implementation:n,message:"Objects of this type cannot contain other objects."},{category:"action",implementation:i,depends:["$injector"],message:"Objects of this type cannot contain objects of that type."}]}})}),define("platform/execution/src/WorkerService",[],function(){"use strict";function e(e,t){function n(e){var t=e.key;i[t]||(i[t]=[e.bundle.path,e.bundle.sources,e.scriptUrl].join("/"),r[t]=e.shared)}var i={},r={};(t||[]).forEach(n),this.workerUrls=i,this.sharedWorkers=r,this.Worker=e.Worker,this.SharedWorker=e.SharedWorker}return e.prototype.run=function(e){var t=this.workerUrls[e],n=this.sharedWorkers[e]?this.SharedWorker:this.Worker;return t&&n&&new n(t)},e}),define("platform/execution/bundle",["./src/WorkerService","legacyRegistry"],function(e,t){"use strict";t.register("platform/execution",{extensions:{services:[{key:"workerService",implementation:e,depends:["$window","workers[]"]}]}})}),!function(e,t){"function"==typeof define&&define.amd?define("csv",[],t):"object"==typeof module&&module.exports?module.exports=t():e.CSV=t()}(this,function(){"use strict";function e(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function t(e){return"string"==typeof e}function n(e){return!isNaN(+e)}function i(e){return 0==e||1==e}function r(e){return null==e}function o(e){return null!=e}function s(e,t){return o(e)?e:t}function a(e,t){for(var n=0,i=e.length;i>n&&t(e[n],n)!==!1;n+=1);}function c(e){return e.replace(/"/g,'\\"')}function l(e){return"attrs["+e+"]"}function u(e,t){return n(e)?"Number("+l(t)+")":i(e)?"Boolean("+l(t)+" == true)":"String("+l(t)+")"}function d(e,n,i,r){var o=[];return 3==arguments.length?(n?g(n)?a(i,function(i,r){t(n[r])?n[r]=n[r].toLowerCase():e[n[r]]=n[r],o.push("deserialize[cast["+r+"]]("+l(r)+")")}):a(i,function(e,t){o.push(u(e,t))}):a(i,function(e,t){o.push(l(t))}),o="return ["+o.join(",")+"]"):(n?g(n)?a(i,function(i,s){t(n[s])?n[s]=n[s].toLowerCase():e[n[s]]=n[s],o.push('"'+c(r[s])+'": deserialize[cast['+s+"]]("+l(s)+")")}):a(i,function(e,t){o.push('"'+c(r[t])+'": '+u(e,t))}):a(i,function(e,t){o.push('"'+c(r[t])+'": '+l(t))}),o="return {"+o.join(",")+"}"),Function("attrs","deserialize","cast",o)}function p(e,t){var n,i=0;return a(t,function(t){var r,o=t;-1!=f.indexOf(t)&&(o="\\"+o),r=e.match(RegExp(o,"g")),r&&r.length>i&&(i=r.length,n=t)}),n||t[0]}var f=["|","^"],h=[",",";","  ","|","^"],m=["\r\n","\r","\n"],g=Array.isArray||function(e){return"[object Array]"===toString.call(e)},y=function(){function n(e,n){if(n||(n={}),g(e))this.mode="encode";else{if(!t(e))throw Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:s(n.header,!1),cast:s(n.cast,!0)};var i=n.lineDelimiter||n.line,r=n.cellDelimiter||n.delimiter;this.isParser()?(this.options.lineDelimiter=i||p(this.data,m),this.options.cellDelimiter=r||p(this.data,h),this.data=o(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=i||"\r\n",this.options.cellDelimiter=r||",")}function i(e,t,n,i,r){e(new t(n,i,r))}function o(e,t){return e.slice(-t.length)!=t&&(e+=t),e}function c(n){return g(n)?"array":e(n)?"object":t(n)?"string":r(n)?"null":"primitive"}return n.prototype.set=function(e,t){return this.options[e]=t},n.prototype.isParser=function(){return"parse"==this.mode},n.prototype.isEncoder=function(){return"encode"==this.mode},n.prototype.parse=function(e){function t(){c={escaped:!1,quote:!1,cell:!0}}function n(){m.cell=""}function r(){m.line=[]}function o(e){m.line.push(c.escaped?e.slice(1,-1).replace(/""/g,'"'):e),n(),t()}function s(e){o(e.slice(0,1-f.lineDelimiter.length))}function a(){h?g(h)?(l=d(y,f.cast,m.line,h),(a=function(){i(e,l,m.line,y,f.cast)})()):h=m.line:(l||(l=d(y,f.cast,m.line)),(a=function(){i(e,l,m.line,y,f.cast)})())}if("parse"==this.mode){if(0===this.data.trim().length)return[];var c,l,u,p=this.data,f=this.options,h=f.header,m={cell:"",line:[]},y=this.deserialize;e||(u=[],e=function(e){u.push(e)}),1==f.lineDelimiter.length&&(s=o);var v,b,w,S=p.length,$=f.cellDelimiter.charCodeAt(0),C=f.lineDelimiter.charCodeAt(f.lineDelimiter.length-1);for(t(),v=0,b=0;S>v;v++)w=p.charCodeAt(v),c.cell&&(c.cell=!1,34==w)?c.escaped=!0:c.escaped&&34==w?c.quote=!c.quote:(c.escaped&&c.quote||!c.escaped)&&(w==$?(o(m.cell+p.slice(b,v)),b=v+1):w==C&&(s(m.cell+p.slice(b,v)),b=v+1,(m.line.length>1||""!==m.line[0])&&a(),r()));return u?u:this}},n.prototype.deserialize={string:function(e){return e+""},number:function(e){return+e},"boolean":function(e){return!!e}},n.prototype.serialize={object:function(e){var t=this,n=Object.keys(e),i=Array(n.length);return a(n,function(n,r){i[r]=t[c(e[n])](e[n])}),i},array:function(e){var t=this,n=Array(e.length);return a(e,function(e,i){n[i]=t[c(e)](e)}),n},string:function(e){return'"'+(e+"").replace(/"/g,'""')+'"'},"null":function(){return""},primitive:function(e){return e}},n.prototype.encode=function(e){function n(e){return e.join(s.cellDelimiter)}if("encode"==this.mode){if(0==this.data.length)return"";var i,r,o=this.data,s=this.options,l=s.header,u=o[0],d=this.serialize,p=0;e||(r=Array(o.length),e=function(e,t){r[t+p]=e}),l&&(g(l)||(i=Object.keys(u),l=i),e(n(d.array(l)),0),p=1);var f,h=c(u);return"array"==h?(g(s.cast)?(f=Array(s.cast.length),a(s.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,d[e]=e)})):(f=Array(u.length),a(u,function(e,t){f[t]=c(e)})),a(o,function(t,i){var r=Array(f.length);a(t,function(e,t){r[t]=d[f[t]](e)}),e(n(r),i)})):"object"==h&&(i=Object.keys(u),g(s.cast)?(f=Array(s.cast.length),a(s.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,d[e]=e)})):(f=Array(i.length),a(i,function(e,t){f[t]=c(u[e])})),a(o,function(t,r){var o=Array(i.length);a(i,function(e,n){o[n]=d[f[n]](t[e])}),e(n(o),r)})),r?r.join(s.lineDelimiter):this}},n.prototype.forEach=function(e){return this[this.mode](e)},n}();return y.parse=function(e,t){return new y(e,t).parse()},y.encode=function(e,t){return new y(e,t).encode()},y.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new y(e,t).forEach(n)},y}),define("platform/exporters/ExportService",["csv"],function(e){function t(e){this.saveAs=e}return t.prototype.exportCSV=function(t,n){var i=n&&n.headers||Object.keys(t[0]||{}).sort(),r=n&&n.filename||"export.csv",o=new e(t,{header:i}).encode(),s=new Blob([o],{type:"text/csv"});this.saveAs(s,r)},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("saveAs",[],function(){return t(e)}):e.saveAs=e.saveAs||t(e)}(this,function(e,t){"use strict";function n(t,n){return e.navigator.msSaveOrOpenBlob(l(t),n)}function i(e,t){return new r(e,t)}function r(e,n){function i(){S=u().createObjectURL(e),m.href=S,m.download=n,$(function(){f(),s(O),d(S),O.readyState=O.DONE},0)}function r(){if(h.chrome&&x&&x!==b){var t=e.slice||e.webkitSlice;e=t.call(e,0,e.size,b),T=!0}}function o(){y&&"download"!==n&&(n+=".download"),(x===b||y)&&(C=h)}function p(){(T||!S)&&(S=u().createObjectURL(e)),w(S)}function w(e,n,i){if(C)C.location.href=e;else{var r=h.open(e,"_blank");r===t&&(h.location.href=e)}O.readyState=O.DONE,i?a(O,"writeend",i):s(O),d(n||e)}this.blob=e=l(e),this.saveUsingObjectURLs=p,this.execSave=w;var S,C,O=this,x=e.type,T=!1;return O.readyState=O.INIT,n=n||"download",g?i():(r(),o(),v?c(O):p())}function o(){var e=this;e.readyState=e.DONE,a(e,"abort")}function s(e){a(e,"writestart progress write writeend".split(" "))}function a(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){p(o)}}}function c(e){function t(t){t.root.getDirectory("temp",r,i(n),e.saveUsingObjectURLs)}function n(t){function n(e){e.remove(function(){s()})}function o(t){"NotFoundError"===t.name?s():e.saveUsingObjectURLs()}function s(){t.getFile(name,r,i(a),e.saveUsingObjectURLs)}function a(t){function n(n){function i(n){e.execSave(t.toURL(),t,n)}function r(){var t=n.error;t.code!==t.ABORT_ERR&&e.saveUsingObjectURLs()}function o(){"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=e["on"+t]})}function s(){n.abort(),e.readyState=e.DONE}n.onwriteend=i,n.onerror=r,o(),n.write(blob),e.abort=s,e.readyState=e.WRITING}t.createWriter(i(n),e.saveUsingObjectURLs)}t.getFile(name,{create:!1},i(n),i(o))}function i(t){return function(){return e.readyState!==e.DONE?t.apply(this,arguments):void 0}}w+=e.blob.size;var r={create:!0,exclusive:!1};v(h.TEMPORARY,w,i(t),e.saveUsingObjectURLs)}function l(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function u(){return h.URL||h.webkitURL||h}function d(e){function t(){"string"==typeof e?u().revokeObjectURL(e):e.remove(function(){})}setTimeout(t,S)}function p(e){$(function(){throw e},0)}function f(){var e=new MouseEvent("click");m.dispatchEvent(e)}if(e.navigator!==t){if(/MSIE [1-9]\./.test(e.navigator.userAgent))return;if(e.navigator.msSaveOrOpenBlob)return n}var h=e.self||e.window||e.content,m=h.document.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in m,y=h.webkitRequestFileSystem,v=h.requestFileSystem||y||h.mozRequestFileSystem,b="application/octet-stream",w=0,S=500,$=h.setImmediate||h.setTimeout,C=r.prototype;return C.abort=o,C.INIT=0,C.WRITING=1,C.DONE=2,C.readyState=C.INIT,C.error=null,C.onwritestart=null,C.onprogress=null,C.onwrite=null,C.onabort=null,C.onerror=null,C.onwriteend=null,i}),define("platform/exporters/bundle",["./ExportService","saveAs","legacyRegistry"],function(e,t,n){"use strict";n.register("platform/exporters",{extensions:{services:[{key:"exportService",implementation:function(){return new e(t)}}],licenses:[{name:"CSV.js",version:"3.6.4",author:"Kash Nouroozi",description:"Encoder for CSV (comma separated values) export",website:"https://github.com/knrz/CSV.js",copyright:"Copyright (c) 2014 Kash Nouroozi",license:"license-mit",link:"https://github.com/knrz/CSV.js/blob/3.6.4/LICENSE"},{name:"FileSaver.js",version:"0.0.2",author:"Eli Grey",description:"File download initiator (for file exports)",website:"https://github.com/eligrey/FileSaver.js/",copyright:"Copyright © 2015 Eli Grey.",license:"license-mit",link:"https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md"}]}})}),define("platform/telemetry/src/TelemetryAggregator",[],function(){"use strict";function e(e,t){this.$q=e,this.telemetryProviders=t}function t(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}return e.prototype.requestTelemetry=function(e){return this.$q.all(this.telemetryProviders.map(function(t){return t.requestTelemetry(e)})).then(t)},e.prototype.subscribe=function(e,t){var n=this.telemetryProviders.map(function(n){return n.subscribe(e,t)});return function(){n.forEach(function(e){e&&e()})}},e}),define("platform/telemetry/src/TelemetryController",[],function(){"use strict";function e(e,t,n,i){function r(){m.broadcasting||(m.broadcasting=!0,n(function(){m.broadcasting=!1,e.$broadcast("telemetryUpdate")}))}function o(e,n){function o(e){m.pending-=n?1:0,s.data=e,r()}var s=m.response[e],a=s.domainObject,c=a.getCapability("telemetry");return m.pending+=n?1:0,c?t.when(c.requestData(m.request)).then(o):(i.warn(["Expected telemetry capability for ",e," but found none. Cannot request data."].join("")),void(m.pending-=n?1:0))}function s(e){return t.all(m.ids.map(function(t){return o(t,e)}))}function a(e,t){return e.subscribe(function(){o(t,!1)})}function c(){m.subscriptions.forEach(function(e){return e&&e()}),m.subscriptions=[]}function l(e){return e?t.when(e.useCapability("delegation","telemetry")).then(function(t){var n=e.hasCapability("telemetry")?[e]:[],i=t||[];return n.concat(i)}):t.when([])}function u(e){var t,n,r=e&&e.getCapability("telemetry");r?(t=e.getId(),m.subscriptions.push(a(r,t)),n=r.getMetadata(),m.response[t]={name:e.getModel().name,domainObject:e,metadata:n,pending:0,data:{}}):(i.warn(["Expected telemetry capability for ",e.getId()," but none was found."].join("")),m.response[e.getId()]={name:e.getModel().name,domainObject:e,metadata:{},pending:0,data:{}})}function d(e){c(),e.forEach(u),m.telemetryObjects=e,m.ids=e.map(function(e){return e.getId()}),m.metadatas=m.ids.map(function(e){return m.response[e].metadata}),m.request&&s(!0)}function p(e){c(),l(e).then(d)}function f(){m.refreshing||void 0===m.interval||(m.refreshing=!0,n(function(){m.request&&s(!1),m.refreshing=!1,m.active&&f()},m.interval))}function h(){c(),m.active=!1}var m={ids:[],response:{},request:{},pending:0,metadatas:[],interval:1e3,refreshing:!1,broadcasting:!1,subscriptions:[],telemetryObjects:[],active:!0};return e.$watch("domainObject",p),e.$on("$destroy",h),f(),{getMetadata:function(){return m.metadatas},getTelemetryObjects:function(){return m.telemetryObjects},getResponse:function g(e){var t=e&&("string"==typeof e?e:e.getId());return t?(m.response[t]||{}).data:(m.ids||[]).map(g)},isRequestPending:function(){return m.pending>0},requestData:function(e){return m.request=e||{},s(!0)},setRefreshInterval:function(e){m.interval=e,f()}}}return e}),define("platform/telemetry/src/TelemetryCapability",[],function(){"use strict";function e(e,t,n,i){this.initializeTelemetryService=function(){try{return this.telemetryService=e.get("telemetryService")}catch(t){return n.warn("Telemetry service unavailable"),this.telemetryService=null}},this.$q=t,this.$log=n,this.domainObject=i}var t=function(){return 0},n={getPointCount:t,getDomainValue:t,getRangeValue:t};return e.prototype.buildRequest=function(e){var t=this.domainObject,n=t.getCapability("type"),i=n&&n.getDefinition().telemetry||{},r=t.getModel().telemetry,o=Object.create(i);return Object.keys(r).forEach(function(e){o[e]=r[e]}),Object.keys(e).forEach(function(t){o[t]=e[t]}),o.id||(o.id=t.getId()),o.key||(o.key=t.getId()),o},e.prototype.requestData=function(e){function t(e){return((e||{})[o]||{})[s]||n}function i(){return a.requestTelemetry([r])}var r=this.buildRequest(e||{}),o=r.source,s=r.key,a=this.telemetryService||this.initializeTelemetryService();return a&&i().then(t)},e.prototype.getMetadata=function(){return this.metadata=this.metadata||this.buildRequest({})},e.prototype.subscribe=function(e,t){function n(t){var n=i.source,r=i.key,o=((t||{})[n]||{})[r];o&&e(o)}var i=this.buildRequest(t||{}),r=this.telemetryService||this.initializeTelemetryService();return r&&r.subscribe(n,[i])},e.appliesTo=function(e){return e&&e.telemetry?!0:!1},e}),define("platform/telemetry/src/TelemetryFormatter",[],function(){"use strict";function e(e,t){this.formatService=e,this.defaultFormat=e.getFormat(t)}return e.prototype.formatDomainValue=function(e,t){var n=void 0===t?this.defaultFormat:this.formatService.getFormat(t);return isNaN(e)?"":n.format(e)},e.prototype.formatRangeValue=function(e,t){return String(e)},e}),define("platform/telemetry/src/TelemetryQueue",[],function(){"use strict";function e(){this.queue=[],this.counts={}}return e.prototype.isEmpty=function(){return this.queue.length<1},e.prototype.poll=function(){function e(e){t[e]<2?delete t[e]:t[e]-=1}var t=this.counts;return Object.keys(t).forEach(e),this.queue.shift()},e.prototype.put=function(e,t){function n(e){var t,n=r[e]||0;return r[e]=n+1,n<i.length?i[n]:(t={},i.push(t),t)}var i=this.queue,r=this.counts;n(e)[e]=t},e}),define("platform/telemetry/src/TelemetryTable",[],function(){"use strict";function e(){}return e.prototype.isEmpty=function(){return!this.table},e.prototype.poll=function(){var e=this.table;return this.table=void 0,e},e.prototype.put=function(e,t){this.table=this.table||{},this.table[e]=t},e}),define("platform/telemetry/src/TelemetryDelegator",[],function(){"use strict";function e(e){this.$q=e}return e.prototype.promiseTelemetryObjects=function(e){var t=this.$q;return e?t.when(e.useCapability("delegation","telemetry")).then(function(t){var n=e.hasCapability("telemetry")?[e]:[],i=t||[];return n.concat(i)}):t.when([])},e}),define("platform/telemetry/src/TelemetrySubscription",["./TelemetryQueue","./TelemetryTable","./TelemetryDelegator"],function(e,t,n){"use strict";function i(i,r,o,s,a){function c(e){return $.promiseTelemetryObjects(e)}function l(){var e=C.poll();Object.keys(e).forEach(function(t){S.latestValues[t]=e[t]})}function u(){for(;!C.isEmpty();)l(),s&&s();w=!1}function d(e){var t=e.getCapability("telemetry");return t&&t.getMetadata()}function p(e,t){var n=t&&t.getPointCount();!w&&n&&(w=!0,r(u,0)),n>0&&C.put(e.getId(),{domain:t.getDomainValue(n-1),range:t.getRangeValue(n-1),datum:S.makeDatum(e,t,n-1)})}function f(e){var t=e.getCapability("telemetry");return t.subscribe(function(t){p(e,t)})}function h(e){return e.map(f)}function m(e){return S.telemetryObjects=e,S.metadatas=e.map(d),S.metadataById={},e.forEach(function(e,t){S.metadataById[e.getId()]=S.metadatas[t]}),s&&s(),e}function g(){S.telemetryObjectPromise=c(o),S.unsubscribePromise=S.telemetryObjectPromise.then(m).then(h)}function y(e){return e.length===S.telemetryObjects.length&&e.every(function(e,t){return S.telemetryObjects[t].getId()===e})}function v(e){y((e||{}).composition||[])||S.unsubscribeAll().then(g);
}function b(){var e=o&&o.getCapability("mutation");return e?e.listen(v):void 0}var w,S=this,$=new n(i),C=a?new e:new t;this.$q=i,this.latestValues={},this.telemetryObjects=[],this.metadatas=[],g(),this.unlistenToMutation=b()}return i.prototype.makeDatum=function(e,t,n){var i=e&&e.getId(),r=i&&this.metadataById[i]||{},o={};return(r.domains||[]).forEach(function(e){o[e.key]=t.getDomainValue(n,e.key)}),(r.ranges||[]).forEach(function(e){o[e.key]=t.getRangeValue(n,e.key)}),o},i.prototype.unsubscribeAll=function(){var e=this.$q;return this.unsubscribePromise.then(function(t){return e.all(t.map(function(e){return e()}))})},i.prototype.unsubscribe=function(){return this.unlistenToMutation&&this.unlistenToMutation(),this.unsubscribeAll()},i.prototype.getDomainValue=function(e,t){var n=e.getId(),i=this.latestValues[n];return i&&(t?i.datum[t]:i.domain)},i.prototype.getRangeValue=function(e,t){var n=e.getId(),i=this.latestValues[n];return i&&(t?i.datum[t]:i.range)},i.prototype.getDatum=function(e){var t=e.getId();return(this.latestValues[t]||{}).datum},i.prototype.getTelemetryObjects=function(){return this.telemetryObjects},i.prototype.getMetadata=function(){return this.metadatas},i.prototype.promiseTelemetryObjects=function(){return this.telemetryObjectPromise},i}),define("platform/telemetry/src/TelemetrySubscriber",["./TelemetrySubscription"],function(e){"use strict";function t(e,t){this.$q=e,this.$timeout=t}return t.prototype.subscribe=function(t,n,i){return new e(this.$q,this.$timeout,t,n,i)},t}),define("platform/telemetry/src/TelemetryHandle",[],function(){"use strict";function e(e,t){function n(e,t,n){function o(t){return i[s]=t,n&&r&&n(e,t),t}var s=e.getId(),a=e.getCapability("telemetry");return a.requestData(t).then(o)}var i={},r=!0,o=Object.create(t);return o.unsubscribe=function(){return r=!1,t.unsubscribe()},o.getSeries=function(e){var t=e.getId();return i[t]},o.request=function(i,r){function o(e){return n(e,i,r)}function s(t){return e.all(t.map(o))}return i="number"==typeof i?{duration:i}:i,t.promiseTelemetryObjects().then(s)},o.getDatum=function(e,n){function i(i){return i?t.makeDatum(e,i,n):void 0}return"number"!=typeof n?t.getDatum(e):i(this.getSeries(e))},o}return e}),define("platform/telemetry/src/TelemetryHandler",["./TelemetryHandle"],function(e){"use strict";function t(e,t){this.$q=e,this.telemetrySubscriber=t}return t.prototype.handle=function(t,n,i){var r=this.telemetrySubscriber.subscribe(t,n,i);return new e(this.$q,r)},t}),define("platform/telemetry/bundle",["./src/TelemetryAggregator","./src/TelemetryController","./src/TelemetryCapability","./src/TelemetryFormatter","./src/TelemetrySubscriber","./src/TelemetryHandler","legacyRegistry"],function(e,t,n,i,r,o,s){"use strict";s.register("platform/telemetry",{name:"Data bundle",description:"Interfaces and infrastructure for real-time and historical data",configuration:{paths:{moment:"moment.min"},shim:{moment:{exports:"moment"}}},extensions:{components:[{provides:"telemetryService",type:"aggregator",implementation:e,depends:["$q"]}],controllers:[{key:"TelemetryController",implementation:t,depends:["$scope","$q","$timeout","$log"]}],capabilities:[{key:"telemetry",implementation:n,depends:["$injector","$q","$log"]}],services:[{key:"telemetryFormatter",implementation:i,depends:["formatService","DEFAULT_TIME_FORMAT"]},{key:"telemetrySubscriber",implementation:r,depends:["$q","$timeout"]},{key:"telemetryHandler",implementation:o,depends:["$q","telemetrySubscriber"]}],licenses:[{name:"Moment.js",version:"2.11.1",author:"Tim Wood, Iskren Chernev, Moment.js contributors",description:"Time/date parsing/formatting",website:"http://momentjs.com",copyright:"Copyright (c) 2011-2014 Tim Wood, Iskren Chernev, Moment.js contributors",license:"license-mit",link:"https://raw.githubusercontent.com/moment/moment/develop/LICENSE"}]}})}),define("platform/features/clock/src/indicators/ClockIndicator",["moment"],function(e){"use strict";function t(t,n){var i=this;this.text="",t.listen(function(t){i.text=e.utc(t).format(n)+" UTC"})}return t.prototype.getGlyph=function(){return"C"},t.prototype.getGlyphClass=function(){return"no-icon no-collapse float-right subtle"},t.prototype.getText=function(){return this.text},t.prototype.getDescription=function(){return""},t}),define("platform/features/clock/src/services/TickerService",["moment"],function(e){"use strict";function t(e,t){function n(){var r=t(),o=r%1e3;r>=i.last+1e3&&(i.callbacks.forEach(function(e){e(r)}),i.last=r-o),e(n,1e3-o,!0)}var i=this;n(),this.callbacks=[],this.last=t()-1e3}return t.prototype.listen=function(e){var t=this;return t.callbacks.push(e),e(this.last),function(){t.callbacks=t.callbacks.filter(function(t){return t!==e})}},t}),define("platform/features/clock/src/controllers/ClockController",["moment"],function(e){"use strict";function t(t,n){function i(){var t=e.utc(s);l.textValue=c&&t.format(c),l.ampmValue=t.format("A")}function r(e){s=e,i()}function o(e){var t;void 0!==e&&(t=e[0],l.use24="clock24"===e[1],c=l.use24?t.replace("hh","HH"):t,i())}var s,a,c,l=this;t.$watch("model.clockFormat",o),a=n.listen(r),t.$on("$destroy",a)}return t.prototype.zone=function(){return"UTC"},t.prototype.text=function(){return this.textValue},t.prototype.ampm=function(){return this.use24?"":this.ampmValue},t}),function(e){define("moment-duration-format",["moment"],function(){return function(){!function(e,t){function n(e){var t="";if(e=parseInt(e,10),!e||1>e)return t;for(;e;)t+="0",e-=1;return t}function i(e,t,i){return null==e&&(e=""),e=""+e,(i?e:"")+n(t-e.length)+(i?"":e)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function a(e,t){var n,i=0,r=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r>i;){if(t(e[i]))return e[i];i+=1}}function c(e,t){var n=0,i=e.length;if(e&&i)for(;i>n;){if(t(e[n],n)===!1)return;n+=1}}function l(e,t){var n=0,i=e.length,r=[];if(!e||!i)return r;for(;i>n;)r[n]=t(e[n],n),n+=1;return r}function u(e,t){return l(e,function(e){return e[t]})}function d(e){var t=[];return c(e,function(e){e&&t.push(e)}),t}function p(e){var t=[];return c(e,function(e){a(t,e)||t.push(e)}),t}function f(e,t){var n=[];return c(e,function(e){c(t,function(t){e===t&&n.push(e)})}),p(n)}function h(e,t){var n=[];return c(e,function(i,r){return t(i)?void 0:(n=e.slice(r),!1)}),n}function m(e,t){var n=e.slice().reverse();return h(n,t).reverse()}function g(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var y;if("function"==typeof require)try{y=require("moment")}catch(v){}if(!y&&e.moment&&(y=e.moment),!y)throw"Moment Duration Format cannot find Moment.js";y.duration.fn.format=function(){var e,t,s,v,b,w,S=[].slice.call(arguments),$=g({},this.format.defaults),C=y.duration(this);return $.duration=this,c(S,function(e){return"string"==typeof e||"function"==typeof e?void($.template=e):"number"==typeof e?void($.precision=e):void(o(e)&&g($,e))}),s=$.types=r($.types)?$.types:$.types.split(" "),"function"==typeof $.template&&($.template=$.template.apply($)),e=new RegExp(l(s,function(e){return $[e].source}).join("|"),"g"),v=function(e){return a(s,function(t){return $[t].test(e)})},t=l($.template.match(e),function(e,t){var n=v(e),i=e.length;return{index:t,length:i,token:"escape"===n?e.replace($.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),b=f(s,p(d(u(t,"type")))),b.length?(c(b,function(e,n){var i,r,o,s,a;i=C.as(e),r=i>0?Math.floor(i):Math.ceil(i),o=i-r,s=n+1===b.length,a=!n,c(t,function(t){t.type===e&&(g(t,{value:i,wholeValue:r,decimalValue:o,isLeast:s,isMost:a}),a&&null==$.forceLength&&t.length>1&&($.forceLength=!0))}),C.subtract(r,e)}),$.trim&&(t=("left"===$.trim?h:m)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),w=!1,"right"===$.trim&&t.reverse(),t=l(t,function(e){var t,r;if(!e.type)return e.token;if(t=e.isLeast&&$.precision<0?(Math.floor(e.wholeValue*Math.pow(10,$.precision))*Math.pow(10,-$.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(w||e.isMost||$.forceLength)&&(t=i(t,e.length)),e.isLeast&&$.precision>0)switch(r=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),r.length){case 1:t+="."+i(r[0],$.precision,!0).slice(0,$.precision);break;case 2:t+="."+i(r[1],$.precision,!0).slice(0,$.precision);break;case 3:t+="."+i(n(+r[2]-1)+(r[0]||"0")+r[1],$.precision,!0).slice(0,$.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),w=!0,t}),"right"===$.trim&&t.reverse(),t.join("")):u(t,"token").join("")},y.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=s(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)}.apply(e,arguments)})}(this),define("platform/features/clock/src/controllers/TimerFormatter",["moment","moment-duration-format"],function(e){"use strict";function t(){}function n(e){return Math.abs(1e3*Math.floor(e/1e3))}var i="HH:mm:ss",r="d[D] HH:mm:ss";return t.prototype["short"]=function(t){return e.duration(n(t),"ms").format(i,{trim:!1})},t.prototype["long"]=function(t){return e.duration(n(t),"ms").format(r,{trim:!1})},t}),define("platform/features/clock/src/controllers/TimerController",["./TimerFormatter"],function(e){"use strict";function t(e,t,i){function r(){var e=f-p;d&&!isNaN(e)?(m.textValue=d(e),m.signValue=0>e?"-":e>=1e3?"+":""):(m.textValue="",m.signValue="")}function o(e){d=n[e]||n["long"]}function s(e){p=e}function a(e){var t=e.getModel(),n=t.timestamp,i=t.timerFormat,a=e.getCapability("action"),c=void 0===n?"timer.start":"timer.restart";o(i),s(n),m.relevantAction=a&&a.getActions(c)[0],r()}function c(e){e&&a(e)}function l(){c(e.domainObject)}function u(){var n=m.signValue,o=m.textValue;f=i(),r(),(n!==m.signValue||o!==m.textValue)&&e.$apply(),h&&t.requestAnimationFrame(u)}var d,p,f,h=!0,m=this;t.requestAnimationFrame(u),e.$watch("domainObject",c),e.$watch("model.modified",l),e.$on("$destroy",function(){h=!1}),this.$scope=e,this.signValue="",this.textValue="",this.updateObject=a}var n=new e;return t.prototype.buttonGlyph=function(){return this.relevantAction?this.relevantAction.getMetadata().glyph:""},t.prototype.buttonText=function(){return this.relevantAction?this.relevantAction.getMetadata().name:""},t.prototype.clickButton=function(){this.relevantAction&&(this.relevantAction.perform(),this.updateObject(this.$scope.domainObject))},t.prototype.sign=function(){return this.signValue},t.prototype.text=function(){return this.textValue},t}),define("platform/features/clock/src/controllers/RefreshingController",[],function(){"use strict";function e(e,t){function n(){var t=e.domainObject&&e.domainObject.getCapability("persistence");return t&&t.refresh()}var i;i=t.listen(n),e.$on("$destroy",i)}return e}),define("platform/features/clock/src/actions/AbstractStartTimerAction",[],function(){"use strict";function e(e,t){this.domainObject=t.domainObject,this.now=e}return e.prototype.perform=function(){function e(){var e=n.getCapability("persistence");return e&&e.persist()}function t(e){e.timestamp=i()}var n=this.domainObject,i=this.now;return n.useCapability("mutation",t).then(e)},e}),define("platform/features/clock/src/actions/StartTimerAction",["./AbstractStartTimerAction"],function(e){"use strict";function t(t,n){e.apply(this,[t,n])}return t.prototype=Object.create(e.prototype),t.appliesTo=function(e){var t=e.domainObject&&e.domainObject.getModel()||{};return"timer"===t.type&&void 0===t.timestamp},t}),define("platform/features/clock/src/actions/RestartTimerAction",["./AbstractStartTimerAction"],function(e){"use strict";function t(t,n){e.apply(this,[t,n])}return t.prototype=Object.create(e.prototype),t.appliesTo=function(e){var t=e.domainObject&&e.domainObject.getModel()||{};return"timer"===t.type&&void 0!==t.timestamp},t}),define("text!platform/features/clock/res/templates/clock.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-time-display l-digital l-clock s-clock" ng-controller="ClockController as clock">\n	<div class="l-elem-wrapper">\n	    <span class="l-elem timezone">\n	        {{clock.zone()}}\n	    </span>\n	    <span class="l-elem value active">\n	        {{clock.text()}}\n	    </span>\n	    <span class="l-elem ampm">\n	        {{clock.ampm()}}\n	    </span>\n	</div>\n</div>'}),define("text!platform/features/clock/res/templates/timer.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-time-display l-digital l-timer s-timer" ng-controller="TimerController as timer">\n	<div class="l-elem-wrapper l-flex-row">\n		<a\n			ng-click="timer.clickButton()"\n			title="{{timer.buttonText()}}"\n			class="flex-elem s-icon-btn control"\n			>\n			{{timer.buttonGlyph()}}\n		</a>\n	    <span class="flex-elem l-value">\n		    <span class="ui-symbol direction">{{timer.sign()}}</span>\n	        <span\n		        class="value"\n		        ng-class="{ active:timer.text() }"\n		        >{{timer.text() || "--:--:--"}}\n		        </span>\n	    </span>\n	    <span ng-controller="RefreshingController"></span>\n	</div>\n</div>'}),define("platform/features/clock/bundle",["./src/indicators/ClockIndicator","./src/services/TickerService","./src/controllers/ClockController","./src/controllers/TimerController","./src/controllers/RefreshingController","./src/actions/StartTimerAction","./src/actions/RestartTimerAction","text!./res/templates/clock.html","text!./res/templates/timer.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l){"use strict";l.register("platform/features/clock",{name:"Clocks/Timers",descriptions:"Domain objects for displaying current & relative times.",configuration:{paths:{"moment-duration-format":"moment-duration-format"},shim:{"moment-duration-format":{deps:["moment"]}}},extensions:{constants:[{key:"CLOCK_INDICATOR_FORMAT",value:"YYYY/MM/DD HH:mm:ss"}],indicators:[{implementation:e,depends:["tickerService","CLOCK_INDICATOR_FORMAT"],priority:"preferred"}],services:[{key:"tickerService",implementation:t,depends:["$timeout","now"]}],controllers:[{key:"ClockController",implementation:n,depends:["$scope","tickerService"]},{key:"TimerController",implementation:i,depends:["$scope","$window","now"]},{key:"RefreshingController",implementation:r,depends:["$scope","tickerService"]}],views:[{key:"clock",type:"clock",editable:!1,template:a},{key:"timer",type:"timer",editable:!1,template:c}],actions:[{key:"timer.start",implementation:o,depends:["now"],category:"contextual",name:"Start",glyph:"ï",priority:"preferred"},{key:"timer.restart",implementation:s,depends:["now"],category:"contextual",name:"Restart at 0",glyph:"r",priority:"preferred"}],types:[{key:"clock",name:"Clock",glyph:"C",description:"A UTC-based clock that supports a variety of display formats. Clocks can be added to Display Layouts.",priority:101,features:["creation"],properties:[{key:"clockFormat",name:"Display Format",control:"composite",items:[{control:"select",options:[{value:"YYYY/MM/DD hh:mm:ss",name:"YYYY/MM/DD hh:mm:ss"},{value:"YYYY/DDD hh:mm:ss",name:"YYYY/DDD hh:mm:ss"},{value:"hh:mm:ss",name:"hh:mm:ss"}],cssclass:"l-inline"},{control:"select",options:[{value:"clock12",name:"12hr"},{value:"clock24",name:"24hr"}],cssclass:"l-inline"}]}],model:{clockFormat:["YYYY/MM/DD hh:mm:ss","clock12"]}},{key:"timer",name:"Timer",glyph:"õ",description:"A timer that counts up or down to a datetime. Timers can be started, stopped and reset whenever needed, and support a variety of display formats. Each Timer displays the same value to all users. Timers can be added to Display Layouts.",priority:100,features:["creation"],properties:[{key:"timestamp",control:"datetime",name:"Target"},{key:"timerFormat",control:"select",name:"Display Format",options:[{value:"long",name:"DDD hh:mm:ss"},{value:"short",name:"hh:mm:ss"}]}],model:{timerFormat:"DDD hh:mm:ss"}}],licenses:[{name:"moment-duration-format",version:"1.3.0",author:"John Madhavan-Reese",description:"Duration parsing/formatting",website:"https://github.com/jsmreese/moment-duration-format",copyright:"Copyright 2014 John Madhavan-Reese",license:"license-mit",link:"https://github.com/jsmreese/moment-duration-format/blob/master/LICENSE"}]}})}),define("platform/features/imagery/src/policies/ImageryViewPolicy",[],function(){"use strict";function e(){}function t(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},i=n.ranges||[];return i.some(function(e){return"imageUrl"===e.format||"image"===e.format})}return e.prototype.allow=function(e,n){return"imagery"===e.key?t(n):!0},e}),define("platform/features/imagery/src/controllers/ImageryController",["moment"],function(e){"use strict";function t(e,t){function n(){o.handle&&(o.handle.unsubscribe(),o.handle=void 0)}function i(){return o.updateValues()}function r(e){n(),o.date="",o.time="",o.zone="",o.imageUrl="",o.handle=e&&t.handle(e,i,!0)}var o=this;e.$watch("domainObject",r),e.$on("$destroy",n)}var n="YYYY-MM-DD",i="HH:mm:ss.SSS";return t.prototype.updateValues=function(){var t,r,o=this.handle&&this.handle.getTelemetryObjects()[0];o&&!this.isPaused&&(t=this.handle.getDomainValue(o),r=void 0!==t?e.utc(t):void 0,this.date=r?r.format(n):"",this.time=r?r.format(i):"",this.zone=r?"UTC":"",this.imageUrl=this.handle.getRangeValue(o))},t.prototype.getTime=function(){return this.time},t.prototype.getDate=function(){return this.date},t.prototype.getZone=function(){return this.zone},t.prototype.getImageUrl=function(){return this.imageUrl},t.prototype.paused=function(e){return arguments.length>0&&e!==this.isPaused&&(this.isPaused=e,this.updateValues()),this.isPaused},t}),define("platform/features/imagery/src/directives/MCTBackgroundImage",[],function(){"use strict";function e(e){function t(t,n,i){function r(t){function i(){a>=s&&(s=a,n.css("background-image","url('"+t+"')"))}var r,a=o;t?(r=e[0].createElement("img"),r.src=t,r.onload=i):(s=a,n.css("background-image","none")),o+=1}var o=0,s=0;t.$watch("mctBackgroundImage",r)}return{restrict:"A",scope:{mctBackgroundImage:"="},link:t}}return e}),define("text!platform/features/imagery/res/templates/imagery.html",[],function(){return'<div class="t-imagery" ng-controller="ImageryController as imagery">\n    <div\n        class="l-image-main-wrapper"\n        ng-mouseenter="showLocalControls = true;"\n        ng-mouseleave="showLocalControls = false;"\n        >\n        <div\n            class="l-local-controls s-local-controls"\n            ng-show="false && showLocalControls"\n             >\n            <a\n               class="s-btn"\n               ng-click="plot.stepBackPanZoom()"\n               ng-show="1"\n               title="Restore previous pan/zoom">\n                <span class="ui-symbol icon">&lt;</span>\n            </a>\n\n            <a\n               class="s-btn"\n               ng-click="plot.unzoom()"\n               ng-show="1"\n               title="Reset pan/zoom">\n                <span class="ui-symbol icon">I</span>\n            </a>\n        </div>\n\n        <div\n            class="l-image-main s-image-main"\n            ng-class="{ paused: imagery.paused(), stale:false }"\n            mct-background-image="imagery.getImageUrl()"\n            >\n        </div>\n\n        <div class="l-image-main-controlbar l-flex-row">\n            <div class="left flex-elem grows">\n                <a\n                    class="s-btn show-thumbs sm hidden"\n                    ng-click="showThumbsBubble = (showThumbsBubble)? false:true"\n                    ><span class="ui-symbol icon"></span></a>\n                <span class="l-timezone">{{imagery.getZone()}}</span>\n                <span class="l-time">{{imagery.getTime()}}</span>\n                <span class="l-date">{{imagery.getDate()}}</span>\n            </div>\n            <div class="right flex-elem">\n                <a\n                    class="s-btn pause-play"\n                    ng-click="imagery.paused(!imagery.paused())"\n                    ng-class="{ paused: imagery.paused() }"\n                    ><span class="ui-symbol icon"></span></a>\n                <a href="{{imagery.getImageUrl()}}"\n                   ng-if="imagery.getImageUrl()"\n                   target="_blank"\n                   title="Open image in new tab."\n                   class="s-btn">\n                    <span class="ui-symbol icon">y</span></a>\n                <a href=""\n                    class="s-btn l-mag s-mag ui-symbol vsm"\n                    ng-click="clipped = false"\n                    ng-show="clipped === true"\n                    title="Not all of image is visible; click to reset."\n                    ></a>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("platform/features/imagery/bundle",["./src/policies/ImageryViewPolicy","./src/controllers/ImageryController","./src/directives/MCTBackgroundImage","text!./res/templates/imagery.html","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("platform/features/imagery",{name:"Plot view for telemetry",extensions:{views:[{name:"Imagery",key:"imagery",glyph:"ã",template:i,priority:"preferred",needs:["telemetry"],editable:!1}],policies:[{category:"view",implementation:e}],controllers:[{key:"ImageryController",implementation:t,depends:["$scope","telemetryHandler"]}],directives:[{key:"mctBackgroundImage",implementation:n,depends:["$document"]}]}})}),define("platform/features/layout/src/LayoutDrag",[],function(){"use strict";function e(e,t,n,i){this.rawPosition=e,this.posFactor=t,this.dimFactor=n,this.gridSize=i}function t(e,t){return t.map(function(t,n){return Math.round(t/e[n])})}function n(e,t){return e.map(function(e,n){return e*t[n]})}function i(e,t){return e.map(function(e,n){return e+t[n]})}function r(e,t){return e.map(function(e,n){return Math.max(e,t[n])})}return e.prototype.getAdjustedPosition=function(e){var o=t(this.gridSize,e);return{position:r(i(this.rawPosition.position,n(o,this.posFactor)),[0,0]),dimensions:r(i(this.rawPosition.dimensions,n(o,this.dimFactor)),[1,1])}},e}),define("platform/features/layout/src/LayoutController",["./LayoutDrag"],function(e){"use strict";function t(e){function t(e){var t=o.gridSize;o.gridSize=e||r,(o.gridSize[0]!==t[0]||o.gridSize[1]!==t[1])&&o.layoutPanels(Object.keys(o.positions))}function n(t,n,i,r){t.defaultPrevented||(r&&e.setEditable(r),e.configuration=e.configuration||{},e.configuration.panels=e.configuration.panels||{},e.configuration.panels[n]={position:[Math.floor(i.x/o.gridSize[0]),Math.floor(i.y/o.gridSize[1])],dimensions:o.defaultDimensions()},e.commit&&e.commit("Dropped a frame."),o.rawPositions[n]=e.configuration.panels[n],o.populatePosition(n),t.preventDefault())}function i(){var t=++s;e.domainObject.useCapability("composition").then(function(n){var i;t===s&&(i=n.map(function(e){return e.getId()})||[],e.composition=n,o.layoutPanels(i))})}var o=this,s=0;this.endDragInScope=function(){e.configuration=e.configuration||{},e.configuration.panels=e.configuration.panels||{},e.configuration.panels[o.activeDragId]=o.rawPositions[o.activeDragId],e.commit&&e.commit("Moved frame.")},this.positions={},this.rawPositions={},this.gridSize=r,this.$scope=e,e.$watch("model.layoutGrid",t),e.$watchCollection("model.composition",i),e.$on("mctDrop",n)}function n(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n}var i=[12,8],r=[32,32],o=[320,180];return t.prototype.convertPosition=function(e){var t=this.gridSize;return{left:t[0]*e.position[0]+"px",top:t[1]*e.position[1]+"px",width:t[0]*e.dimensions[0]+"px",height:t[1]*e.dimensions[1]+"px"}},t.prototype.defaultDimensions=function(){var e=this.gridSize;return o.map(function(t,n){return Math.max(Math.ceil(t/e[n]),i[n])})},t.prototype.defaultPosition=function(e){return{position:[e,e],dimensions:this.defaultDimensions()}},t.prototype.populatePosition=function(e,t){this.rawPositions[e]=this.rawPositions[e]||this.defaultPosition(t||0),this.positions[e]=this.convertPosition(this.rawPositions[e])},t.prototype.getFrameStyle=function(e){return this.positions[e]},t.prototype.startDrag=function(t,n,i){this.activeDragId=t,this.activeDrag=new e(this.rawPositions[t],n,i,this.gridSize)},t.prototype.continueDrag=function(e){this.activeDrag&&(this.rawPositions[this.activeDragId]=this.activeDrag.getAdjustedPosition(e),this.populatePosition(this.activeDragId))},t.prototype.layoutPanels=function(e){var t=this.$scope.configuration||{},i=this;this.rawPositions=n(t.panels||{},e),this.positions={},this.gridSize=(this.$scope.model||{}).layoutGrid||r,e.forEach(function(e,t){i.populatePosition(e,t)})},t.prototype.endDrag=function(){this.endDragInScope()},t}),define("platform/features/layout/src/elements/ElementFactory",[],function(){"use strict";function e(e){this.dialogService=e}var t={"fixed.image":{stroke:"transparent"},"fixed.box":{fill:"#717171",border:"transparent",stroke:"transparent"},"fixed.line":{x:5,y:9,x2:6,y2:6,stroke:"#717171"},"fixed.text":{fill:"transparent",stroke:"transparent"}},n={"fixed.image":{name:"Image Properties",sections:[{rows:[{key:"url",control:"textfield",name:"Image URL",required:!0}]}]},"fixed.text":{name:"Text Element Properties",sections:[{rows:[{key:"text",control:"textfield",name:"Text",required:!0}]}]}};return e.prototype.createElement=function(e){var i=t[e]||{};return i=JSON.parse(JSON.stringify(i)),n[e]?this.dialogService.getUserInput(n[e],i):i},e}),define("platform/features/layout/src/FixedProxy",["./elements/ElementFactory"],function(e){"use strict";function t(t,n,i){this.factory=new e(i),this.$q=n,this.addElementCallback=t}return t.prototype.add=function(e){function t(t){t.x=t.x||0,t.y=t.y||0,t.width=t.width||1,t.height=t.height||1,t.type=e,n(t)}var n=this.addElementCallback;this.$q.when(this.factory.createElement(e)).then(t)},t}),define("platform/features/layout/src/elements/AccessorMutator",[],function(){"use strict";function e(e,t,n){return function(i){return arguments.length>0&&(e[t]=n?n(i,e[t]):i),e[t]}}return e}),define("platform/features/layout/src/elements/ResizeHandle",[],function(){"use strict";function e(e,t,n){this.element=e,this.minWidth=t||0,this.minHeight=n||0}return e.prototype.x=function(e){var t=this.element;return arguments.length>0&&(t.width=Math.max(this.minWidth,e-t.x)),t.x+t.width},e.prototype.y=function(e){var t=this.element;return arguments.length>0&&(t.height=Math.max(this.minHeight,e-t.y)),t.y+t.height},e}),define("platform/features/layout/src/elements/ElementProxy",["./AccessorMutator","./ResizeHandle"],function(e,t){"use strict";function n(e){return Math.max(e,0)}function i(i,r,o){this.resizeHandles=[new t(i,1,1)],this.element=i,this.x=new e(i,"x",n),this.y=new e(i,"y",n),this.stroke=new e(i,"stroke"),this.width=new e(i,"width"),this.height=new e(i,"height"),this.index=r,this.elements=o}var r={top:Number.POSITIVE_INFINITY,up:1,down:-1,bottom:Number.NEGATIVE_INFINITY};return i.prototype.order=function(e){var t=this.index,n=this.elements,i=this.element,o=r[e]||0,s=Math.max(Math.min(t+o,n.length-1),0);s!==t&&n[t]===i&&(n.splice(t,1),n.splice(s,0,i),this.index=s)},i.prototype.remove=function(){var e=this.index;this.elements[e]===this.element&&this.elements.splice(e,1)},i.prototype.handles=function(){return this.resizeHandles},i}),define("platform/features/layout/src/elements/BoxProxy",["./ElementProxy","./AccessorMutator"],function(e,t){"use strict";function n(n,i,r){var o=new e(n,i,r);return o.fill=new t(n,"fill"),o}return n}),define("platform/features/layout/src/elements/TextProxy",["./BoxProxy","./AccessorMutator"],function(e,t){"use strict";function n(n,i,r){var o=new e(n,i,r);return o.color=new t(n,"color"),o.text=new t(n,"text"),o}return n}),define("platform/features/layout/src/elements/TelemetryProxy",["./TextProxy","./AccessorMutator"],function(e,t){"use strict";function n(t,n,o){function s(){t.titled=!t.titled,delete a[r],delete a[i],a[t.titled?i:r]=s}var a=new e(t,n,o);return a.id=t.id,a[t.titled?i:r]=s,delete a.text,a}var i="hideTitle",r="showTitle";return n}),define("platform/features/layout/src/elements/ImageProxy",["./ElementProxy","./AccessorMutator"],function(e,t){"use strict";function n(n,i,r){var o=new e(n,i,r);return o.url=new t(n,"url"),o}return n}),define("platform/features/layout/src/elements/LineHandle",[],function(){"use strict";function e(e,t,n,i,r){this.element=e,this.xProperty=t,this.yProperty=n,this.xOther=i,this.yOther=r}return e.prototype.x=function(e){var t=this.element,n=this.xProperty,i=this.yProperty,r=this.xOther,o=this.yOther;return arguments.length>0&&(e=Math.max(e,0),(t[o]!==t[i]||t[r]!==e)&&(t[n]=e)),t[n]},e.prototype.y=function(e){var t=this.element,n=this.xProperty,i=this.yProperty,r=this.xOther,o=this.yOther;return arguments.length>0&&(e=Math.max(e,0),(t[r]!==t[n]||t[o]!==e)&&(t[i]=e)),t[i]},e}),define("platform/features/layout/src/elements/LineProxy",["./ElementProxy","./LineHandle"],function(e,t){"use strict";function n(n,i,r){var o=new e(n,i,r),s=[new t(n,"x","y","x2","y2"),new t(n,"x2","y2","x","y")];return o.x=function(e){var t=Math.min(n.x,n.x2),i=Math.max(e,0)-t;return arguments.length>0&&i&&(n.x+=i,n.x2+=i),t},o.y=function(e){var t=Math.min(n.y,n.y2),i=Math.max(e,0)-t;return arguments.length>0&&i&&(n.y+=i,n.y2+=i),t},o.width=function(){return Math.max(Math.abs(n.x-n.x2),1)},o.height=function(){return Math.max(Math.abs(n.y-n.y2),1)},o.x1=function(){return n.x-o.x()},o.y1=function(){return n.y-o.y()},o.x2=function(){return n.x2-o.x()},o.y2=function(){return n.y2-o.y()},o.handles=function(){return s},o}return n}),define("platform/features/layout/src/elements/ElementProxies",["./TelemetryProxy","./ImageProxy","./LineProxy","./BoxProxy","./TextProxy"],function(e,t,n,i,r){
"use strict";return{"fixed.telemetry":e,"fixed.line":n,"fixed.box":i,"fixed.image":t,"fixed.text":r}}),define("platform/features/layout/src/FixedDragHandle",[],function(){"use strict";function e(e,t,n,i){this.elementHandle=e,this.gridSize=t,this.update=n,this.commit=i}var t=[6,6];return e.prototype.style=function(){var e=this.elementHandle.x()*this.gridSize[0],n=this.elementHandle.y()*this.gridSize[1];return{left:e-t[0]/2+"px",top:n-t[1]/2+"px",width:t[0]+"px",height:t[1]+"px"}},e.prototype.startDrag=function(){this.dragging={x:this.elementHandle.x(),y:this.elementHandle.y()}},e.prototype.continueDrag=function(e){this.dragging&&(this.elementHandle.x(this.dragging.x+Math.round(e[0]/this.gridSize[0])),this.elementHandle.y(this.dragging.y+Math.round(e[1]/this.gridSize[1])),this.update&&this.update())},e.prototype.endDrag=function(){this.dragging=void 0,this.commit&&this.commit("Dragged handle.")},e}),define("platform/features/layout/src/FixedController",["./FixedProxy","./elements/ElementProxies","./FixedDragHandle"],function(e,t,n){"use strict";function i(i,s,a,c,l,u){function d(e){var t=I.gridSize;return{left:t[0]*e.x()+"px",top:t[1]*e.y()+"px",width:t[0]*e.width()+"px",height:t[1]*e.height()+"px"}}function p(){var e=I.selection&&I.selection.get();e&&(e.style=d(e))}function f(e){return new n(e,I.gridSize,p,i.commit)}function h(e){return e.handles().map(f)}function m(e,t,n){var i=e.getId();(L[i]||[]).forEach(function(r){M[i]=e.getModel().name,E[i]=l.formatRangeValue(t),r.name=M[i],r.value=E[i],r.cssClass=n&&n.cssClass})}function g(e,t){var n=t.getPointCount()-1,i=e&&e.getCapability("limit"),r=e&&A.getDatum(e,n);n>=0&&m(e,t.getRangeValue(n),i&&r&&i.evaluate(r))}function y(e){var t=e&&e.getCapability("limit"),n=e&&A.getDatum(e);e&&A.getDomainValue(e)<N&&m(e,A.getRangeValue(e),t&&n&&t.evaluate(n))}function v(e){I.gridSize=e||o,I.elementProxies.forEach(function(e){e.style=d(e)})}function b(){A&&A.getTelemetryObjects().forEach(y)}function w(e,n,i){var r=t[e.type],o=r&&new r(e,n,i);return o&&(o.style=d(o),o.template=e.type),o}function S(){var e=I.selection&&I.selection.get(),t=(i.configuration||{}).elements||[],n=-1;void 0!==e&&(n=t.indexOf(e.element)),I.elementProxies=t.map(w),I.selection&&(I.selection.deselect(),n>-1&&I.select(I.elementProxies[n])),L={},I.elementProxies.forEach(function(e){var t=e.id;"fixed.telemetry"===e.element.type&&(e.name=M[t],e.value=E[t],L[t]=L[t]||[],L[t].push(e))})}function $(){A&&(A.unsubscribe(),A=void 0)}function C(e){A&&A.unsubscribe(),A=e&&c.handle(e,b),A.request({size:1},g)}function O(e){C(i.domainObject)}function x(e,t){N=t.end,A&&A.request({size:1},g)}function T(e){i.configuration=i.configuration||{},i.configuration.elements=i.configuration.elements||[],i.configuration.elements.push(e),S(),I.select(I.elementProxies[I.elementProxies.length-1]),i.commit&&i.commit("Dropped an element.")}function k(e,t,n,o){e.defaultPrevented||(o&&i.setEditable(o),e.preventDefault(),T({type:"fixed.telemetry",x:Math.floor(n.x/I.gridSize[0]),y:Math.floor(n.y/I.gridSize[1]),id:t,stroke:"transparent",color:"",titled:!0,width:r[0],height:r[1]}))}var A,I=this,M={},E={},L={},N=Number.POSITIVE_INFINITY;this.gridSize=o,this.elementProxies=[],this.generateDragHandle=f,this.generateDragHandles=h,i.$watch("selection",function(t){this.selection=t,this.selection&&this.selection.proxy(new e(T,s,a))}.bind(this)),i.$watch("model.modified",S),i.$watch("model.composition",O),i.$watch("model.layoutGrid",v),i.$watch("domainObject",C),i.$on("$destroy",$),i.$on("mctDrop",k),i.$on("telemetry:display:bounds",x)}var r=[2,1],o=[64,16];return i.prototype.getGridSize=function(){return this.gridSize},i.prototype.getElements=function(){return this.elementProxies},i.prototype.selected=function(e){var t=this.selection;return t&&(arguments.length>0?t.selected(e):t.get())},i.prototype.select=function(e){this.selection&&(this.selection.select(e),this.mvHandle=this.generateDragHandle(e),this.resizeHandles=this.generateDragHandles(e))},i.prototype.clearSelection=function(){this.selection&&(this.selection.deselect(),this.resizeHandles=[],this.mvHandle=void 0)},i.prototype.handles=function(){return this.resizeHandles},i.prototype.moveHandle=function(){return this.mvHandle},i}),define("platform/features/layout/src/LayoutCompositionPolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e,t){var n=e&&t&&e.instanceOf("layout")&&t.instanceOf("folder");return!n},e}),define("text!platform/features/layout/res/templates/layout.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-layout"\n     ng-controller="LayoutController as controller">\n\n    <div class=\'frame child-frame panel abs\'\n         ng-repeat="childObject in composition"\n         ng-style="controller.getFrameStyle(childObject.getId())">\n\n        <div class="frame child-frame holder contents abs">\n            <mct-representation key="\'frame\'"\n                                mct-object="childObject">\n            </mct-representation>\n        </div>\n        <!-- Drag handles -->\n        <span ng-show="domainObject.hasCapability(\'editor\')">\n\n            <span\n                class="edit-handle edit-move"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,1], [0,0])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <!--\n            <span\n                class="edit-handle edit-resize-w"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,0], [-1,0])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span\n                class="edit-handle edit-resize-e"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [1,0])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n\n            <span\n                class="edit-handle edit-resize-n"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,1], [0,-1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span\n                class="edit-handle edit-resize-s"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [0,1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            -->\n\n            <span\n                class="edit-corner edit-resize-nw"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,1], [-1,-1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span\n                class="edit-corner edit-resize-ne"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,1], [1,-1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span\n                class="edit-corner edit-resize-sw"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,0], [-1,1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n            <span\n                class="edit-corner edit-resize-se"\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [1,1])"\n                  mct-drag="controller.continueDrag(delta)"\n                  mct-drag-up="controller.endDrag()">\n            </span>\n        </span>\n\n    </div>\n\n</div>'}),define("text!platform/features/layout/res/templates/fixed.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-fixed-position l-fixed-position"\n     ng-controller="FixedController as controller">\n\n    <!-- Background grid -->\n    <div class="l-grid-holder" ng-click="controller.clearSelection()">\n        <div class="l-grid l-grid-x"\n             ng-style="{ \'background-size\': controller.getGridSize() [0] + \'px 100%\' }"></div>\n        <div class="l-grid l-grid-y"\n             ng-style="{ \'background-size\': \'100% \' + controller.getGridSize() [1] + \'px\' }"></div>\n    </div>\n\n    <!-- Fixed position elements -->\n    <div ng-repeat="element in controller.getElements()"\n         class="l-fixed-position-item"\n         ng-class="{ \'s-not-selected\': controller.selected() && !controller.selected(element) }"\n         ng-style="element.style"\n         ng-click="controller.select(element)">\n        <mct-include key="element.template"\n                     parameters="{ gridSize: controller.getGridSize() }"\n                     ng-model="element">\n        </mct-include>\n    </div>\n\n    <!-- Selection highlight, handles -->\n    <span ng-if="controller.selected()">\n        <div class="l-fixed-position-item s-selected"\n             mct-drag-down="controller.moveHandle().startDrag(controller.selected())"\n             mct-drag="controller.moveHandle().continueDrag(delta)"\n             mct-drag-up="controller.moveHandle().endDrag()"\n             ng-style="controller.selected().style">\n        </div>\n        <div ng-repeat="handle in controller.handles()"\n             class="l-fixed-position-item-handle"\n             ng-style="handle.style()"\n             mct-drag-down="handle.startDrag()"\n             mct-drag="handle.continueDrag(delta)"\n             mct-drag-up="handle.endDrag()">\n        </div>\n    </span>\n\n</div>\n'}),define("text!platform/features/layout/res/templates/frame.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="frame frame-template abs">\n    <div class="abs object-top-bar l-flex-row">\n        <div class="left flex-elem l-flex-row grows">\n            <mct-representation\n                key="\'object-header\'"\n                mct-object="domainObject"\n                class="l-flex-row flex-elem object-header grows">\n            </mct-representation>\n        </div>\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\n            <mct-representation key="\'switcher\'"\n                                ng-model="representation"\n                                mct-object="domainObject">\n            </mct-representation>\n        </div>\n    </div>\n    <div class="abs object-holder">\n        <mct-representation key="representation.selected.key"\n                            mct-object="representation.selected.key && domainObject">\n        </mct-representation>\n    </div>\n</div>'}),define("text!platform/features/layout/res/templates/elements/telemetry.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n    class="l-fixed-position-text l-telemetry"\n    ng-style="{ background: ngModel.fill(), \'border-color\': ngModel.stroke(), color: ngModel.color() }"\n    >\n    <span\n        class="l-elem l-value l-obj-val-format"\n        data-value="{{ngModel.value}}"\n        ng-class="ngModel.cssClass"\n        >\n        {{ngModel.value}}\n    </span>\n    <span\n        class="l-elem l-title"\n        ng-show="ngModel.element.titled"\n        >\n        {{ngModel.name}}\n    </span>\n</div>\n'}),define("text!platform/features/layout/res/templates/elements/box.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	class="l-fixed-position-box"\n	ng-style="{ background: ngModel.fill(), border: \'1px \' + ngModel.stroke() + \' solid\' }"\n	>\n</div>'}),define("text!platform/features/layout/res/templates/elements/line.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<svg ng-attr-width="{{parameters.gridSize[0] * ngModel.width()}}"\n     ng-attr-height="{{parameters.gridSize[1] * ngModel.height()}}">\n    <line ng-attr-x1="{{parameters.gridSize[0] * ngModel.x1() + 1}}"\n          ng-attr-y1="{{parameters.gridSize[1] * ngModel.y1() + 1}}"\n          ng-attr-x2="{{parameters.gridSize[0] * ngModel.x2() + 1}}"\n          ng-attr-y2="{{parameters.gridSize[1] * ngModel.y2() + 1}}"\n          ng-attr-stroke="{{ngModel.stroke()}}"\n          stroke-width="2">\n    </line>\n</svg>'}),define("text!platform/features/layout/res/templates/elements/text.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	class="l-fixed-position-text l-static-text"\n	ng-style="{ background: ngModel.fill(), \'border-color\': ngModel.stroke(), color: ngModel.color() }"\n	>\n    {{ngModel.element.text}}\n</div>'}),define("text!platform/features/layout/res/templates/elements/image.html",[],function(){return"<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	ng-style=\"{ 'background-image': 'url(' + ngModel.element.url + ')', border: '1px solid ' + ngModel.stroke() }\"\n    class=\"l-fixed-position-image\"\n	>\n</div>\n"}),define("platform/features/layout/bundle",["./src/LayoutController","./src/FixedController","./src/LayoutCompositionPolicy","text!./res/templates/layout.html","text!./res/templates/fixed.html","text!./res/templates/frame.html","text!./res/templates/elements/telemetry.html","text!./res/templates/elements/box.html","text!./res/templates/elements/line.html","text!./res/templates/elements/text.html","text!./res/templates/elements/image.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";d.register("platform/features/layout",{name:"Layout components.",description:"Plug in adding Layout capabilities.",extensions:{views:[{key:"layout",name:"Display Layout",glyph:"L",type:"layout",template:i,editable:!0,uses:[]},{key:"fixed",name:"Fixed Position",glyph:"3",type:"telemetry.panel",template:r,uses:["composition"],gestures:["drop"],toolbar:{sections:[{items:[{method:"add",glyph:"+",control:"menu-button",text:"Add",options:[{name:"Box",glyph:"à",key:"fixed.box"},{name:"Line",glyph:"â",key:"fixed.line"},{name:"Text",glyph:"ä",key:"fixed.text"},{name:"Image",glyph:"ã",key:"fixed.image"}]}]},{items:[{method:"order",glyph:"á",control:"menu-button",options:[{name:"Move to Top",glyph:"ë",key:"top"},{name:"Move Up",glyph:"^",key:"up"},{name:"Move Down",glyph:"v",key:"down"},{name:"Move to Bottom",glyph:"î",key:"bottom"}]},{property:"fill",glyph:"",control:"color"},{property:"stroke",glyph:"â",control:"color"},{property:"color",glyph:"ä",mandatory:!0,control:"color"},{property:"url",glyph:"ã",control:"dialog-button",title:"Image Properties",dialog:{control:"textfield",name:"Image URL",required:!0}},{property:"text",glyph:"G",control:"dialog-button",title:"Text Properties",dialog:{control:"textfield",name:"Text",required:!0}},{method:"showTitle",glyph:"ç",control:"button",description:"Show telemetry element title."},{method:"hideTitle",glyph:"å",control:"button",description:"Hide telemetry element title."}]},{items:[{method:"remove",control:"button",glyph:"Z"}]}]}}],representations:[{key:"frame",template:o}],controllers:[{key:"LayoutController",implementation:e,depends:["$scope"]},{key:"FixedController",implementation:t,depends:["$scope","$q","dialogService","telemetryHandler","telemetryFormatter","throttle"]}],templates:[{key:"fixed.telemetry",template:s},{key:"fixed.box",template:a},{key:"fixed.line",template:c},{key:"fixed.text",template:l},{key:"fixed.image",template:u}],policies:[{category:"composition",implementation:n}],types:[{key:"layout",name:"Display Layout",glyph:"L",description:"Assemble other objects and components together into a reusable screen layout. Working in a simple canvas workspace, simply drag in the objects you want, position and size them. Save your design and view or edit it at any time.",priority:900,features:"creation",model:{composition:[]},properties:[{name:"Layout Grid",control:"composite",pattern:"^(\\d*[1-9]\\d*)?$",items:[{name:"Horizontal grid (px)",control:"textfield",cssclass:"l-input-sm l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssclass:"l-input-sm l-numeric"}],key:"layoutGrid",conversion:"number[]"}]}]}})}),define("platform/features/pages/src/EmbeddedPageController",[],function(){"use strict";function e(e){this.$sce=e}return e.prototype.trust=function(e){return this.$sce.trustAsResourceUrl(e)},e}),define("text!platform/features/pages/res/iframe.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-iframe abs">\n<iframe ng-controller="EmbeddedPageController as ctl"\n        ng-src="{{ctl.trust(model.url)}}">\n</iframe>\n</div>'}),define("platform/features/pages/bundle",["./src/EmbeddedPageController","text!./res/iframe.html","legacyRegistry"],function(e,t,n){"use strict";n.register("platform/features/pages",{extensions:{types:[{key:"example.page",name:"Web Page",glyph:"ê",description:"Embed a web page or web-based image in a resizeable window component. Can be added to Display Layouts. Note that the URL being embedded must allow iframing.",priority:50,features:["creation"],properties:[{key:"url",name:"URL",control:"textfield",pattern:"^(ftp|https?)\\:\\/\\/\\w+(\\.\\w+)*(\\:\\d+)?(\\/\\S*)*$",required:!0,cssclass:"l-input-lg"}]}],views:[{template:t,name:"Page",type:"example.page",key:"example.page",editable:!1}],controllers:[{key:"EmbeddedPageController",implementation:e,depends:["$sce"]}]}})}),define("platform/features/plot/src/GLChart",[],function(){"use strict";function e(e){var i,r,o,s,a,c,l,u=e.getContext("webgl")||e.getContext("experimental-webgl");if(!u)throw new Error("WebGL unavailable.");i=u.createShader(u.VERTEX_SHADER),u.shaderSource(i,n),u.compileShader(i),r=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(r,t),u.compileShader(r),o=u.createProgram(),u.attachShader(o,i),u.attachShader(o,r),u.linkProgram(o),u.useProgram(o),s=u.getAttribLocation(o,"aVertexPosition"),a=u.getUniformLocation(o,"uColor"),c=u.getUniformLocation(o,"uDimensions"),l=u.getUniformLocation(o,"uOrigin"),u.enableVertexAttribArray(s),this.buffer=u.createBuffer(),u.lineWidth(2),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),this.gl=u,this.aVertexPosition=s,this.uColor=a,this.uDimensions=c,this.uOrigin=l}var t=["precision mediump float;","uniform vec4 uColor;","void main(void) {","gl_FragColor = uColor;","}"].join("\n"),n=["attribute vec2 aVertexPosition;","uniform vec2 uDimensions;","uniform vec2 uOrigin;","void main(void) {","gl_Position = vec4(2.0 * ((aVertexPosition - uOrigin) / uDimensions) - vec2(1,1), 0, 1);","}"].join("\n");return e.prototype.doDraw=function(e,t,n,i){var r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.bufferData(r.ARRAY_BUFFER,t,r.DYNAMIC_DRAW),r.vertexAttribPointer(this.aVertexPosition,2,r.FLOAT,!1,0,0),r.uniform4fv(this.uColor,n),r.drawArrays(e,0,i)},e.prototype.clear=function(){var e=this.gl;e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clear(e.COLOR_BUFFER_BIT+e.DEPTH_BUFFER_BIT)},e.prototype.setDimensions=function(e,t){var n=this.gl;e&&e.length>0&&t&&t.length>0&&(n.uniform2fv(this.uDimensions,e),n.uniform2fv(this.uOrigin,t))},e.prototype.drawLine=function(e,t,n){this.doDraw(this.gl.LINE_STRIP,e,t,n)},e.prototype.drawSquare=function(e,t,n){this.doDraw(this.gl.TRIANGLE_FAN,new Float32Array(e.concat([e[0],t[1]]).concat(t).concat([t[0],e[1]])),n,4)},e}),define("platform/features/plot/src/Canvas2DChart",[],function(){"use strict";function e(e){if(this.canvas=e,this.c2d=e.getContext("2d"),this.width=e.width,this.height=e.height,this.dimensions=[this.width,this.height],this.origin=[0,0],!this.c2d)throw new Error("Canvas 2d API unavailable.")}return e.prototype.x=function(e){return(e-this.origin[0])/this.dimensions[0]*this.width},e.prototype.y=function(e){return this.height-(e-this.origin[1])/this.dimensions[1]*this.height},e.prototype.setColor=function(e){var t=e.map(function(e,t){return 3>t?Math.floor(255*e):e}).join(",");this.c2d.strokeStyle="rgba("+t+")",this.c2d.fillStyle="rgba("+t+")"},e.prototype.clear=function(){var e=this.canvas;this.width=e.width,this.height=e.height,this.c2d.clearRect(0,0,this.width,this.height)},e.prototype.setDimensions=function(e,t){this.dimensions=e,this.origin=t},e.prototype.drawLine=function(e,t,n){var i;for(this.setColor(t),this.c2d.lineWidth=2,e.length>1&&(this.c2d.beginPath(),this.c2d.moveTo(this.x(e[0]),this.y(e[1]))),i=2;2*n>i;i+=2)this.c2d.lineTo(this.x(e[i]),this.y(e[i+1]));this.c2d.stroke()},e.prototype.drawSquare=function(e,t,n){var i=this.x(e[0]),r=this.y(e[1]),o=this.x(t[0])-i,s=this.y(t[1])-r;this.setColor(n),this.c2d.fillRect(i,r,o,s)},e}),define("platform/features/plot/src/MCTChart",["./GLChart","./Canvas2DChart"],function(e,t){"use strict";function n(n,r){function o(e,t){var n=e[0];if(!n)return void r.warn("Cannot initialize mct-chart.");try{return new n(t)}catch(i){return r.warn(["Could not instantiate chart",n.name,";",i.message].join(" ")),o(e.slice(1),t)}}function s(r,s){function a(e){f.width=f.offsetWidth,f.height=f.offsetHeight,p.clear(),e&&(p.setDimensions(e.dimensions||[1,1],e.origin||[0,0]),(e.lines||[]).forEach(function(e){p.drawLine(e.buffer,e.color,e.points)}),(e.boxes||[]).forEach(function(e){p.drawSquare(e.start,e.end,e.color)}))}function c(){(f.width!==f.offsetWidth||f.height!==f.offsetHeight)&&(a(r.draw),r.$apply())}function l(){d&&n.cancel(d)}function u(){s.html(i),f=s.find("canvas")[0],p=o([t],f),p&&a(r.draw)}var d,p,f=s.find("canvas")[0];p=o([e,t],f),p&&(f.addEventListener("webglcontextlost",u),d=n(c,1e3,0,!1),r.$watchCollection("draw",a),r.$on("$destroy",l))}return{restrict:"E",template:i,link:s,scope:{draw:"="}}}var i="<canvas style='position: absolute; background: none; width: 100%; height: 100%;'></canvas>";return n}),define("platform/features/plot/src/elements/PlotSeriesWindow",[],function(){"use strict";function e(e,t,n,i,r){this.series=e,this.domain=t,this.range=n,this.start=i,this.end=r}return e.prototype.getPointCount=function(){return this.end-this.start},e.prototype.getDomainValue=function(e){return this.series.getDomainValue(e+this.start,this.domain)},e.prototype.getRangeValue=function(e){return this.series.getRangeValue(e+this.start,this.range)},e.prototype.split=function(){var t=Math.floor((this.end+this.start)/2);return this.end-this.start>1?[new e(this.series,this.domain,this.range,this.start,t),new e(this.series,this.domain,this.range,t,this.end)]:[]},e}),define("platform/features/plot/src/elements/PlotLine",["./PlotSeriesWindow"],function(e){"use strict";function t(e){this.buffer=e}return t.prototype.addPoint=function(e,t){var n,i=this.buffer;if(void 0!==e&&void 0!==t){if(n=i.findInsertionIndex(e),0>n)return;i.insertPoint(e,t,n)||(i.trim(1),i.insertPoint(e,t,n))}},t.prototype.addSeries=function(t,n,i){function r(e){function t(){var t=e.getDomainValue(0),i=e.getDomainValue(n-1),s=o.findInsertionIndex(t),a=o.findInsertionIndex(i);s===a&&s>-1?o.insert(e,s):e.split().forEach(r)}var n=e.getPointCount();n>0&&t()}var o=this.buffer;r(new e(t,n,i,0,t.getPointCount()));
},t}),define("platform/features/plot/src/elements/PlotLineBuffer",[],function(){"use strict";function e(e,t,n){this.buffer=new Float32Array(2*t),this.rangeExtrema=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.length=0,this.domainOffset=e,this.initialSize=t,this.maxSize=n}return e.prototype.binSearch=function(e,t,n){var i=Math.floor((t+n)/2),r=this.buffer[2*i];return r===e?i:t>=n?t+(e>r?1:0):e>r?this.binSearch(e,i+1,n):this.binSearch(e,t,i-1)},e.prototype.doubleBufferSize=function(){var e=Math.min(2*this.maxSize,2*this.buffer.length),t=e>this.buffer.length,n=t&&new Float32Array(e);return t&&(n.set(this.buffer),this.buffer=n),t},e.prototype.halveBufferSize=function(){var e=Math.max(2*this.initialSize,this.buffer.length/2),t=e<this.buffer.length;return t&&(this.buffer=new Float32Array(this.buffer.subarray(0,e))),t},e.prototype.setValue=function(e,t,n){this.buffer[2*e]=t-this.domainOffset,this.buffer[2*e+1]=n,this.rangeExtrema[0]=Math.min(this.rangeExtrema[0],n),this.rangeExtrema[1]=Math.max(this.rangeExtrema[1],n)},e.prototype.getBuffer=function(){return this.buffer},e.prototype.getLength=function(){return this.length},e.prototype.getDomainExtrema=function(){return[this.buffer[0]+this.domainOffset,this.buffer[2*this.length-2]+this.domainOffset]},e.prototype.getRangeExtrema=function(){return this.rangeExtrema},e.prototype.trim=function(e,t){t||this.buffer.set(this.buffer.subarray(2*e)),this.length-=e,this.length<this.buffer.length/4&&this.halveBufferSize()},e.prototype.insert=function(e,t){var n,i=e.getPointCount();for(t=Math.min(t,this.length);i>this.buffer.length/2-this.length;)if(!this.doubleBufferSize())return!1;for(t<this.length&&this.buffer.set(this.buffer.subarray(2*t,2*this.length),2*(t+i)),n=0;i>n;n+=1)this.setValue(n+t,e.getDomainValue(n),e.getRangeValue(n));return this.length+=i,!0},e.prototype.insertPoint=function(e,t){return this.length>=this.buffer.length/2&&!this.doubleBufferSize()?!1:(this.setValue(this.length,e,t),this.length+=1,!0)},e.prototype.findInsertionIndex=function(e){var t=e-this.domainOffset;return this.length<1?0:t>this.buffer[2*this.length-2]?this.length:this.binSearch(t,0,this.length-1)},e}),define("platform/features/plot/src/elements/PlotUpdater",["./PlotLine","./PlotLineBuffer"],function(e,t){"use strict";function n(e,t,n,i,r){this.handle=e,this.domain=t,this.range=n,this.fixedDuration=i,this.maxPoints=r,this.ids=[],this.lines={},this.buffers={},this.bufferArray=[],this.maxPoints=void 0!==r?r:a,this.dimensions=[0,0],this.origin=[0,0],this.update()}function i(e){return e.getId()}function r(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function o(e){return e[1]-e[0]}function s(e){return e[0]}var a=86400,c=.1,l=675;return n.prototype.idsMatch=function(e){var t=this.ids;return t.length===e.length&&e.every(function(e,n){return t[n]===e})},n.prototype.prepareLines=function(n){var r=n.map(i),o={},s=this;this.idsMatch(r)||(void 0!==this.domainOffset&&(this.ids=r,this.bufferArray=this.ids.map(function(n){return s.buffers[n]=s.buffers[n]||new t(s.domainOffset,l,s.maxPoints),o[n]=s.lines[n]||new e(s.buffers[n]),s.buffers[n]})),Object.keys(o).length<1&&(this.domainOffset=void 0),this.lines=o)},n.prototype.initializeDomainOffset=function(e){this.domainOffset=void 0===this.domainOffset&&e.length>0?e.reduce(function(e,t){return(e||0)+(t||0)},0)/e.length:this.domainOffset},n.prototype.expandRange=function(){var e,t=c*this.dimensions[1];t=Math.max(t,1),e=Math.ceil(this.origin[1]+this.dimensions[1]+t/2),this.origin[1]=Math.floor(this.origin[1]-t/2),this.dimensions[1]=e-this.origin[1]},n.prototype.updateBounds=function(){var e=this.bufferArray.filter(function(e){return e.getLength()>0}),t=this.origin[0],n=this.dimensions[0];e.length>0&&(this.domainExtrema=e.map(function(e){return e.getDomainExtrema()}).reduce(r),this.rangeExtrema=e.map(function(e){return e.getRangeExtrema()}).reduce(r),this.dimensions=[this.domainExtrema,this.rangeExtrema].map(o),this.origin=[this.domainExtrema,this.rangeExtrema].map(s),this.expandRange(),this.hasSpecificDomainBounds&&(this.origin[0]=t,this.dimensions[0]=n,this.following&&(this.origin[0]=Math.max(this.domainExtrema[1]-this.dimensions[0],this.origin[0]))),void 0!==this.fixedDuration&&(this.origin[0]=this.origin[0]+this.dimensions[0]-this.fixedDuration,this.dimensions[0]=this.fixedDuration))},n.prototype.addPointFor=function(e){var t=this.lines[e.getId()];t&&t.addPoint(this.handle.getDomainValue(e,this.domain),this.handle.getRangeValue(e,this.range))},n.prototype.update=function(){var e=this.handle.getTelemetryObjects(),t=this;void 0===this.domainOffset&&this.initializeDomainOffset(e.map(function(e){return t.handle.getDomainValue(e,t.domain)}).filter(function(e){return"number"==typeof e})),this.prepareLines(e),e.forEach(function(e,n){t.addPointFor(e,n)}),this.updateBounds()},n.prototype.getDimensions=function(){return this.dimensions},n.prototype.getOrigin=function(){return this.origin},n.prototype.getDomainOffset=function(){return this.domainOffset},n.prototype.getLineBuffers=function(){return this.bufferArray},n.prototype.setDomainBounds=function(e,t){this.fixedDuration=t-e,this.origin[0]=e,this.dimensions[0]=this.fixedDuration,this.hasSpecificDomainBounds=!0,this.following=!this.domainExtrema||t>=this.domainExtrema[1]},n.prototype.addHistorical=function(e,t){var n,i=t?t.getPointCount():0;1>i||(void 0===this.domainOffset&&this.initializeDomainOffset([t.getDomainValue(0,this.domain),t.getDomainValue(i-1,this.domain)]),this.prepareLines(this.handle.getTelemetryObjects()),n=this.lines[e.getId()],n&&n.addSeries(t,this.domain,this.range),this.updateBounds())},n}),define("platform/features/plot/src/elements/PlotPalette",[],function(){"use strict";function e(){return e}var t=[[32,178,170],[154,205,50],[255,140,0],[210,180,140],[64,224,208],[65,105,255],[255,215,0],[106,90,205],[238,130,238],[204,153,102],[153,204,204],[102,204,51],[255,204,0],[255,102,51],[204,102,255],[255,0,102],[255,255,0],[128,0,128],[0,134,139],[0,138,0],[255,0,0],[0,0,255],[245,222,179],[188,143,143],[70,130,180],[255,175,175],[67,205,128],[205,193,197],[160,82,45],[100,149,237]],n=t.map(function(e){return"#"+e.map(function(e){return(16>e?"0":"")+e.toString(16)}).join("")}),i=t.map(function(e){return e.map(function(e){return e/255}).concat([1])});return e.getIntegerColor=function(e){return t[Math.floor(e)%t.length]},e.getFloatColor=function(e){return i[Math.floor(e)%i.length]},e.getStringColor=function(e){return n[Math.floor(e)%n.length]},e}),define("platform/features/plot/src/elements/PlotAxis",[],function(){"use strict";function e(e,t,n){this.axisType=e,this.defaultValue=n,this.optionKeys={},this.active=n,this.options=[],this.updateMetadata(t)}return e.prototype.updateMetadata=function(e){function t(e){return e&&i[e.key]}var n=this.axisType,i=this.optionKeys,r={},o=[];e.forEach(function(e){(e[n]||[]).forEach(function(e){var t=e.key;i[t]||r[t]||o.push(e),r[t]=!0})}),i=this.optionKeys=r,this.options.every(t)||(this.options=this.options.filter(t)),o.length>0&&(this.options=this.options.concat(o)),t(this.active)||(this.active=this.options[0]||this.defaultValue)},e.prototype.chooseOption=function(e){var t=this;this.options.forEach(function(n){n.key===e&&(t.active=n)})},e}),define("platform/features/plot/src/elements/PlotLimitTracker",[],function(){"use strict";function e(e,t){this.handle=e,this.range=t,this.legendClasses={}}return e.prototype.update=function(){function e(e){var r=e.getCapability("limit"),o=i.getDatum(e);r&&o&&(t[e.getId()]=(r.evaluate(o,n)||{}).cssClass)}var t={},n=this.range,i=this.handle;i.getTelemetryObjects().forEach(e),this.legendClasses=t},e.prototype.getLegendClass=function(e){var t=e&&e.getId();return t&&this.legendClasses[t]},e}),define("platform/features/plot/src/elements/PlotTelemetryFormatter",[],function(){"use strict";function e(e){this.telemetryFormatter=e}var t=3;return e.prototype.setDomainFormat=function(e){this.domainFormat=e},e.prototype.setRangeFormat=function(e){this.rangeFormat=e},e.prototype.formatDomainValue=function(e){return this.telemetryFormatter.formatDomainValue(e,this.domainFormat)},e.prototype.formatRangeValue=function(e){return"number"==typeof e?e.toFixed(t):this.telemetryFormatter.formatRangeValue(e,this.rangeFormat)},e}),define("platform/features/plot/src/elements/PlotPosition",[],function(){"use strict";function e(e,t,n,i,r){function o(e,t){return e*c[t]+a[t]}var s=r.getPanZoom(),a=s.origin,c=s.dimensions;c&&a?this.position=[e/n,(i-t)/i].map(o):this.position=[]}return e.prototype.getDomain=function(){return this.position[0]},e.prototype.getRange=function(){return this.position[1]},e.prototype.getPosition=function(){return this.position},e}),define("platform/features/plot/src/elements/PlotTickGenerator",[],function(){"use strict";function e(e,t){this.panZoomStack=e,this.formatter=t}function t(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}return e.prototype.generateTicks=function(e,t,n,i){var r,o=t/(n-1),s=[];for(r=0;n>r;r+=1)s.push({label:t>0?i(r*o+e):""});return s},e.prototype.generateDomainTicks=function(e){var n=this.panZoomStack.getPanZoom();return this.generateTicks(n.origin[0],n.dimensions[0],e,t(this.formatter.formatDomainValue,this.formatter))},e.prototype.generateRangeTicks=function(e){var n=this.panZoomStack.getPanZoom();return this.generateTicks(n.origin[1],n.dimensions[1],e,t(this.formatter.formatRangeValue,this.formatter))},e}),define("platform/features/plot/src/SubPlot",["./elements/PlotPosition","./elements/PlotTickGenerator"],function(e,t){"use strict";function n(e,t,n){this.telemetryObjects=e,this.domainTicks=[],this.rangeTicks=[],this.formatter=n,this.draw={},this.hovering=!1,this.panZoomStack=t,this.updateDrawingBounds(),this.updateTicks()}function i(e){return"string"==typeof e&&""!==e}var r=5,o=7;return n.prototype.hasDomainData=function(){return this.panZoomStack&&this.panZoomStack.getDimensions()[0]>0},n.prototype.mousePositionToDomainRange=function(t){return new e(t.x,t.y,t.width,t.height,this.panZoomStack).getPosition()},n.prototype.toMousePosition=function(e){var t=this.subPlotBounds;return{x:e.clientX-t.left,y:e.clientY-t.top,width:t.width,height:t.height}},n.prototype.toDisplayable=function(e){return[e[0]-this.domainOffset,e[1]]},n.prototype.updateHoverCoordinates=function(){function e(e,n){return n?t.formatRangeValue(e):t.formatDomainValue(e)}var t=this.formatter;this.hoverCoordinates=this.mousePosition&&this.mousePositionToDomainRange(this.mousePosition).map(e).filter(i).join(", ")},n.prototype.updateMarqueeBox=function(){this.draw.boxes=this.marqueeStart?[{start:this.toDisplayable(this.mousePositionToDomainRange(this.marqueeStart)),end:this.toDisplayable(this.mousePositionToDomainRange(this.mousePosition)),color:[1,1,1,.5]}]:void 0},n.prototype.updateDrawingBounds=function(){var e=this.panZoomStack.getPanZoom();this.draw.dimensions=e.dimensions,this.draw.origin=[e.origin[0]-this.domainOffset,e.origin[1]]},n.prototype.updateTicks=function(){var e=new t(this.panZoomStack,this.formatter);this.domainTicks=e.generateDomainTicks(r),this.rangeTicks=e.generateRangeTicks(o)},n.prototype.updatePan=function(){var e,t,n,i;this.panZoomStack.popPanZoom(),e=this.mousePositionToDomainRange(this.panStart,this.panZoomStack),t=this.mousePositionToDomainRange(this.mousePosition,this.panZoomStack),n=[t[0]-e[0],t[1]-e[1]],i=[this.panStartBounds.origin[0]-n[0],this.panStartBounds.origin[1]-n[1]],this.panZoomStack.pushPanZoom(i,this.panStartBounds.dimensions)},n.prototype.getTelemetryObjects=function(){return this.telemetryObjects},n.prototype.getDomainTicks=function(){return this.domainTicks},n.prototype.getRangeTicks=function(){return this.rangeTicks},n.prototype.getDrawingObject=function(){return this.draw},n.prototype.getHoverCoordinates=function(){return this.hoverCoordinates},n.prototype.hover=function(e){this.hovering=!0,this.subPlotBounds=e.target.getBoundingClientRect(),this.mousePosition=this.toMousePosition(e),this.hasDomainData()&&this.updateHoverCoordinates(),this.marqueeStart&&this.updateMarqueeBox(),this.panStart&&(this.updatePan(),this.updateDrawingBounds(),this.updateTicks())},n.prototype.continueDrag=function(e){this.mousePosition=this.toMousePosition(e),this.marqueeStart&&this.updateMarqueeBox(),this.panStart&&(this.updatePan(),this.updateDrawingBounds(),this.updateTicks())},n.prototype.startDrag=function(e){this.subPlotBounds=e.target.getBoundingClientRect(),this.mousePosition=this.toMousePosition(e),e.altKey||e.shiftKey||e.ctrlKey?(this.panStart=this.mousePosition,this.panStartBounds=this.panZoomStack.getPanZoom(),this.panZoomStack.pushPanZoom(this.panStartBounds.origin,this.panStartBounds.dimensions),e.preventDefault()):(this.marqueeStart=this.mousePosition,this.updateMarqueeBox())},n.prototype.endDrag=function(e){function t(e,t){var i=n.mousePositionToDomainRange(e),r=n.mousePositionToDomainRange(t),o=[Math.min(i[0],r[0]),Math.min(i[1],r[1])],s=[Math.max(i[0],r[0])-o[0],Math.max(i[1],r[1])-o[1]];(0!==s[0]||0!==s[1])&&(n.panZoomStack.pushPanZoom(o,s),n.updateTicks())}var n=this;this.mousePosition=this.toMousePosition(e),this.subPlotBounds=void 0,this.marqueeStart&&(t(this.marqueeStart,this.mousePosition),this.marqueeStart=void 0,this.updateMarqueeBox(),this.updateDrawingBounds(),this.updateTicks()),this.panStart&&(this.panStart=void 0,this.panStartBounds=void 0)},n.prototype.update=function(){this.updateDrawingBounds(),this.updateMarqueeBox(),this.updateTicks()},n.prototype.setDomainOffset=function(e){this.domainOffset=e},n.prototype.isHovering=function(e){return void 0!==e&&(this.hovering=e),this.hovering},n}),define("platform/features/plot/src/elements/PlotPanZoomStack",[],function(){"use strict";function e(e,t){this.stack=[{origin:e,dimensions:t}]}return e.prototype.getDepth=function(){return this.stack.length},e.prototype.pushPanZoom=function(e,t){this.stack.push({origin:e,dimensions:t})},e.prototype.popPanZoom=function(){this.stack.length>1&&this.stack.pop()},e.prototype.setBasePanZoom=function(e,t){this.stack[0]={origin:e,dimensions:t}},e.prototype.clearPanZoom=function(){this.stack=[this.stack[0]]},e.prototype.getPanZoom=function(){return this.stack[this.stack.length-1]},e.prototype.getOrigin=function(){return this.getPanZoom().origin},e.prototype.getDimensions=function(){return this.getPanZoom().dimensions},e}),define("platform/features/plot/src/modes/PlotOverlayMode",["../SubPlot","../elements/PlotPalette","../elements/PlotPanZoomStack"],function(e,t,n){"use strict";function i(e,t){this.panZoomStack=new n([],[]),this.subplot=t.createSubPlot(e,this.panZoomStack),this.subplots=[this.subplot]}return i.prototype.plotTelemetry=function(e){this.panZoomStack.setBasePanZoom(e.getOrigin(),e.getDimensions()),this.subplot.setDomainOffset(e.getDomainOffset()),this.subplot.getDrawingObject().lines=e.getLineBuffers().map(function(e,n){return{buffer:e.getBuffer(),color:t.getFloatColor(n),points:e.getLength()}})},i.prototype.getSubPlots=function(){return this.subplots},i.prototype.isZoomed=function(){return this.panZoomStack.getDepth()>1},i.prototype.stepBackPanZoom=function(){this.panZoomStack.popPanZoom(),this.subplot.update()},i.prototype.unzoom=function(){this.panZoomStack.clearPanZoom(),this.subplot.update()},i}),define("platform/features/plot/src/elements/PlotPanZoomStackGroup",["./PlotPanZoomStack"],function(e){"use strict";function t(t){function n(e,t,n){r.stacks.forEach(function(i,r){r===n?i.pushPanZoom(e,t):i.pushPanZoom([e[0],i.getOrigin()[1]],[t[0],i.getDimensions()[1]])})}function i(e,t){var i=Object.create(e);return i.pushPanZoom=function(e,i){n(e,i,t)},i.setBasePanZoom=function(){r.setBasePanZoom.apply(r,arguments)},i.popPanZoom=function(){r.popPanZoom.apply(r,arguments)},i.clearPanZoom=function(){r.clearPanZoom.apply(r,arguments)},i}var r=this;for(this.stacks=[];this.stacks.length<t;)this.stacks.push(new e([],[]));this.decoratedStacks=this.stacks.map(i)}return t.prototype.popPanZoom=function(){this.stacks.forEach(function(e){e.popPanZoom()})},t.prototype.setBasePanZoom=function(e,t){this.stacks.forEach(function(n){n.setBasePanZoom(e,t)})},t.prototype.clearPanZoom=function(){this.stacks.forEach(function(e){e.clearPanZoom()})},t.prototype.getDepth=function(){return this.stacks.length>0?this.stacks[0].getDepth():0},t.prototype.getPanZoomStack=function(e){return this.decoratedStacks[e]},t}),define("platform/features/plot/src/modes/PlotStackMode",["../SubPlot","../elements/PlotPalette","../elements/PlotPanZoomStackGroup"],function(e,t,n){"use strict";function i(e,t){var i=this;this.panZoomStackGroup=new n(e.length),this.subplots=e.map(function(e,n){return t.createSubPlot([e],i.panZoomStackGroup.getPanZoomStack(n))})}return i.prototype.plotTelemetryTo=function(e,n,i){var r=n.getLineBuffers()[i];e.setDomainOffset(n.getDomainOffset()),e.getDrawingObject().lines=[{buffer:r.getBuffer(),color:t.getFloatColor(0),points:r.getLength()}]},i.prototype.plotTelemetry=function(e){var t=this;this.panZoomStackGroup.setBasePanZoom(e.getOrigin(),e.getDimensions()),this.subplots.forEach(function(n,i){t.plotTelemetryTo(n,e,i)})},i.prototype.getSubPlots=function(){return this.subplots},i.prototype.isZoomed=function(){return this.panZoomStackGroup.getDepth()>1},i.prototype.stepBackPanZoom=function(){this.panZoomStackGroup.popPanZoom(),this.subplots.forEach(function(e){e.update()})},i.prototype.unzoom=function(){this.panZoomStackGroup.clearPanZoom(),this.subplots.forEach(function(e){e.update()})},i}),define("platform/features/plot/src/modes/PlotModeOptions",["./PlotOverlayMode","./PlotStackMode"],function(e,t){"use strict";function n(e,t){this.options=e.length>1?[r,i]:[r],this.mode=this.options[0],this.telemetryObjects=e,this.subPlotFactory=t}var i={key:"stacked",name:"Stacked",glyph:"m",Constructor:t},r={key:"overlaid",name:"Overlaid",glyph:"6",Constructor:e};return n.prototype.getModeHandler=function(){return this.modeHandler||(this.modeHandler=new this.mode.Constructor(this.telemetryObjects,this.subPlotFactory)),this.modeHandler},n.prototype.getModeOptions=function(){return this.options},n.prototype.getMode=function(){return this.mode},n.prototype.setMode=function(e){this.mode!==e&&(this.mode=e,this.modeHandler=void 0)},n}),define("platform/features/plot/src/SubPlotFactory",["./SubPlot"],function(e){"use strict";function t(e){this.telemetryFormatter=e}return t.prototype.createSubPlot=function(t,n){return new e(t,n,this.telemetryFormatter)},t}),define("platform/features/plot/src/PlotController",["./elements/PlotUpdater","./elements/PlotPalette","./elements/PlotAxis","./elements/PlotLimitTracker","./elements/PlotTelemetryFormatter","./modes/PlotModeOptions","./SubPlotFactory"],function(e,t,n,i,r,o,s){"use strict";function a(t,a,l,u,d){function p(e){t.axes.forEach(function(t){t.updateMetadata(e)})}function f(e){e.update()}function h(e){P!==e&&(P=e,j.modeOptions=new o(e||[],R))}function m(e){var t=e.start,n=e.end;I&&(I.setDomainBounds(t,n),j.update()),M=e}function g(){var n=t.axes[0].active.key,r=t.axes[1].active.key,o=d;I=new e(N,n,r,o),L=n,E=r,j.limitTracker=new i(N,r),M&&m(M)}function y(){return I||g(),I}function v(){j.pending=!1,N&&(h(N.getTelemetryObjects()),p(N.getMetadata()),y().update(),j.modeOptions.getModeHandler().plotTelemetry(I),j.limitTracker.update(),j.update())}function b(e,t){j.pending=!1,y().addHistorical(e,t),j.modeOptions.getModeHandler().plotTelemetry(I),j.update()}function w(){N&&N.request({},b)}function S(){N&&(I=void 0,w())}function $(e){N&&N.unsubscribe(),N=e&&l.handle(e,v,!0),S()}function C(){N&&(N.unsubscribe(),N=void 0)}function O(){j.pending=!0,C(),$(t.domainObject)}function x(){var e=t.axes[0];D.setDomainFormat(e.active.format)}function T(e){e!==L&&(x(),O())}function k(e){e!==E&&O()}function A(e,n){var i=t.axes[0];i.chooseOption(n.domain),x(),m(n),O()}var I,M,E,L,N,j=this,D=new r(a),R=new s(D),P=[];this.modeOptions=new o([],R),this.updateValues=v,this.scheduleUpdate=u(function(){j.modeOptions.getModeHandler().getSubPlots().forEach(f)}),j.pending=!0,t.axes=[new n("domains",[],c[0]),new n("ranges",[],c[1])],t.$watch("axes[0].active.key",T),t.$watch("axes[1].active.key",k),t.$watch("domainObject",$),t.$on("telemetry:display:bounds",A),t.$on("$destroy",C)}var c=[{name:"Time"},{name:"Value"}];return a.prototype.getColor=function(e){return t.getStringColor(e)},a.prototype.isZoomed=function(){return this.modeOptions.getModeHandler().isZoomed()},a.prototype.stepBackPanZoom=function(){return this.modeOptions.getModeHandler().stepBackPanZoom()},a.prototype.unzoom=function(){return this.modeOptions.getModeHandler().unzoom()},a.prototype.getModeOptions=function(){return this.modeOptions.getModeOptions()},a.prototype.getMode=function(){return this.modeOptions.getMode()},a.prototype.setMode=function(e){this.modeOptions.setMode(e),this.updateValues()},a.prototype.getSubPlots=function(){return this.modeOptions.getModeHandler().getSubPlots()},a.prototype.getLegendClass=function(e){return this.limitTracker&&this.limitTracker.getLegendClass(e)},a.prototype.update=function(){this.scheduleUpdate()},a.prototype.isRequestPending=function(){return this.pending},a}),define("platform/features/plot/src/policies/PlotViewPolicy",[],function(){"use strict";function e(){}function t(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},i=n.ranges||[];return 0===i.length||i.some(function(e){return void 0===e.format||"number"===e.format})}return e.prototype.allow=function(e,n){return"plot"===e.key?t(n):!0},e}),define("platform/features/plot/src/PlotOptionsForm",[],function(){"use strict";function e(){this.xAxisForm={name:"x-axis",sections:[{name:"x-axis",rows:[{name:"Domain",control:"select",key:"key",options:[{name:"SCET",value:"scet"},{name:"SCLK",value:"sclk"},{name:"LST",value:"lst"}]}]}]},this.yAxisForm={name:"y-axis",sections:[{name:"y-axis",rows:[{name:"Range",control:"select",key:"key",options:[{name:"EU",value:"eu"},{name:"DN",value:"dn"},{name:"Status",value:"status"}]},{name:"Autoscale",control:"checkbox",key:"autoscale"},{name:"Min",control:"textfield",key:"min",pattern:"[0-9]",inputsize:"sm"},{name:"Max",control:"textfield",key:"max",pattern:"[0-9]",inputsize:"sm"}]}]},this.plotSeriesForm={name:"Series Options",sections:[{rows:[{name:"Color",control:"color",key:"color"}]},{rows:[{name:"Markers",control:"checkbox",key:"markers",layout:"control-first"}]},{rows:[{name:"No Line",control:"radio",key:"lineType",value:"noLine",layout:"control-first"},{name:"Step Line",control:"radio",key:"lineType",value:"stepLine",layout:"control-first"},{name:"Linear Line",control:"radio",key:"lineType",value:"linearLine",layout:"control-first"}]}]}}return e}),define("platform/features/plot/src/PlotOptionsController",["./PlotOptionsForm"],function(e){"use strict";function t(t){var n=this;this.$scope=t,this.domainObject=t.domainObject,this.configuration=this.domainObject.getModel().configuration||{},this.plotOptionsForm=new e,this.composition=[],this.watches=[],this.mutationListener=this.domainObject.getCapability("mutation").listen(function(e){n.hasCompositionChanged(n.composition,e.composition)&&n.updateChildren()}),t.plotSeriesForm=this.plotOptionsForm.plotSeriesForm,t.xAxisForm=this.plotOptionsForm.xAxisForm,t.yAxisForm=this.plotOptionsForm.yAxisForm,t.$on("$destroy",function(){n.mutationListener()}),this.defaultConfiguration(),this.updateChildren(),t.$watchCollection("configuration.plot.yAxis",function(e,t){n.updateConfiguration(e,t)}),t.$watchCollection("configuration.plot.xAxis",function(e,t){n.updateConfiguration(e,t)}),this.watchSeries()}return t.prototype.clearSeriesWatches=function(){this.watches.forEach(function(e){e()}),this.watches=[]},t.prototype.watchSeries=function(){var e=this;this.clearSeriesWatches(),(e.$scope.children||[]).forEach(function(t,n){e.watches.push(e.$scope.$watchCollection("configuration.plot.series["+n+"]",function(t,n){e.updateConfiguration(t,n)}))})},t.prototype.hasCompositionChanged=function(e,t){var n=e===t||e.length===t.length&&e.every(function(e,n){return t[n]&&e===t[n]});return!n},t.prototype.defaultConfiguration=function(){this.configuration.plot=this.configuration.plot||{},this.configuration.plot.xAxis=this.configuration.plot.xAxis||{},this.configuration.plot.yAxis=this.configuration.plot.yAxis||{},this.configuration.plot.series=this.configuration.plot.series||[],this.$scope.configuration=this.configuration},t.prototype.updateChildren=function(){var e=this;this.domainObject.useCapability("composition").then(function(t){e.$scope.children=t,e.composition=e.domainObject.getModel().composition,t.forEach(function(t,n){e.configuration.plot.series[n]=e.configuration.plot.series[n]||{id:t.getId()}}),e.watchSeries()})},t.prototype.updateConfiguration=function(){var e=this;this.domainObject.useCapability("mutation",function(t){t.configuration=t.configuration||{},t.configuration.plot=e.configuration.plot})},t}),define("text!platform/features/plot/res/templates/plot.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="PlotController as plot"\n      class="abs holder holder-plot">\n    <div class="gl-plot"\n         ng-style="{ height: 100 / plot.getSubPlots().length + \'%\'}"\n         ng-repeat="subplot in plot.getSubPlots()">\n        <div class="gl-plot-legend">\n            <!-- ng-class is temporarily hard-coded in next element -->\n            <span\n                class=\'plot-legend-item\'\n                ng-repeat="telemetryObject in subplot.getTelemetryObjects()"\n                ng-class="plot.getLegendClass(telemetryObject)">\n                <span class=\'plot-color-swatch\'\n                      ng-style="{ \'background-color\': plot.getColor($index) }">\n                </span>\n                <span class=\'title-label\'>{{telemetryObject.getModel().name}}</span>\n            </span>\n        </div>\n        <div class="gl-plot-coords"\n            ng-if="subplot.isHovering() && subplot.getHoverCoordinates()">\n            {{subplot.getHoverCoordinates()}}\n        </div>\n        <div class="gl-plot-axis-area gl-plot-y">\n            <div class="gl-plot-label gl-plot-y-label">\n                {{axes[1].active.name}}\n            </div>\n            <div ng-repeat="tick in subplot.getRangeTicks()"\n                 class="gl-plot-tick gl-plot-y-tick-label"\n                 ng-style="{ bottom: (100 * $index / (subplot.getRangeTicks().length - 1)) + \'%\' }">\n                {{tick.label | reverse}}\n            </div>\n            <div class="gl-plot-y-options gl-plot-local-controls"\n                 ng-if="axes[1].options.length > 1">\n                <div class=\'form-control shell select\'>\n                    <select class="form-control input shell"\n                            ng-model="axes[1].active"\n                            ng-options="option.name for option in axes[1].options">\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class="gl-plot-display-area"\n             ng-mouseenter="subplot.isHovering(true);"\n             ng-mouseleave="subplot.isHovering(false)"\n             ng-class="{ loading: plot.isRequestPending() }">\n            <!-- Out-of-bounds data indicators -->\n            <!-- ng-show is temporarily hard-coded in next element -->\n            <div ng-show="false" class="l-oob-data l-oob-data-up"></div>\n            <div ng-show="false" class="l-oob-data l-oob-data-dwn"></div>\n            <div class="gl-plot-hash hash-v"\n                 ng-repeat="tick in subplot.getDomainTicks()"\n                 ng-style="{ left: (100 * $index / (subplot.getDomainTicks().length - 1)) + \'%\', height: \'100%\' }"\n                 ng-show="$index > 0 && $index < (subplot.getDomainTicks().length - 1)">\n            </div>\n            <div class="gl-plot-hash hash-h"\n                 ng-repeat="tick in subplot.getRangeTicks()"\n                 ng-style="{ bottom: (100 * $index / (subplot.getRangeTicks().length - 1)) + \'%\', width: \'100%\' }"\n                 ng-show="$index > 0 && $index < (subplot.getRangeTicks().length - 1)">\n            </div>\n            <mct-chart draw="subplot.getDrawingObject()"\n                       ng-if="subplot.getTelemetryObjects().length > 0"\n                       ng-mousemove="subplot.hover($event)"\n                       mct-drag="subplot.continueDrag($event)"\n                       mct-drag-down="subplot.startDrag($event)"\n                       mct-drag-up="subplot.endDrag($event); plot.update()">\n            </mct-chart>\n            <!-- TODO: Move into correct position; make part of group; infer from set of actions -->\n            <div class="l-local-controls gl-plot-local-controls t-plot-display-controls"\n                 ng-if="$first">\n                <a class="s-btn"\n                   ng-click="plot.stepBackPanZoom()"\n                   ng-show="plot.isZoomed()"\n                   title="Restore previous pan/zoom">\n                    <span class="ui-symbol icon">&lt;</span>\n                </a>\n                <a class="s-btn"\n                   ng-click="plot.unzoom()"\n                   ng-show="plot.isZoomed()"\n                   title="Reset pan/zoom">\n                    <span class="ui-symbol icon">I</span>\n                </a>\n                <div class="menu-element s-menu-btn menus-to-left"\n                     ng-if="plot.getModeOptions().length > 1"\n                     ng-controller="ClickAwayController as toggle">\n                    <span class="l-click-area" ng-click="toggle.toggle()"></span>\n                    <span class="ui-symbol icon type-icon">{{plot.getMode().glyph}}</span>\n                    <span>{{plot.getMode().name}}</span>\n                    <div class="menu" ng-show="toggle.isActive()">\n                        <ul>\n                            <li ng-repeat="option in plot.getModeOptions()">\n                                <a href="" ng-click="plot.setMode(option); toggle.setState(false)">\n                                    <span class="ui-symbol type-icon icon">\n                                        {{option.glyph}}\n                                    </span>\n                                    {{option.name}}\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div ng-if="$last" class="gl-plot-axis-area gl-plot-x">\n            <div ng-repeat="tick in subplot.getDomainTicks()"\n                 class="gl-plot-tick gl-plot-x-tick-label"\n                 ng-show="$index > 0 && $index < (subplot.getDomainTicks().length - 1)"\n                 ng-style="{ left: (100 * $index / (subplot.getDomainTicks().length - 1)) + \'%\' }">\n                {{tick.label | reverse}}\n            </div>\n            <div class="gl-plot-label gl-plot-x-label">\n                {{axes[0].active.name}}\n            </div>\n            <div class="gl-plot-x-options gl-plot-local-controls"\n                 ng-if="axes[0].options.length > 1">\n                <div class=\'form-control shell select\'>\n                    <select class="form-control input shell"\n                            ng-model="axes[0].active"\n                            ng-options="option.name for option in axes[0].options">\n                    </select>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</span>\n';
}),define("text!platform/features/plot/res/templates/plot-options-browse.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div ng-controller="PlotOptionsController" class="flex-elem grows l-inspector-part">\n    <em class="t-inspector-part-header" title="Display properties for this object">Plot Options</em>\n    <mct-form\n            ng-model="configuration.plot.xAxis"\n            structure="xAxisForm"\n            name="xAxisFormState"\n            class="flex-elem l-flex-row no-validate no-margin">\n    </mct-form>\n    <mct-form\n            ng-model="configuration.plot.yAxis"\n            structure="yAxisForm"\n            name="yAxisFormState"\n            class="flex-elem l-flex-row no-validate no-margin">\n    </mct-form>\n    <div class="form">\n        <div class="section-header ng-binding ng-scope">\n            Plot Series\n        </div>\n        <ul class="first flex-elem grows vscroll">\n            <ul class="tree">\n                <li ng-repeat="child in children">\n                    <span ng-controller="ToggleController as toggle">\n                        <span ng-controller="TreeNodeController as treeNode">\n                            <span class="tree-item menus-to-left">\n                                <span\n                                    class=\'ui-symbol view-control flex-elem has-children\'\n                                    ng-class="{ expanded: toggle.isActive() }"\n                                    ng-click="toggle.toggle(); treeNode.trackExpansion()">\n                                </span>\n                                <mct-representation\n                                    class="rep-object-label"\n                                    key="\'label\'"\n                                    mct-object="child">\n                                </mct-representation>\n                            </span>\n                        </span>\n                        <mct-form\n                            ng-class="{hidden: !toggle.isActive()}"\n                            ng-model="configuration.plot.series[$index]"\n                            structure="plotSeriesForm"\n                            name="plotOptionsState"\n                            class="flex-elem l-flex-row no-validate">\n                        </mct-form>\n                    </span>\n                </li>\n            </ul>\n        </ul>\n    </div>\n</div>'}),define("platform/features/plot/bundle",["./src/MCTChart","./src/PlotController","./src/policies/PlotViewPolicy","./src/PlotOptionsController","text!./res/templates/plot.html","text!./res/templates/plot-options-browse.html","legacyRegistry"],function(e,t,n,i,r,o,s){"use strict";s.register("platform/features/plot",{name:"Plot view for telemetry",extensions:{views:[{name:"Plot",key:"plot",glyph:"6",template:r,needs:["telemetry"],priority:"preferred",delegation:!0}],directives:[{key:"mctChart",implementation:e,depends:["$interval","$log"]}],controllers:[{key:"PlotController",implementation:t,depends:["$scope","telemetryFormatter","telemetryHandler","throttle","PLOT_FIXED_DURATION"]},{key:"PlotOptionsController",implementation:i,depends:["$scope"]}],constants:[{key:"PLOT_FIXED_DURATION",value:9e5,priority:"fallback",comment:"Fifteen minutes."}],policies:[{category:"view",implementation:n}],representations:[{key:"plot-options-browse",template:o}]}})}),define("platform/features/timeline/src/actions/TimelineTraverser",[],function(){"use strict";function e(e){this.domainObject=e}return e.prototype.buildObjectList=function(){function e(i){function r(){return i.useCapability("composition").then(function(t){return Promise.all(t.map(e))})}function o(){var t=i.getCapability("relationship");t.getRelatedObjects("modes").then(function(t){return Promise.all(t.map(e))})}var s=i.getId(),a=[];return t[s]||(t[s]=!0,n.push(i),i.hasCapability("composition")&&a.push(r()),i.hasCapability("relationship")&&a.push(o())),Promise.all(a)}var t={},n=[];return e(this.domainObject).then(function(){return n})},e}),define("platform/features/timeline/src/actions/IdColumn",[],function(){"use strict";function e(){}return e.prototype.name=function(){return"Identifier"},e.prototype.value=function(e){return e.getId()},e}),define("platform/features/timeline/src/actions/ModeColumn",[],function(){"use strict";function e(e){this.index=e}return e.prototype.name=function(){return"Activity Mode "+(this.index+1)},e.prototype.value=function(e){var t=e.getModel(),n=(t.relationships||{}).modes||[];return n[this.index]||""},e}),define("platform/features/timeline/src/actions/CompositionColumn",[],function(){"use strict";function e(e){this.index=e}return e.prototype.name=function(){return"Child "+(this.index+1)},e.prototype.value=function(e){var t=e.getModel(),n=t.composition||[];return n[this.index]||""},e}),define("platform/features/timeline/src/actions/MetadataColumn",[],function(){"use strict";function e(e){this.propertyName=e}return e.prototype.name=function(){return this.propertyName},e.prototype.value=function(e){var t=e.useCapability("metadata"),n=this.propertyName;return t.reduce(function(e,t){return t.name===n?t.value:e},"")},e}),define("platform/features/timeline/src/TimelineFormatter",[],function(){"use strict";function e(){function e(e,t){for(var n=e.toString(10);n.length<t;)n="0"+n;return n}function o(o){var s=Math.floor(o/r),a=Math.floor(o/i)%24,c=Math.floor(o/n)%60,l=Math.floor(o/t)%60,u=Math.floor(o)%1e3;return e(s,3)+" "+e(a,2)+":"+e(c,2)+":"+e(l,2)+"."+e(u,3)}return{format:o}}var t=1e3,n=60*t,i=60*n,r=24*i;return e}),define("platform/features/timeline/src/actions/TimespanColumn",["../TimelineFormatter"],function(e){"use strict";function t(e){this.isStart=e}var n=new e;return t.prototype.name=function(){return this.isStart?"Start":"End"},t.prototype.value=function(e){var t=this.isStart;return e.hasCapability("timespan")?e.useCapability("timespan").then(function(e){return n.format(t?e.getStart():e.getEnd())}):""},t}),define("platform/features/timeline/src/actions/TimelineColumnizer",["./IdColumn","./ModeColumn","./CompositionColumn","./MetadataColumn","./TimespanColumn"],function(e,t,n,i,r){"use strict";function o(o){function s(e){var t=e.name;u[t]||(u[t]=!0,d.push(new i(t)))}var a,c=0,l=0,u={},d=[],p=!1;for(d.push(new e),o.forEach(function(e){var t=e.getModel(),n=t.composition,i=t.relationships,r=i&&i.modes,o=e.useCapability("metadata");n&&(c=Math.max(c,n.length)),r&&(l=Math.max(l,r.length)),e.hasCapability("timespan")&&(p=!0),o&&o.forEach(s)}),p&&(d.push(new r(!0)),d.push(new r(!1))),a=0;c>a;a+=1)d.push(new n(a));for(a=0;l>a;a+=1)d.push(new t(a));this.domainObjects=o,this.columns=d}return o.prototype.rows=function(){function e(e){return Promise.all(t.map(function(t){return t.value(e)}))}var t=this.columns;return Promise.all(this.domainObjects.map(e))},o.prototype.headers=function(){return this.columns.map(function(e){return e.name()})},o}),define("platform/features/timeline/src/actions/ExportTimelineAsCSVTask",["./TimelineTraverser","./TimelineColumnizer"],function(e,t){"use strict";function n(e,t){this.domainObject=t,this.exportService=e}return n.prototype.run=function(){function n(e){var n=new t(e),r={headers:n.headers()};return n.rows().then(function(e){return i.exportCSV(e,r)})}var i=this.exportService;return new e(this.domainObject).buildObjectList().then(n)},n}),define("platform/features/timeline/src/actions/ExportTimelineAsCSVAction",["./ExportTimelineAsCSVTask"],function(e){"use strict";function t(t,n,i){this.task=new e(t,i.domainObject),this.notificationService=n}return t.prototype.perform=function(){var e=this.notificationService,t=e.notify({title:"Exporting CSV",unknownProgress:!0});return this.task.run().then(function(){t.dismiss()})["catch"](function(){t.dismiss(),e.error("Error exporting CSV")})},t.appliesTo=function(e){return e.domainObject&&e.domainObject.hasCapability("type")&&e.domainObject.getCapability("type").instanceOf("timeline")},t}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlane",[],function(){"use strict";function e(e,t,n,i,r){var o,s=e.getId(),a=!1,c=!1,l=(i?i.idPath:[]).concat([e.getId()]),u=i?i.depth+1:0,d=i&&i.parent?i.path+i.domainObject.getModel().name+" > ":"";return e.useCapability("timespan").then(function(e){o=e}),{visible:function(){return!i||i.expanded&&i.visible()},properties:function(){return e.getCapability("action").perform("properties")},toggleGraph:function(){n.graph=n.graph||{},n.graph[s]=!n.graph[s],t[n.graph[s]?"assign":"release"](s)},graph:function(e){return arguments.length>0&&(n.graph=n.graph||{},n.graph[s]=!!e,t[e?"assign":"release"](s)),(n.graph||{})[s]},color:function(e){return arguments.length>0&&t.assign(s,e),t.get(s)},highlight:function(e){return arguments.length>0&&(a=e),a},highlightBottom:function(e){return arguments.length>0&&(c=e),c},exceeded:function(){var e=i&&i.timespan();return o&&e&&(o.getStart()<e.getStart()||o.getEnd()>e.getEnd())},timespan:function(){return o},domainObject:e,expanded:!0,depth:u,path:d,id:s,idPath:l,parent:i,index:r,children:[]}}return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlaneDropHandler",[],function(){"use strict";function e(e){function t(e){return e&&e.then?e:{then:function(n){return t(n(e))}}}function n(){return e.domainObject.hasCapability("editor")}function i(e,t){return e||t}function r(e,t){function n(e){return e===t}return e.idPath.map(n).reduce(i,!1)}function o(e,t){function n(e){return e.domainObject.getId()===t}return e.children.map(n).reduce(i,!1)}function s(e,n){return t(e.useCapability("mutation",n)).then(function(){var t=e.getCapability("persistence");t&&t.persist()})}function a(){return e.expanded&&e.children.length>0}function c(){return e.highlight()||a()}function l(e,t){var n=t.getCapability("context"),i=n&&n.getParent(),r=i&&i.getId();return e.getId()===r}function u(e,t){var n=e.getCapability("action"),i=t.hasCapability("editor")?"move":"link";return n&&n.getActions({key:i,selectedObject:t})[0]}function d(e,t,n){return Math.max(Math.min((n||[]).indexOf(e)+t,(n||[]).length),0)}function p(t,n,i){var r=e.domainObject.getId();return s(n,function(e){e.composition=e.composition.filter(function(e){return e!==t}),e.composition.splice(d(r,i,e.composition),0,t)})}function f(e,t){return l(e,t)||!!u(e,t)}function h(e,t,n){function i(){var i=e.getId();return p(i,t,n)}return l(t,e)?i():u(t,e).perform().then(i)}return{allowDropIn:function(t,i){return n()&&!r(e,t)&&!o(e,t)&&f(e.domainObject,i)},allowDropAfter:function(t,i){var o=a()?e:e.parent;return n()&&o&&!r(o,t)&&f(o.domainObject,i)},drop:function(t,n){var i=c(),r=i?e.domainObject:e.parent.domainObject,o=i?e.expanded&&e.highlightBottom()?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:1;return e.highlight()||e.highlightBottom()?h(n,r,o):void 0}}}return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlaneDecorator",["./TimelineSwimlaneDropHandler"],function(e){"use strict";function t(t,i){function r(e){return arguments.length>0&&Array.isArray(e)&&(u.relationships||{})[n]!==e&&d.mutate(function(t){t.relationships=t.relationships||{},t.relationships[n]=e}).then(p.persist),(u.relationships||{})[n]||[]}function o(e){return arguments.length>0&&"string"==typeof e&&e!==u.link&&d.mutate(function(t){t.link=e}).then(p.persist),u.link}function s(){return l.getCapability("action").perform("remove")}function a(){i.select(t)}function c(){return i.get()===t}var l=t&&t.domainObject,u=l&&l.getModel()||{},d=l&&l.getCapability("mutation"),p=l&&l.getCapability("persistence"),f=l&&l.getCapability("type"),h=new e(t);return f&&f.instanceOf("activity")&&d&&p&&(t.modes=r,t.link=o),t.parent&&(t.remove=s),i&&(t.select=a,t.selected=c),t.allowDropIn=h.allowDropIn,t.allowDropAfter=h.allowDropAfter,t.drop=h.drop,t}var n="modes";return t}),define("platform/features/timeline/src/controllers/swimlane/TimelineColorAssigner",[],function(){"use strict";function e(e){function i(){var i,r={};return Object.keys(e).forEach(function(t){r[e[t]]=!0}),t.forEach(function(e){i=r[e]||i?i:e}),i||n}return{get:function(t){return e[t]},assign:function(t,n){e[t]="string"==typeof n?n:i()},release:function(t){delete e[t]}}}var t=["#20b2aa","#9acd32","#ff8c00","#d2b48c","#40e0d0","#4169ff","#ffd700","#6a5acd","#ee82ee","#cc9966","#99cccc","#66cc33","#ffcc00","#ff6633","#cc66ff","#ff0066","#ffff00","#800080","#00868b","#008a00","#ff0000","#0000ff","#f5deb3","#bc8f8f","#4682b4","#ffafaf","#43cd80","#cdc1c5","#a0522d","#6495ed"],n="#000000";return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineProxy",[],function(){"use strict";function e(e,t){function n(e){var t=e.getCapability("action"),n=t?t.getActions("add"):[];n.forEach(function(e){r[e.getMetadata().type]=e})}function i(){var i=t&&t.get(),r=i&&i.domainObject;n(r||e)}var r={};return n(e),{add:function(e){return i(),r[e]?r[e].perform():void 0}}}return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlanePopulator",["./TimelineSwimlane","./TimelineSwimlaneDecorator","./TimelineColorAssigner","./TimelineProxy"],function(e,t,n,i){"use strict";function r(r,o,s){function a(e){e&&(h=Math.min(h,e.getStart()),m=Math.max(m,e.getEnd()))}function c(n,i,r){function l(e,t){c(e,u,t)}var u,d=n.domainObject;d&&(u=new t(new e(d,y,o,i,r||0),s),d.useCapability("timespan").then(a),f.push(u),((i||{}).children||[]).push(u),n.composition.forEach(l))}function l(e,t,n){var i=e[n||0];n=n||0,t.forEach(function(t){t.id===i&&(n<e.length-1?l(e,t.children,n+1):s.select(t))})}function u(e){function t(e){var t=s&&s.get(),n=t&&t.idPath;f=[],c(e),n&&f.length>0&&l(n,[f[0]])}e?r.load(e,"timespan").then(t):t({}),s&&s.proxy(e&&new i(e,s)),p=e}function d(e){s=e,u(p)}var p,f=[],h=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=o.colors||{},y=new n(g);return o.colors=g,{selection:d,populate:u,get:function(){return f},start:function(){return h},end:function(){return m}}}return r}),define("platform/features/timeline/src/controllers/graph/TimelineGraph",[],function(){"use strict";function e(e,t,n){function i(){return p>=f?f-1:p}function r(){return p>=f?p+1:f}function o(){p=d.map(function(e){return e.min}).reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY),f=d.map(function(e){return e.max}).reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY),p=p===Number.POSITIVE_INFINITY?f:p,p=p===Number.NEGATIVE_INFINITY?0:p,f=f===Number.NEGATIVE_INFINITY?p:f}function s(){l.lines=u.filter(function(e){return e.points>1}),l.origin[1]=i(),l.dimensions[1]=r()-i()}function a(e,t){var i,r=n.render(e),a=u[t],c=d[t];for(i=1;i<r.length;i+=2)c.min=Math.min(r[i],c.min),c.max=Math.max(r[i],c.max);a.buffer=r,a.points=e.getPointCount(),a.color=n.decode(h[t]),a.points>0&&o(),s()}function c(n,i){var r=t[n],o=r.useCapability("graph");o&&o.then(function(t){t[e]&&a(t[e],i)})}var l={origin:[0,0],dimensions:[0,0],modified:0},u=[],d=[],p=0,f=0,h=Object.keys(t);return u=h.map(function(){return{points:0}}),d=h.map(function(){return{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}}),h.forEach(c),{minimum:i,maximum:r,setBounds:function(e,t){l.origin=[e,l.origin[1]],l.dimensions=[t,l.dimensions[1]]},refresh:function(){h.forEach(c)},key:e,drawingObject:l}}return e}),define("platform/features/timeline/src/controllers/graph/TimelineGraphRenderer",[],function(){"use strict";function e(){return{render:function(e){var t,n=e.getPointCount(),i=new Float32Array(2*n);for(t=0;n>t;t+=1)i[2*t]=e.getDomainValue(t),i[2*t+1]=e.getRangeValue(t);return i},decode:function(e){return e=/^#[A-Fa-f0-9]{6}$/.test(e)?e:"#000000",[e.substring(1,3),e.substring(3,5),e.substring(5,7)].map(function(e){return parseInt(e,16)/255}).concat([1])}}}return e}),define("platform/features/timeline/src/controllers/graph/TimelineGraphPopulator",["./TimelineGraph","./TimelineGraphRenderer"],function(e,t){"use strict";function n(n){function i(e,t){return(e&&e.getId&&e.getId())===(t&&t.getId&&t.getId())}function r(e,t){function n(n){return n.map(function(n){return r(e[n],t[n])}).reduce(function(e,t){return e&&t},!0)}var o,s;return"function"==typeof(e&&e.getId)?i(e,t):(o=Object.keys(e||{}).sort(),s=Object.keys(t||{}).sort(),o.length===s.length&&n(o))}function o(t){function i(e){function t(e){return Object.keys(e)}var i=e.domainObject.useCapability("graph");return n.when(i?i.then(t):[])}function o(e){return i(e).then(function(t){t.forEach(function(t){p[t]=p[t]||{},p[t][e.color()]=e.domainObject})})}function l(t){return new e(t,p[t],c)}function u(e){return e.graph()&&e.domainObject.hasCapability("graph")}function d(){r(a,p)?s.forEach(function(e){e.refresh()}):(s=Object.keys(p).sort().map(l),a=p)}var p={};n.all(t.filter(u).map(o)).then(d)}var s=[],a={},c=new t;return{populate:o,get:function(){return s}}}return n}),define("platform/features/timeline/src/controllers/drag/TimelineDragHandler",[],function(){"use strict";function e(e,t){function n(e){return"string"!=typeof e&&e.getId?e.getId():e}function i(e){var t=e.getId(),n=e.useCapability("timespan");n&&n.then(function(n){s[t]=n,c[t]=e.getCapability("mutation"),a[t]=e.getCapability("persistence"),l[t]=e.getModel().composition||[]})}function r(e){i(e.domainObject),e.composition.forEach(r)}function o(e){var t=a[e],n=c[e];n&&n.mutate(function(){}),t&&t.persist()}var s={},a={},c={},l={},u={};return t.load(e,"timespan").then(r),{ids:function(){return Object.keys(s).sort()},persist:function(){Object.keys(u).forEach(o),u={}},start:function(e,t){var i=s[n(e)];return"number"==typeof t&&i&&(i.setStart(Math.min(Math.max(t,0),i.getEnd())),u[n(e)]=!0),i&&i.getStart()},end:function(e,t){var i=s[n(e)];return"number"==typeof t&&i&&(i.setEnd(Math.max(t,i.getStart())),u[n(e)]=!0),i&&i.getEnd()},duration:function(e,t){var i=s[n(e)];return"number"==typeof t&&i&&(i.setDuration(Math.max(t,0)),u[n(e)]=!0),i&&i.getDuration()},move:function(e,t){function i(e){var i,r,o=s[e];o&&(i=o.getStart(),r=o.getEnd(),o.setStart(i+t),o.setEnd(r+t),u[n(e)]=!0)}for(var r,o={},a=[n(e)];a.length>0;)e=a.shift(),o[e]||(o[e]=!0,a=a.concat(l[e]||[]));r=Object.keys(o).map(function(e){return s[e]?s[e].getStart():Number.POSITIVE_INFINITY}).reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY),t=Math.max(t,-r),0!==t&&Object.keys(o).forEach(i)}}}return e}),define("platform/features/timeline/src/controllers/drag/TimelineSnapHandler",[],function(){"use strict";function e(e){function t(t,n,i){function r(e){return e!==i}function o(e){var n=Math.abs(e-t);d>n&&(u=e,d=n)}function s(t){return e.start(t)}function a(t){return e.end(t)}var c,l,u=t,d=n;return c=e.ids().filter(r),l=c.map(s).concat(c.map(a)),l.forEach(o),u}return{snap:t}}return e}),define("platform/features/timeline/src/TimelineConstants",{HANDLE_WIDTH:32,SNAP_WIDTH:16}),define("platform/features/timeline/src/controllers/drag/TimelineStartHandle",["../../TimelineConstants"],function(e){"use strict";function t(t,n,i){function r(n,r){return i.snap(n,r.toMillis(e.SNAP_WIDTH),t)}var o;return{begin:function(){o=n.start(t)},drag:function(e,i){void 0!==o&&n.start(t,r(o+i.toMillis(e),i))},finish:function(){o=void 0,n.persist()},style:function(i){return{left:i.toPixels(n.start(t))+"px",width:e.HANDLE_WIDTH+"px"}}}}return t}),define("platform/features/timeline/src/controllers/drag/TimelineEndHandle",["../../TimelineConstants"],function(e){"use strict";function t(t,n,i){function r(n,r){return i.snap(n,r.toMillis(e.SNAP_WIDTH),t)}var o;return{begin:function(){o=n.end(t)},drag:function(e,i){void 0!==o&&n.end(t,r(o+i.toMillis(e),i))},finish:function(){o=void 0,n.persist()},style:function(i){return{left:i.toPixels(n.end(t))-e.HANDLE_WIDTH+"px",width:e.HANDLE_WIDTH+"px"}}}}return t}),define("platform/features/timeline/src/controllers/drag/TimelineMoveHandle",["../../TimelineConstants"],function(e){"use strict";function t(t,n,i){function r(n,r){return i.snap(n,r.toMillis(e.SNAP_WIDTH),t)}function o(e,i){var o=i.toMillis(e),c=s+o,l=a+o,u=r(c,i),d=r(l,i),p=Math.abs(u-c),f=Math.abs(d-l),h=!1;return h=p>0&&f>0?p>f:f>0,h?d-n.end(t):u-n.start(t)}var s,a;return{begin:function(){s=n.start(t),a=n.end(t)},drag:function(e,i){void 0!==s&&void 0!==a&&0!==e&&n.move(t,o(e,i))},finish:function(){s=void 0,a=void 0,n.persist()},style:function(i){return{left:i.toPixels(n.start(t))+e.HANDLE_WIDTH+"px",width:i.toPixels(n.duration(t))-2*e.HANDLE_WIDTH+"px"}}}}return t}),define("platform/features/timeline/src/controllers/drag/TimelineDragHandleFactory",["./TimelineStartHandle","./TimelineEndHandle","./TimelineMoveHandle"],function(e,t,n){"use strict";function i(e,t){return{handles:function(n){function i(n){return new n(a,e,t)}var s=n.getCapability("type"),a=n.getId();return(s&&s.instanceOf("timeline")?o:r).map(i)}}}var r=[e,n,t],o=[e,n];return i}),define("platform/features/timeline/src/controllers/drag/TimelineDragPopulator",["./TimelineDragHandler","./TimelineSnapHandler","./TimelineDragHandleFactory"],function(e,t,n){"use strict";function i(i){function r(){l=a&&c?a.handles(c):[]}function o(o){var s=o&&new e(o,i);a=s&&new n(s,new t(s)),r()}function s(e){c=e&&e.domainObject,r()}var a,c,l=[];return{get:function(){return l},populate:o,select:s}}return i}),define("platform/features/timeline/src/controllers/TimelineController",["./swimlane/TimelineSwimlanePopulator","./graph/TimelineGraphPopulator","./drag/TimelineDragPopulator"],function(e,t,n){"use strict";function i(i,r,o,s){function a(){var e=0;return f.get().forEach(function(t){e+=t.domainObject.getModel().modified||0}),e}function c(){var e=0,t=1;return f.get().forEach(function(n){e+=n.graph()?0:t,t*=2}),e}function l(){f.populate(i.domainObject),m.populate(i.domainObject),h.populate(f.get())}function u(){h.populate(f.get())}function d(e){var t=f.start(),n=f.end();return e.toPixels(e.duration(Math.max(n-t,s)))}function p(){h&&h.get().forEach(function(e){e.refresh()})}var f=new e(o,i.configuration||{},i.selection),h=new t(r),m=new n(o);return i.$watch("domainObject",f.populate),i.$watch(a,l),i.$watch(c,u),i.$watch("selection",f.selection),i.$watch("selection.get()",m.select),i.scroll={x:0,y:0},i.panes={},{width:d,swimlanes:f.get,graphs:h.get,handles:m.get,refresh:p}}return i}),define("platform/features/timeline/src/controllers/TimelineGraphController",[],function(){"use strict";function e(e,t){function n(e){var t=e.key;t&&!r[t]&&(r[t]=e)}function i(e){(e.graphs||[]).forEach(function(t){t.setBounds(e.origin,e.duration)})}var r={},o={};return t.forEach(n),e.$watchCollection("parameters",i),{label:function(e){var t=e.key,n=r[t]||{},i=n.name||"",s=n.units,a=e.minimum()||0,c=e.maximum()||0,l=o[t]||{};return o[t]=l,l.title=i+(s?" ("+s+")":""),l.low=a.toFixed(3),l.middle=((a+c)/2).toFixed(3),l.high=c.toFixed(3),l}}}return e}),define("platform/features/timeline/src/controllers/TimelineDateTimeController",[],function(){"use strict";function e(e){function t(t){var n,i=parseInt(t.days,10)||0,r=parseInt(t.hours,10)||0,o=parseInt(t.minutes,10)||0,s=parseInt(t.seconds,10)||0,a="SET";n=24*i,n=60*(r+n),n=60*(o+n),n=1e3*(s+n),e.ngModel[e.field]={timestamp:n,epoch:a}}function n(t){var n=(t||{}).timestamp||0,i=e.datetime;n=Math.floor(n/1e3),i.seconds=n%60,n=Math.floor(n/60),i.minutes=n%60,n=Math.floor(n/60),i.hours=n%24,n=Math.floor(n/24),i.days=n}function i(){return e.ngModel[e.field]}e.$watchCollection("datetime",t),e.$watchCollection(i,n),e.datetime={},n(i())}return e}),define("platform/features/timeline/src/controllers/TimelineZoomController",["../TimelineFormatter"],function(e){"use strict";function t(e,t){function n(e){var t=o[o.length-1];return e*=1.25,Math.ceil(e/t)*t}function i(e){isNaN(e)||(s=Math.min(Math.max(e,0),o.length-1))}function r(){var t=e.commit&&e.domainObject&&e.domainObject.hasCapability("editor");t&&(e.configuration=e.configuration||{},e.configuration.zoomLevel=s,e.commit())}var o=t.levels||[1e3],s=Math.floor(o.length/2),a=t.width||200,c=864e5;return e.$watch("configuration.zoomLevel",i),{zoom:function(e){return arguments.length>0&&!isNaN(e)&&(i(s+e),r(s)),o[s]},toPixels:function(e){return a*e/o[s]},toMillis:function(e){return e/a*o[s]},duration:function(e){return arguments.length>0&&(c=n(e)),c}}}new e;return t}),define("platform/features/timeline/src/controllers/TimelineTickController",["../TimelineFormatter"],function(e){"use strict";function t(){function e(e,t,i,r){for(var o,s=[];s.length<t;)o=e+i*s.length,s.push({left:o,text:n.format(r(o))});return s}function t(t,n,l,u){var d=Math.floor(t/l)*l,p=Math.ceil((t+n)/l)*l,f=(p-d)/l+1,h=u(d),m=u(p),g=i!==d||o!==f||r!==l||s!==h||a!==m;return g&&(c=e(d,f,l,u),i=d,o=f,r=l,s=h,a=m),c}var i,r,o,s,a,c=[];return{labels:t}}var n=new e;return t}),define("platform/features/timeline/src/controllers/TimelineTableController",["../TimelineFormatter"],function(e){"use strict";function t(){function e(e){return n.format(e)}return{niceTime:e}}var n=new e;return t}),define("platform/features/timeline/src/controllers/TimelineGanttController",[],function(){"use strict";function e(e){function t(t,n,i){return Math.max(i(t.getStart()),n.x-e)}function n(n,i,r){var o=t(n,i,r),s=Math.min(r(n.getEnd()),i.x+i.width+e);return s-o}return{left:t,width:n}}return e}),define("platform/features/timeline/src/controllers/ActivityModeValuesController",[],function(){"use strict";function e(e){function t(e){var t=(e||{}).key;t&&(n[t]=e)}var n={};return e.forEach(t),{metadata:function(e){return n[e]}}}return e}),define("platform/features/timeline/src/capabilities/ActivityTimespan",[],function(){"use strict";function e(e,t){function n(){return e.start.timestamp}function i(){return e.start.timestamp+e.duration.timestamp}function r(){return e.duration.timestamp}function o(){return e.start.epoch}function s(n){var r=i();t.mutate(function(e){e.start.timestamp=Math.max(n,0),e.duration.timestamp=Math.max(r-n,0)},e.modified)}function a(n){t.mutate(function(e){e.duration.timestamp=Math.max(n,0)},e.modified)}function c(i){var r=n();t.mutate(function(e){e.duration.timestamp=Math.max(i-r,0)},e.modified)}return{getStart:n,getDuration:r,getEnd:i,setStart:s,setDuration:a,setEnd:c,getEpoch:o}}return e}),define("platform/features/timeline/src/capabilities/ActivityTimespanCapability",["./ActivityTimespan"],function(e){"use strict";function t(t,n){function i(){return t.when(new e(n.getModel(),n.getCapability("mutation")))}return{invoke:i}}return t.appliesTo=function(e){return e&&"activity"===e.type},t}),define("platform/features/timeline/src/capabilities/TimelineTimespan",[],function(){"use strict";function e(e,t,n){function i(){return e.start.timestamp}function r(e){return e.getEnd()}function o(e,t){return Math.max(e,t)}function s(){return n.map(r).reduce(o,i())}function a(){return s()-i()}function c(n){t.mutate(function(e){e.start.timestamp=Math.max(n,0)},e.modified)}function l(e){}function u(e){}function d(){return e.start.epoch}return{getStart:i,getDuration:a,getEnd:s,setStart:c,setDuration:l,setEnd:u,getEpoch:d}}return e}),define("platform/features/timeline/src/capabilities/TimelineTimespanCapability",["./TimelineTimespan"],function(e){"use strict";function t(t,n){function i(e){return e.useCapability("timespan")}function r(e){return e.hasCapability("timespan")}function o(t){return new e(n.getModel(),n.getCapability("mutation"),t)}function s(e){return t.all(e.filter(r).map(i)).then(o)}function a(){return n.useCapability("composition").then(s)}return{invoke:a}}return t.appliesTo=function(e){return e&&"timeline"===e.type},t}),define("platform/features/timeline/src/capabilities/UtilizationCapability",[],function(){"use strict";function e(e,t){function n(e,t){return(e||[]).concat(t||[])}function i(e,t,n){return 0===t||n[t-1]!==e}function r(e){return e.filter(i)}function o(e){return e.sort()}function s(e){return e.reduce(n,[])}function a(){return e.when(t.useCapability("composition")||[])}function c(){var n=t.getCapability("relationship"),i=n&&n.getRelatedObjects("modes");return e.when(i||[])}function l(){function e(e){var t=e.getCapability("cost");t&&t.resources().forEach(function(e){o[e]=o[e]||0,o[e]+=t.cost(e)})}function n(t){t.forEach(e)}function i(){return t.useCapability("timespan")}function r(e){return Object.keys(o).sort().map(function(t){return{key:t,value:o[t],start:e.getStart(),end:e.getEnd(),epoch:e.getEpoch()}})}var o={};return c().then(n).then(i).then(r)}function u(e){return e.useCapability("utilization")}function d(e){var t=e.getCapability("utilization");return t&&t.resources()}function p(t){return e.all(t.map(u)).then(s)}function f(t){return e.all(t.map(d)).then(s)}function h(){return a().then(p)}function m(e){var t=e.getCapability("cost");return t?t.resources():[]}function g(e){return e.map(m)}function y(){return c().then(g).then(s)}function v(){return a().then(f)}function b(){return e.all([y(),v()]).then(s).then(o).then(r)}function w(){return e.all([l(),h()]).then(s)}return{resources:b,invoke:w}}return e.appliesTo=function(e){return e&&("timeline"===e.type||"activity"===e.type)},e}),define("platform/features/timeline/src/capabilities/ResourceGraph",[],function(){"use strict";function e(e,t){return e.slice().sort(function(e,n){return e[t]-n[t]})}function t(t){function n(e,t,n){return 0===t||t===n.length-1||e.domain!==n[t-1].domain||e.domain!==n[t+1].domain}function i(e,t){l.push({domain:e,range:u}),u+=t,l.push({domain:e,range:u})}function r(){var e=a.shift();i(e.start,e.value)}function o(){var e=c.shift();i(e.end,-e.value)}function s(){return c.length<1||a.length>0&&a[0].start<=c[0].end}for(var a=e(t,"start"),c=e(t,"end"),l=[],u=0;a.length>0||c.length>0;)(s()?r:o)();return l=l.filter(n),{getPointCount:function(){return l.length},getDomainValue:function(e){return l[e].domain},getRangeValue:function(e){return l[e].range}}}return t}),define("platform/features/timeline/src/capabilities/CumulativeGraph",[],function(){"use strict";function e(e,t,n,i,r){function o(e,t,n,i){return e+(i-t)/n}function s(){function s(e,i){var s=c[c.length-1],a=e-s.domain,u=a*l*r,d=s.range+u;t>d&&(c.push({domain:o(s.domain,s.range,l*r,t),range:t}),d=t),d>n&&(c.push({domain:o(s.domain,s.range,l*r,n),range:n}),d=n),a>0&&c.push({domain:e,range:d}),l=i}var a,c=[],l=0;for(c.push({domain:0,range:i}),a=0;a<e.getPointCount();a+=1)s(e.getDomainValue(a),e.getRangeValue(a));return c}function a(e){e.range=100*(e.range-t)/(n-t)}var c;return c=s(),c.forEach(a),{getPointCount:function(){return c.length},getDomainValue:function(e){return c[e].domain},getRangeValue:function(e){return c[e].range}}}return e}),define("platform/features/timeline/src/capabilities/GraphCapability",["./ResourceGraph","./CumulativeGraph"],function(e,t){"use strict";function n(n,i){function r(n){var r={},o={};return n.forEach(function(e){var t=e.key;r[t]=r[t]||[],r[t].push(e)}),Object.keys(r).forEach(function(t){o[t]=new e(r[t])}),"timeline"===i.getModel().type&&o.power&&i.getModel().capacity>0&&(o.battery=new t(o.power,0,i.getModel().capacity,i.getModel().capacity,1/36e5)),o}return{invoke:function(){return n.when(i.useCapability("utilization")||[]).then(r)}}}return n.appliesTo=function(e){return e&&("timeline"===e.type||"activity"===e.type)},
n}),define("platform/features/timeline/src/capabilities/CostCapability",[],function(){"use strict";function e(e){var t=e.getModel();return{resources:function(){return Object.keys(t.resources||{}).sort()},cost:function(e){return(t.resources||{})[e]||0},invoke:function(){return t.resources||{}}}}return e.appliesTo=function(e){return"mode"===(e||{}).type},e}),define("platform/features/timeline/src/directives/SwimlaneDragConstants",{MCT_DRAG_TYPE:"mct-domain-object-id",MCT_EXTENDED_DRAG_TYPE:"mct-domain-object",TIMELINE_SWIMLANE_DRAG_TYPE:"timeline-swimlane"}),define("platform/features/timeline/src/directives/MCTSwimlaneDrop",["./SwimlaneDragConstants"],function(e){"use strict";function t(t){function n(n,i,r){var o=(n||{}).originalEvent||n,s=i[0].offsetHeight,a=i[0].getBoundingClientRect(),c=o.pageY-a.top,l=(o.dataTransfer,t.getData(e.MCT_DRAG_TYPE)),u=t.getData(e.MCT_EXTENDED_DRAG_TYPE);return l&&(o.dataTransfer.dropEffect="move",r.highlight(.75*s>c&&r.allowDropIn(l,u)),r.highlightBottom(c>=.75*s&&r.allowDropAfter(l,u)),r.highlight()||r.highlightBottom())?(o.preventDefault(),!1):void 0}function i(n,i,r){var o=(n||{}).originalEvent||n,s=o.dataTransfer,a=s.getData(e.MCT_DRAG_TYPE),c=t.getData(e.TIMELINE_SWIMLANE_DRAG_TYPE),l=c?c.domainObject:t.getData(e.MCT_EXTENDED_DRAG_TYPE);a&&(o.stopPropagation(),n.preventDefault(),r.drop(a,l)),r.highlight(!1),r.highlightBottom(!1)}function r(e,t,r){function o(){return e.$eval(r.mctSwimlaneDrop)}t.on("dragover",function(i){var r=o(),s=r.highlight(),a=r.highlightBottom();n(i,t,r),(a!==r.highlightBottom()||s!==r.highlight())&&e.$apply()}),t.on("drop",function(n){i(n,t,o()),e.$apply()}),t.on("dragleave",function(){var t=o(),n=t.highlight()||t.highlightBottom();t.highlight(!1),t.highlightBottom(!1),n&&e.$apply()})}return{restrict:"A",link:r}}return t}),define("platform/features/timeline/src/directives/MCTSwimlaneDrag",["./SwimlaneDragConstants"],function(e){"use strict";function t(t){function n(n,i,r){function o(){return n.$eval(r.mctSwimlaneDrag)}i.on("dragstart",function(){t.setData(e.TIMELINE_SWIMLANE_DRAG_TYPE,o())}),i.on("dragend",function(){t.removeData(e.TIMELINE_SWIMLANE_DRAG_TYPE)})}return{restrict:"A",link:n}}return t}),define("platform/features/timeline/src/services/ObjectLoader",[],function(){"use strict";function e(e){function t(n,i){function r(e){return!!e}function o(e){return e&&e.hasCapability(i)}function s(e){return t(e,p)}function a(e){f.composition=e}function c(e){return!h[e.getId()]}function l(t){return e.all(t.filter(p).filter(c).map(s)).then(a)}function u(){return h[n.getId()]=!0,f}function d(){return h[n.getId()]=!0,n.useCapability("composition").then(l).then(u)}var p,f={domainObject:n,composition:[]},h={};return p="function"==typeof i?i:"string"==typeof i?o:r,n.hasCapability("composition")?d():e.when(f)}return{load:t}}return e}),define("text!platform/features/timeline/res/templates/values.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<ul ng-controller="ActivityModeValuesController as controller" class="cols cols-2-ff properties">\n    <li ng-repeat="(key, value) in cost" class="l-row s-row">\n        <span class="col col-100px s-title">{{controller.metadata(key).name}}</span>\n        <span class="col s-value">{{value}} {{controller.metadata(key).units}}</span>\n    </li>\n</ul>'}),define("text!platform/features/timeline/res/templates/timeline.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="s-timeline l-timeline-holder split-layout vertical"\n     ng-controller="TimelineController as timelineController">\n\n<mct-split-pane anchor="left" class="abs" position="pane.x">\n    <!-- LEFT PANE: TABULAR AND RESOURCE LEGEND AREAS -->\n    <mct-split-pane anchor="bottom"\n                    position="pane.y"\n                    class="abs horizontal split-pane-component l-timeline-pane l-pane-l t-pane-v">\n        <!-- TOP PANE TABULAR AREA. ADD CLASS "hidden" FOR INTERIM NO-TABULAR DELIVERY -->\n        <div class="split-pane-component s-timeline-tabular l-timeline-pane t-pane-h l-pane-top">\n            <!-- TABULAR LEFT FIXED AREA -->\n            <div class="t-pane-v l-pane-l l-tabular-l"\n                ng-if="true">\n\n                    <div class="t-header l-header s-header">\n                        <div class="l-cols">\n                            <span title="Resource Graphing: click a row to toggle" class="l-col l-col-icon l-plot-resource ui-symbol">&#x00e9;</span>\n                            <span title="Activity Links" class="l-col  l-col-icon l-col-link ui-symbol">&#x00e8;</span>\n                            <span class="l-col l-title">Title</span>\n                        </div>\n                    </div>\n                    <div class="t-swimlanes-holder l-swimlanes-holder"\n                         mct-scroll-y="scroll.y">\n                        <mct-include key="\'timeline-tabular-swimlane-cols-tree\'"\n                                     ng-repeat="swimlane in timelineController.swimlanes()"\n                                     ng-model="swimlane">\n                        </mct-include>\n                    </div>\n\n            </div>\n\n            <!-- TABULAR RIGHT HORZ SCROLLING AREA -->\n            <div class="t-pane-v l-pane-r l-tabular-r">\n                <div class="l-width">\n                    <div class="t-header l-header s-header">\n                        <div class="l-cols">\n                            <span class="l-col l-start">Start</span>\n                            <span class="l-col l-end">End</span>\n                            <span class="l-col l-duration">Duration</span>\n                            <span class="l-col l-activity-modes">Activity Modes</span>\n                        </div>\n                    </div>\n                    <div class="t-swimlanes-holder l-swimlanes-holder"\n                         mct-scroll-y="scroll.y">\n                        <mct-include key="\'timeline-tabular-swimlane-cols-data\'"\n                                     ng-repeat="swimlane in timelineController.swimlanes()"\n                                     ng-model="swimlane">\n                        </mct-include>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- HORZ SPLITTER -->\n        <mct-splitter></mct-splitter>\n\n        <!-- BOTTOM PANE RESOURCE LEGEND -->\n        <div class="split-pane-component abs l-timeline-pane t-pane-h l-pane-btm s-timeline-resource-legend l-timeline-resource-legend">\n            <div class="l-title s-title">{{ngModel.title}}Resource Graph Legend</div>\n            <div class="l-legend-items legend">\n                <mct-include key="\'timeline-legend-item\'"\n                             ng-repeat="swimlane in timelineController.swimlanes()"\n                             ng-model="swimlane"\n                             ng-show="swimlane.graph()">\n                </mct-include>\n            </div>\n        </div>\n    </mct-split-pane>\n\n\n    <!-- MAIN VERTICAL SPLITTER -->\n    <mct-splitter></mct-splitter>\n\n\n    <!-- RIGHT PANE: GANTT AND RESOURCE PLOTS -->\n    <span ng-controller="TimelineZoomController as zoomController" class="abs">\n    <mct-split-pane anchor="bottom"\n                    position="pane.y"\n                    class="abs split-pane-component l-timeline-pane l-pane-r t-pane-v">\n\n        <!-- TOP PANE GANTT BARS -->\n        <div class="split-pane-component l-timeline-pane t-pane-h l-pane-top t-timeline-gantt l-timeline-gantt s-timeline-gantt">\n            <div class="l-hover-btns-holder s-hover-btns-holder t-btns-zoom">\n                <a class="t-btn l-btn s-btn"\n                   ng-click="zoomController.zoom(-1)"\n                   ng-show="true"\n                   title="Zoom in">\n                    <span class="ui-symbol icon zoom-in">X</span>\n                </a>\n\n                <a class="t-btn l-btn s-btn"\n                   ng-click="zoomController.zoom(1)"\n                   ng-show="true"\n                   title="Zoom out">\n                    <span class="ui-symbol icon zoom-out">Y</span>\n                </a>\n            </div>\n\n            <div style="overflow: hidden; position: absolute; left: 0; top: 0; right: 0; height: 30px;" mct-scroll-x="scroll.x">\n                <mct-include key="\'timeline-ticks\'"\n                             parameters="{\n                                         fullWidth: zoomController.toPixels(zoomController.duration()),\n                                         start: scroll.x,\n                                         width: scroll.width,\n                                         step: zoomController.toPixels(zoomController.zoom()),\n                                         toMillis: zoomController.toMillis\n                                         }">\n                </mct-include>\n            </div>\n\n            <div class="t-swimlanes-holder l-swimlanes-holder"\n                 mct-scroll-x="scroll.x"\n                 mct-scroll-y="scroll.y">\n                <div class="l-width-control"\n                     ng-style="{ width: timelineController.width(zoomController) + \'px\' }">\n                    <div class="t-swimlane s-swimlane l-swimlane"\n                         ng-repeat="swimlane in timelineController.swimlanes()"\n                         ng-class="{\n                                   exceeded: swimlane.exceeded(),\n                                   selected: selection.selected(swimlane),\n                                   \'drop-into\': swimlane.highlight(),\n                                   \'drop-after\': swimlane.highlightBottom()\n                                   }"\n                         ng-click="selection.select(swimlane)"\n                         mct-swimlane-drop="swimlane">\n\n                        <mct-representation key="\'gantt\'"\n                                            mct-object="swimlane.domainObject"\n                                            parameters="{\n                                                        scroll: scroll,\n                                                        toPixels: zoomController.toPixels\n                                                        }">\n                        </mct-representation>\n\n                        <span ng-if="selection.selected(swimlane)">\n                            <span ng-repeat="handle in timelineController.handles()"\n                                  ng-style="handle.style(zoomController)"\n                                  style="position: absolute; top: 0px; bottom: 0px;"\n                                  class="handle"\n                                  ng-class="{ start: $index === 0, mid: $index === 1, end: $index > 1 }"\n                                  mct-drag-down="handle.begin()"\n                                  mct-drag="handle.drag(delta[0], zoomController); timelineController.refresh()"\n                                  mct-drag-up="handle.finish()">\n                            </span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- HORZ SPLITTER -->\n        <mct-splitter></mct-splitter>\n\n        <!-- BOTTOM PANE RESOURCE GRAPHS AND RIGHT PANE HORIZONTAL SCROLL CONTROL -->\n        <div class="split-pane-component l-timeline-resource-graph l-timeline-pane t-pane-h l-pane-btm">\n            <div class="l-graphs-holder"\n                 mct-resize="scroll.width = bounds.width">\n                <div class="t-graphs l-graphs">\n                    <mct-include key="\'timeline-resource-graphs\'"\n                                 parameters="{\n                                             origin: zoomController.toMillis(scroll.x),\n                                             duration: zoomController.toMillis(scroll.width),\n                                             graphs: timelineController.graphs()\n                                             }">\n                    </mct-include>\n                </div>\n            </div>\n            <div mct-scroll-x="scroll.x"\n                 class="t-pane-r-scroll-h-control l-scroll-control s-scroll-control">\n                <div class="l-width-control"\n                     ng-style="{ width: timelineController.width(zoomController) + \'px\' }">\n                </div>\n            </div>\n        </div>\n    </mct-split-pane>\n    </span>\n</mct-split-pane>\n</div>\n'}),define("text!platform/features/timeline/res/templates/activity-gantt.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-timeline-gantt l-timeline-gantt s-timeline-gantt"\n     title="{{model.name}}"\n     ng-controller="TimelineGanttController as gantt"\n     ng-style="timespan ? {\n               left: gantt.left(timespan, parameters.scroll, parameters.toPixels) + \'px\',\n               width: gantt.width(timespan, parameters.scroll, parameters.toPixels) + \'px\'\n               } : {}">\n\n    <div class="bar">\n		<span class="s-activity-type ui-symbol">\n            {{type.getGlyph()}}\n        </span>\n		<span class="s-title">\n            {{model.name}}\n        </span>\n	</div>\n\n</div>\n'}),define("text!platform/features/timeline/res/templates/tabular-swimlane-cols-tree.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-swimlane s-swimlane l-swimlane {{ngModel.activitystate}} {{ngModel.swimlanestate}}"\n     mct-swimlane-drop="ngModel"\n     ng-class="{\n               exceeded: ngModel.exceeded(),\n               selected: ngModel.selected(swimlane),\n               \'drop-into\': ngModel.highlight(),\n               \'drop-after\': ngModel.highlightBottom()\n               }">\n    <div class="l-cols">\n        <span class="l-col l-col-icon l-plot-resource"\n              ng-click="ngModel.toggleGraph()"\n              title="Click to enable or disable inclusion in Resource Graphing">\n            <span class="ui-symbol"\n                  ng-show="ngModel.graph()"\n                  >\n                &#x00e9;\n            </span>\n        </span>\n        <span class="l-col l-col-icon l-link">\n            <a class="ui-symbol"\n               target="_blank"\n               ng-href="{{ngModel.link()}}"\n               ng-if="ngModel.link().length > 0"\n               title="{{ngModel.link()}}"\n               >\n                &#x00e8;\n            </a>\n        </span>\n        <span class="l-col l-title"\n              ng-click="ngModel.select()"\n              ng-style="{ \'margin-left\': 15 * ngModel.depth + \'px\' }">\n            <mct-representation key="\'label\'"\n                                mct-object="ngModel.domainObject"\n                                class="rep-object-label"\n                                mct-swimlane-drag="ngModel">\n            </mct-representation>\n        </span>\n    </div>\n</div>\n'}),define("text!platform/features/timeline/res/templates/tabular-swimlane-cols-data.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-swimlane s-swimlane l-swimlane {{ngModel.activitystate}} {{ngModel.swimlanestate}}"\n     ng-class="{\n               exceeded: ngModel.exceeded(),\n               selected: ngModel.selected(swimlane),\n               \'drop-into\': ngModel.highlight(),\n               \'drop-after\': ngModel.highlightBottom()\n               }">\n	<div\n		class="l-cols"\n		ng-controller="TimelineTableController as tabularVal">\n		<span class="align-right l-col l-start">{{tabularVal.niceTime(ngModel.timespan().getStart())}}</span>\n		<span class="align-right l-col l-end">{{tabularVal.niceTime(ngModel.timespan().getEnd())}}</span>\n		<span class="align-right l-col l-duration">{{tabularVal.niceTime(ngModel.timespan().getDuration())}}</span>\n		<span class="l-col l-activity-modes"></span>\n	</div>\n</div>'}),define("text!platform/features/timeline/res/templates/resource-graphs.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="TimelineGraphController as graphController">\n    <div class="t-graph l-graph" ng-repeat="graph in parameters.graphs">\n        <div class="l-graph-area l-canvas-holder">\n            <mct-chart draw="graph.drawingObject"></mct-chart>\n        </div>\n        <div class="t-graph-labels l-graph-labels">\n            <mct-include key="\'timeline-resource-graph-labels\'"\n                         parameters="graphController.label(graph)"\n                         ng-model="graph">\n            </mct-include>\n        </div>\n    </div>\n</span>'}),define("text!platform/features/timeline/res/templates/resource-graph-labels.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-title s-title">\n    {{parameters.title}}\n</div>\n<div class="l-graph-area">\n	<div class="l-labels-holder">\n		<div class="tick-label tick-label-y tick-label-1" style="top: 0;">\n            {{parameters.high}}\n        </div>\n		<div class="tick-label tick-label-y" style="top: 50%; margin-top: -0.5em; height: 1em;">\n            {{parameters.middle}}\n        </div>\n		<div class="tick-label tick-label-y" style="top: auto; bottom: 4px; height: 1em;">\n            {{parameters.low}}\n        </div>\n	</div>\n</div>'}),define("text!platform/features/timeline/res/templates/legend-item.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<!-- TO-DO: make legend item color-swatch dynamic -->\n<span\n	class="legend-item s-legend-item"\n	title="{{ngModel.path}}{{ngModel.domainObject.getModel().name}}"\n	>\n	<span class="color-swatch"\n          ng-style="{ \'background-color\': ngModel.color() }">\n    </span>\n	<span class="title-label">\n        <span class="l-parent-path">{{ngModel.path}}</span>\n        <span class="l-leaf-title">{{ngModel.domainObject.getModel().name}}</span>\n    </span>\n</span>'}),define("text!platform/features/timeline/res/templates/ticks.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="t-header l-header s-header"\n     ng-controller="TimelineTickController as tick"\n     ng-style="{ width: parameters.fullWidth + \'px\' }">\n\n    <div class="l-header-elem t-labels l-labels">\n        <div class="t-label l-label s-label"\n             ng-repeat="label in tick.labels(parameters.start, parameters.width, parameters.step, parameters.toMillis)"\n             ng-style="{ left: label.left + \'px\' }">\n            {{label.text}}\n        </div>\n    </div>\n    <div class="t-ticks l-ticks s-ticks"\n         ng-style="{ \'background-size\': parameters.step + \'px 100%\' }">\n    </div>\n    <div class="t-ticks s-ticks l-subticks"\n         ng-style="{ \'background-size\': (parameters.step / 40) + \'px 100%\' }">\n    </div>\n</div>\n'}),define("text!platform/features/timeline/res/templates/controls/datetime.html",[],function(){return"<!--\n Open MCT Web, Copyright (c) 2009-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class='form-control complex datetime'>\n\n    <div class='field-hints'>\n        <span class='hint time sm'>Days</span>\n        <span class='hint time sm'>Hours</span>\n        <span class='hint time sm'>Minutes</span>\n        <span class='hint time sm'>Seconds</span>\n        <span class='hint' ng-if=\"structure.options.length > 0\">Time System</span>\n    </div>\n\n    <ng-form name=\"mctControl\">\n        <div class='fields' ng-controller=\"TimelineDateTimeController\">\n            <span class='field control time sm'>\n                <input type='text'\n                       name='days'\n                       min='0'\n                       max='9999'\n                       integer\n                       ng-pattern=\"/\\d+/\"\n                       ng-model='datetime.days'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='hour'\n                       maxlength='2'\n                       min='0'\n                       max='23'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.hours\"/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='min'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.minutes\"\n                       ng-required='true'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='sec'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.seconds\"\n                       ng-required='true'/>\n            </span>\n            <span ng-if=\"structure.options.length > 0\"\n                  class='field control'>\n                SET\n            </span>\n        </div>\n    </ng-form>\n\n\n</div>\n"}),define("platform/features/timeline/bundle",["./src/actions/ExportTimelineAsCSVAction","./src/controllers/TimelineController","./src/controllers/TimelineGraphController","./src/controllers/TimelineDateTimeController","./src/controllers/TimelineZoomController","./src/controllers/TimelineTickController","./src/controllers/TimelineTableController","./src/controllers/TimelineGanttController","./src/controllers/ActivityModeValuesController","./src/capabilities/ActivityTimespanCapability","./src/capabilities/TimelineTimespanCapability","./src/capabilities/UtilizationCapability","./src/capabilities/GraphCapability","./src/capabilities/CostCapability","./src/directives/MCTSwimlaneDrop","./src/directives/MCTSwimlaneDrag","./src/services/ObjectLoader","text!./res/templates/values.html","text!./res/templates/timeline.html","text!./res/templates/activity-gantt.html","text!./res/templates/tabular-swimlane-cols-tree.html","text!./res/templates/tabular-swimlane-cols-data.html","text!./res/templates/resource-graphs.html","text!./res/templates/resource-graph-labels.html","text!./res/templates/legend-item.html","text!./res/templates/ticks.html","text!./res/templates/controls/datetime.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,O,x,T,k){
"use strict";k.register("platform/features/timeline",{name:"Timelines",description:"Resources, templates, CSS, and code for Timelines.",resources:"res",extensions:{actions:[{key:"timeline.export",name:"Export Timeline as CSV",category:"contextual",implementation:e,depends:["exportService","notificationService"]}],constants:[{key:"TIMELINE_MINIMUM_DURATION",description:"The minimum duration to display in a timeline view (one hour.)",value:36e5},{key:"TIMELINE_MAXIMUM_OFFSCREEN",description:"Maximum amount, in pixels, of a Gantt bar which may go off screen.",value:1e3},{key:"TIMELINE_ZOOM_CONFIGURATION",description:"Describes major tick sizes in milliseconds, and width in pixels.",value:{levels:[1e3,2e3,5e3,1e4,2e4,3e4,6e4,12e4,3e5,6e5,12e5,18e5,36e5,72e5,144e5,288e5,432e5,864e5],width:200}}],types:[{key:"timeline",name:"Timeline",glyph:"S",description:"A time-oriented container that lets you enclose and organize other Timelines and Activities. The Timeline view provides both tabular and Gantt views as well as resource utilization graphing of Activities.",priority:502,features:["creation"],contains:["timeline","activity"],properties:[{name:"Start date/time",control:"timeline-datetime",required:!0,property:["start"],options:["SET"]},{name:"Battery capacity (Watt-hours)",control:"textfield",required:!1,conversion:"number",property:["capacity"],pattern:"^-?\\d+(\\.\\d*)?$"}],model:{composition:[],start:{timestamp:0}}},{key:"activity",name:"Activity",glyph:"a",features:["creation"],contains:["activity"],description:"An event or process that starts and ends at a discrete datetime. Activities can be nested in other Activities, and can be added to Timelines. Activity Modes can be added to an Activity to define its resource utilization over time.",priority:501,properties:[{name:"Start date/time",control:"timeline-datetime",required:!0,property:["start"],options:["SET"]},{name:"Duration",control:"duration",required:!0,property:["duration"]}],model:{composition:[],relationships:{modes:[]},start:{timestamp:0},duration:{timestamp:0}}},{key:"mode",name:"Activity Mode",glyph:"A",features:["creation"],description:"When a sub-system utilizes Power or Communications resources over time, you can define those values in an Activity Mode. Activity Modes can then be linked to Activities to allow resource utilization graphing and estimating in a Timeline.",priority:500,model:{resources:{comms:0,power:0}},properties:[{name:"Comms (Kbps)",control:"textfield",conversion:"number",pattern:"^-?\\d+(\\.\\d*)?$",property:["resources","comms"]},{name:"Power (watts)",control:"textfield",conversion:"number",pattern:"^-?\\d+(\\.\\d*)?$",property:["resources","power"]}]}],views:[{key:"values",name:"Values",glyph:"A",template:y,type:"mode",uses:["cost"],editable:!1},{key:"timeline",name:"Timeline",glyph:"S",type:"timeline",description:"A time-oriented container that lets you enclose and organize other Timelines and Activities. The Timeline view provides both tabular and Gantt views as well as resource utilization graphing of Activities.",template:v,editable:!0,toolbar:{sections:[{items:[{method:"add",glyph:"+",control:"menu-button",text:"Add",options:[{name:"Timeline",glyph:"S",key:"timeline"},{name:"Activity",glyph:"a",key:"activity"}]}]},{items:[{glyph:"é",description:"Graph Resource Utilization",control:"button",method:"toggleGraph"},{glyph:"A",control:"dialog-button",description:"Apply Activity Modes...",title:"Apply Activity Modes",dialog:{control:"selector",name:"Modes",type:"mode",layout:"controls-under"},property:"modes"},{glyph:"è",description:"Edit Activity Link",title:"Activity Link",control:"dialog-button",dialog:{control:"textfield",name:"Link",pattern:"^(ftp|https?)\\:\\/\\/\\w+(\\.\\w+)*(\\:\\d+)?(\\/\\S*)*$",cssclass:"l-input-lg"},property:"link"},{glyph:"G",description:"Edit Properties...",control:"button",method:"properties"}]},{items:[{method:"remove",description:"Remove Item",control:"button",glyph:"Z"}]}]}}],stylesheets:[{stylesheetUrl:"css/timeline.css"},{stylesheetUrl:"css/timeline-espresso.css",theme:"espresso"},{stylesheetUrl:"css/timeline-snow.css",theme:"snow"}],representations:[{key:"gantt",template:b,uses:["timespan","type"]}],templates:[{key:"timeline-tabular-swimlane-cols-tree",priority:"mandatory",template:w},{key:"timeline-tabular-swimlane-cols-data",priority:"mandatory",template:S},{key:"timeline-resource-graphs",priority:"mandatory",template:$},{key:"timeline-resource-graph-labels",priority:"mandatory",template:C},{key:"timeline-legend-item",priority:"mandatory",template:O},{key:"timeline-ticks",priority:"mandatory",template:x}],controls:[{key:"timeline-datetime",template:T},{key:"duration",template:T}],controllers:[{key:"TimelineController",implementation:t,depends:["$scope","$q","objectLoader","TIMELINE_MINIMUM_DURATION"]},{key:"TimelineGraphController",implementation:n,depends:["$scope","resources[]"]},{key:"TimelineDateTimeController",implementation:i,depends:["$scope"]},{key:"TimelineZoomController",implementation:r,depends:["$scope","TIMELINE_ZOOM_CONFIGURATION"]},{key:"TimelineTickController",implementation:o},{key:"TimelineTableController",implementation:s},{key:"TimelineGanttController",implementation:a,depends:["TIMELINE_MAXIMUM_OFFSCREEN"]},{key:"ActivityModeValuesController",implementation:c,depends:["resources[]"]}],capabilities:[{key:"timespan",implementation:l,depends:["$q"]},{key:"timespan",implementation:u,depends:["$q"]},{key:"utilization",implementation:d,depends:["$q"]},{key:"graph",implementation:p,depends:["$q"]},{key:"cost",implementation:f}],directives:[{key:"mctSwimlaneDrop",implementation:h,depends:["dndService"]},{key:"mctSwimlaneDrag",implementation:m,depends:["dndService"]}],services:[{key:"objectLoader",implementation:g,depends:["$q"]}],resources:[{key:"power",name:"Power",units:"watts"},{key:"comms",name:"Comms",units:"Kbps"},{key:"battery",name:"Battery State-of-Charge",units:"%"}]}})}),define("platform/features/table/src/controllers/MCTTableController",[],function(){"use strict";function e(e,t,n){function i(e){"undefined"==typeof e.enableFilter&&(e.enableFilter=!0,e.filters={}),"undefined"==typeof e.enableSort&&(e.enableSort=!0,e.sortColumn=void 0,e.sortDirection=void 0)}var r=this;this.$scope=e,this.element=n,this.$timeout=t,this.maxDisplayRows=50,this.scrollable=n.find("div"),this.thead=n.find("thead"),this.tbody=n.find("tbody"),this.$scope.sizingRow={},this.scrollable.on("scroll",this.onScroll.bind(this)),e.visibleRows=[],i(e),e.toggleSort=function(t){e.enableSort&&(e.sortColumn!==t?(e.sortColumn=t,e.sortDirection="asc"):"asc"===e.sortDirection?e.sortDirection="desc":"desc"===e.sortDirection&&(e.sortColumn=void 0,e.sortDirection=void 0),r.setRows(e.rows))},e.$watchCollection("filters",function(){r.setRows(e.rows)}),e.$watch("headers",this.setHeaders.bind(this)),e.$watch("rows",this.setRows.bind(this)),e.$on("add:row",this.addRow.bind(this)),e.$on("remove:row",this.removeRow.bind(this))}return e.prototype.scrollToBottom=function(){var e=this;this.$scope.autoScroll&&this.$timeout(function(){e.scrollable[0].scrollTop=e.scrollable[0].scrollHeight})},e.prototype.addRow=function(e,t){var n=this.$scope.rows[t];1===this.filterRows([n]).length&&(this.insertSorted(this.$scope.displayRows,n),this.resize([this.$scope.sizingRow,n]).then(this.setVisibleRows.bind(this)).then(this.scrollToBottom.bind(this)))},e.prototype.removeRow=function(e,t){var n=this.$scope.rows[t],i=this.$scope.displayRows.indexOf(n);-1!=i&&(this.$scope.displayRows.splice(i,1),this.setVisibleRows())},e.prototype.onScroll=function(e){this.scrollable[0].scrollTop<this.scrollable[0].scrollHeight-this.scrollable[0].offsetHeight?this.$scope.autoScroll=!1:this.$scope.autoScroll=!0,this.setVisibleRows(),this.$scope.$digest()},e.prototype.setVisibleRows=function(){var e,t,n,i,r,o,s=this,a=this.scrollable[0],c=a.scrollTop,l=c+a.offsetHeight;if(this.$scope.displayRows.length<this.maxDisplayRows){if(this.$scope.visibleRows.length==this.$scope.displayRows.length)return;r=0,o=this.$scope.displayRows.length}else if(e=c<this.$scope.headerHeight?0:Math.floor((c-this.$scope.headerHeight)/this.$scope.rowHeight),t=Math.ceil((l-this.$scope.headerHeight)/this.$scope.rowHeight),n=t-e,i=this.maxDisplayRows-n,r=e-Math.floor(i/2),o=t+Math.ceil(i/2),0>r?(r=0,o=Math.min(this.maxDisplayRows,this.$scope.displayRows.length)):o>=this.$scope.displayRows.length&&(o=this.$scope.displayRows.length,r=o-this.maxDisplayRows+1),this.$scope.visibleRows[0]&&this.$scope.visibleRows[0].rowIndex===r&&this.$scope.visibleRows[this.$scope.visibleRows.length-1].rowIndex===o)return;this.$scope.visibleRows=this.$scope.displayRows.slice(r,o).map(function(e,t){return{rowIndex:r+t,offsetY:(r+t)*s.$scope.rowHeight+s.$scope.headerHeight,contents:e}})},e.prototype.setHeaders=function(e){e&&(this.$scope.displayHeaders=e,this.$scope.enableFilter&&(this.$scope.filters={}),this.$scope.enableSort&&-1===e.indexOf(this.$scope.sortColumn)&&(this.$scope.sortColumn=void 0,this.$scope.sortDirection=void 0),this.setRows(this.$scope.rows))},e.prototype.setElementSizes=function(){var e,t=this.thead,n=this.tbody,i=n.find("tr"),r=i.find("td"),o=t.prop("offsetHeight"),s=i.prop("offsetHeight"),a=0,c=o+s*(this.$scope.displayRows?this.$scope.displayRows.length-1:0);for(this.$scope.columnWidths=[];r.length;)e=r.prop("offsetWidth"),this.$scope.columnWidths.push(r.prop("offsetWidth")),a+=e,r=r.next();this.$scope.headerHeight=o,this.$scope.rowHeight=s,this.$scope.totalHeight=c,a>0?this.$scope.totalWidth=a+"px":this.$scope.totalWidth="none"},e.prototype.insertSorted=function(e,t){function n(e,t,i,s){var a=Math.floor((s-i)/2)+i;if(i>s)return i;switch(r.sortComparator(t[o].text,e[a][o].text)){case-1:return n(e,t,i,a-1);case 0:return a;case 1:return n(e,t,a+1,s)}}var i=-1,r=this,o=this.$scope.sortColumn;i=this.$scope.sortColumn&&this.$scope.sortDirection?n(e,t,0,e.length-1):e.length,-1===i?e.unshift(t):i===e.length?e.push(t):e.splice(i,0,t)},e.prototype.sortComparator=function(e,t){function n(e){var t=isNaN(Number(e))||isNaN(parseFloat(e))?e:Number(e);return t}var i,r,o,s=0;return r=n(e),o=n(t),"number"==typeof r&&"number"==typeof o&&(e=r,t=o),"string"==typeof e&&"string"==typeof t&&(e=e.toLowerCase(),t=t.toLowerCase()),t>e&&(s=-1),e>t&&(s=1),"asc"===this.$scope.sortDirection?i=1:"desc"===this.$scope.sortDirection&&(i=-1),s*i},e.prototype.sortRows=function(e){var t=this,n=this.$scope.sortColumn;return this.$scope.sortColumn&&this.$scope.sortDirection?e.sort(function(e,i){return t.sortComparator(e[n].text,i[n].text)}):e},e.prototype.buildLargestRow=function(e){var t=e.reduce(function(e,t){return Object.keys(t).forEach(function(n){var i,r,o,s;t[n]&&(i=t[n].text,r=i&&i.length?i.length:i,o=e[n]?e[n].text:"",s=o.length,r>s&&(e[n]=JSON.parse(JSON.stringify(t[n]))))}),e},JSON.parse(JSON.stringify(e[0]||{})));return t},e.prototype.resize=function(e){return this.$scope.sizingRow=this.buildLargestRow(e),this.$timeout(this.setElementSizes.bind(this))},e.prototype.filterAndSort=function(e){var t=e;return this.$scope.enableFilter&&(t=this.filterRows(t)),this.$scope.enableSort&&(t=this.sortRows(t.slice(0))),t},e.prototype.setRows=function(e){this.$scope.displayHeaders&&e&&(this.$scope.displayRows=this.filterAndSort(e||[]),this.resize(e).then(this.setVisibleRows.bind(this)))},e.prototype.filterRows=function(e){function t(e,t){return Object.keys(e).every(function(n){if(!t[n])return!1;var i=String(t[n].text).toLowerCase();return-1!==i.indexOf(e[n])})}var n={},i=this;return Object.keys(this.$scope.filters).length?(Object.keys(this.$scope.filters).forEach(function(e){i.$scope.filters[e]&&(n[e]=i.$scope.filters[e].toLowerCase())}),e.filter(t.bind(null,n))):e},e}),define("text!platform/features/table/res/templates/mct-table.html",[],function(){return'<div class="l-view-section scrolling" style="overflow: auto;">\n    <table class="sizing-table">\n        <tbody>\n            <tr>\n                <td ng-repeat="header in displayHeaders">{{header}}</td>\n            </tr>\n            <tr><td ng-repeat="header in displayHeaders" >\n                {{sizingRow[header].text}}\n            </td></tr>\n        </tbody>\n    </table>\n    <table class="filterable mct-table"\n           ng-style="{\n            height: totalHeight + \'px\',\n            \'max-width\': totalWidth\n            }">\n        <thead>\n            <tr>\n                <th ng-repeat="header in displayHeaders"\n                    ng-style="{\n                        width: columnWidths[$index] + \'px\',\n                        \'max-width\': columnWidths[$index] + \'px\',\n                    }"\n                    ng-class="[\n                        enableSort ? \'sortable\' : \'\',\n                        sortColumn === header ? \'sort\' : \'\',\n                        sortDirection || \'\'\n                    ].join(\' \')"\n                    ng-click="toggleSort(header)">\n                    {{ header }}\n                </th>\n            </tr>\n            <tr ng-if="enableFilter" class="s-filters">\n                <th ng-repeat="header in displayHeaders"\n                    ng-style="{\n                        width: columnWidths[$index] + \'px\',\n                        \'max-width\': columnWidths[$index] + \'px\',\n                    }">\n                    <input type="text"\n                           ng-model="filters[header]"/>\n                </th>\n            </tr>\n        </thead>\n\n        <tbody>\n            <tr ng-repeat="visibleRow in visibleRows track by visibleRow.rowIndex"\n                ng-style="{\n                    top: visibleRow.offsetY + \'px\',\n                }">\n                <td ng-repeat="header in displayHeaders"\n                    ng-style=" {\n                        width: columnWidths[$index] + \'px\',\n                        \'max-width\': columnWidths[$index] + \'px\',\n                    }"\n                    class="{{visibleRow.contents[header].cssClass}}">\n                    {{ visibleRow.contents[header].text }}\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n'}),define("platform/features/table/src/directives/MCTTable",["../controllers/MCTTableController","text!../../res/templates/mct-table.html"],function(e,t){"use strict";function n(n){return{restrict:"E",template:t,controller:["$scope","$timeout","$element",e],scope:{headers:"=",rows:"=",enableFilter:"=?",enableSort:"=?",autoScroll:"=?"}}}return n}),define("platform/features/table/src/DomainColumn",[],function(){"use strict";function e(e,t){this.domainMetadata=e,this.telemetryFormatter=t}return e.prototype.getTitle=function(){return this.domainMetadata.name},e.prototype.getValue=function(e,t){return{text:this.telemetryFormatter.formatDomainValue(t[this.domainMetadata.key],this.domainMetadata.format)}},e}),define("platform/features/table/src/RangeColumn",[],function(){"use strict";function e(e,t){this.rangeMetadata=e,this.telemetryFormatter=t}return e.prototype.getTitle=function(){return this.rangeMetadata.name},e.prototype.getValue=function(e,t){var n=this.rangeMetadata.key,i=e.getCapability("limit"),r=isNaN(t[n])?t[n]:parseFloat(t[n]),o=i&&i.evaluate(t,n);return{cssClass:o&&o.cssClass,text:"undefined"==typeof r?void 0:this.telemetryFormatter.formatRangeValue(r)}},e}),define("platform/features/table/src/NameColumn",[],function(){"use strict";function e(){}return e.prototype.getTitle=function(){return"Name"},e.prototype.getValue=function(e){return{text:e.getModel().name}},e}),define("platform/features/table/src/TableConfiguration",["./DomainColumn","./RangeColumn","./NameColumn"],function(e,t,n){"use strict";function i(e,t){this.domainObject=e,this.columns=[],this.telemetryFormatter=t}function r(e,t){var n=Object.keys(e),i=Object.keys(t);return n.length!==i.length||n.some(function(n){return e[n]!==t[n]})}return i.prototype.populateColumns=function(i){var r=this;return this.columns=[],i&&(i.forEach(function(n){(n.domains||[]).forEach(function(t){r.addColumn(new e(t,r.telemetryFormatter))}),(n.ranges||[]).forEach(function(e){r.addColumn(new t(e,r.telemetryFormatter))})}),this.columns.length>0&&r.addColumn(new n,0)),this},i.prototype.addColumn=function(e,t){"undefined"==typeof t?this.columns.push(e):this.columns.splice(t,0,e)},i.prototype.getColumnTitle=function(e){return e.getTitle()},i.prototype.getHeaders=function(){var e=this;return this.columns.map(function(t,n){return e.getColumnTitle(t)||"Column "+(n+1)})},i.prototype.getRowValues=function(e,t){var n=this;return this.columns.reduce(function(i,r,o){var s=n.getColumnTitle(r)||"Column "+(o+1),a=r.getValue(e,t);return void 0!==a&&void 0===a.text&&(a.text=""),(void 0===i[s]||void 0===i[s].text||0===i[s].text.length)&&(i[s]=a),i},{})},i.prototype.defaultColumnConfiguration=function(){return((this.domainObject.getModel().configuration||{}).table||{}).columns||{}},i.prototype.saveColumnConfiguration=function(e){this.domainObject.useCapability("mutation",function(t){t.configuration=t.configuration||{},t.configuration.table=t.configuration.table||{},t.configuration.table.columns=e})},i.prototype.buildColumnConfiguration=function(){var e={},t=this.defaultColumnConfiguration();return this.getHeaders().forEach(function(n){e[n]="undefined"==typeof t[n]?!0:t[n]}),r(e,t)&&this.saveColumnConfiguration(e),e},i}),define("platform/features/table/src/controllers/TelemetryTableController",["../TableConfiguration"],function(e){"use strict";function t(t,n,i){var r=this;this.$scope=t,this.columns={},this.handle=void 0,this.telemetryHandler=n,this.table=new e(t.domainObject,i),this.changeListeners=[],t.rows=[],this.$scope.$watch("domainObject",function(){r.subscribe(),r.registerChangeListeners()}),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.prototype.unregisterChangeListeners=function(){this.changeListeners.forEach(function(e){return e&&e()}),this.changeListeners=[]},t.prototype.registerChangeListeners=function(){this.unregisterChangeListeners(),this.changeListeners.push(this.$scope.$watchCollection("domainObject.getModel().composition",this.subscribe.bind(this))),this.changeListeners.push(this.$scope.$on("telemetry:display:bounds",this.subscribe.bind(this)))},t.prototype.destroy=function(){this.handle&&(this.handle.unsubscribe(),this.handle=void 0)},t.prototype.addRealtimeData=function(){},t.prototype.addHistoricalData=function(){},t.prototype.subscribe=function(){this.handle&&this.handle.unsubscribe(),this.handle=this.$scope.domainObject&&this.telemetryHandler.handle(this.$scope.domainObject,this.addRealtimeData.bind(this),!0),this.handle.request({}).then(this.addHistoricalData.bind(this)),this.setup()},t.prototype.setup=function(){var e=this.handle,t=this.table,n=this;e&&e.promiseTelemetryObjects().then(function(){n.$scope.headers=[],n.$scope.rows=[],t.populateColumns(e.getMetadata()),n.filterColumns(),n.changeListeners.push(n.$scope.$watchCollection("domainObject.getModel().configuration.table.columns",n.filterColumns.bind(n)))})},t.prototype.filterColumns=function(){var e=this.table.buildColumnConfiguration();this.$scope.headers=Object.keys(e).filter(function(t){return e[t]})},t}),define("platform/features/table/src/controllers/RealtimeTableController",["./TelemetryTableController"],function(e){"use strict";function t(t,n,i){function r(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},i=n.ranges||[];return i.some(function(e){return"string"===e.format})}e.call(this,t,n,i),t.autoScroll=!1,this.maxRows=1e5,t.$watch("domainObject",function(e){e&&r(e)&&(t.autoScroll=!0)})}return t.prototype=Object.create(e.prototype),t.prototype.addRealtimeData=function(){var e,t,n=this;this.handle.getTelemetryObjects().forEach(function(i){e=n.handle.getDatum(i),e&&(t=n.table.getRowValues(i,e),n.$scope.rows.push(t),n.$scope.rows.length>n.maxRows&&(n.$scope.$broadcast("remove:row",0),n.$scope.rows.shift()),n.$scope.$broadcast("add:row",n.$scope.rows.length-1))})},t}),define("platform/features/table/src/controllers/HistoricalTableController",["./TelemetryTableController"],function(e){"use strict";function t(t,n,i){e.call(this,t,n,i)}return t.prototype=Object.create(e.prototype),t.prototype.addHistoricalData=function(){var e=[],t=this;this.handle.getTelemetryObjects().forEach(function(n){for(var i=t.handle.getSeries(n)||{},r=i.getPointCount?i.getPointCount():0,o=0;r>o;o++)e.push(t.table.getRowValues(n,t.handle.makeDatum(n,i,o)))}),this.$scope.rows=e},t}),define("platform/features/table/src/controllers/TableOptionsController",[],function(){"use strict";function e(e){function t(){n.listeners.forEach(function(e){e()})}var n=this;this.$scope=e,this.domainObject=e.domainObject,this.listeners=[],e.columnsForm={},e.$watch("domainObject",function(e){t(),n.populateForm(e.getModel()),n.listeners.push(n.domainObject.getCapability("mutation").listen(function(e){n.populateForm(e)}))}),e.$watchCollection("configuration.table.columns",function(e){e&&(n.domainObject.useCapability("mutation",function(t){t.configuration.table.columns=e}),n.domainObject.getCapability("persistence").persist())}),e.$on("$destroy",t)}return e.prototype.populateForm=function(e){var t=((e.configuration||{}).table||{}).columns||{},n=[];this.$scope.columnsForm={name:"Columns",sections:[{name:"Columns",rows:n}]},Object.keys(t).forEach(function(e){n.push({name:e,control:"checkbox",key:e})}),this.$scope.configuration=JSON.parse(JSON.stringify(e.configuration||{}))},e}),define("platform/commonUI/regions/src/Region",[],function(){"use strict";function e(e){e=e||{},this.name=e.name,this.content=e.content,this.modes=e.modes,this.regions=[]}return e.prototype.addRegion=function(e,t){t?this.regions.splice(t,0,e):this.regions.push(e)},e.prototype.removeRegion=function(e){"number"==typeof e?this.regions.splice(e,1):"string"==typeof e?this.regions=this.regions.filter(function(t){return t.name!==e}):this.regions.splice(this.regions.indexOf(e),1)},e}),define("platform/commonUI/browse/src/InspectorRegion",["../../regions/src/Region"],function(e){"use strict";function t(){e.call(this,{name:"Inspector"}),this.buildRegion()}return t.prototype=Object.create(e.prototype),t.prototype.constructor=e,t.prototype.buildRegion=function(){var t={name:"metadata",title:"Metadata Region",modes:["browse","edit"],content:{key:"object-properties"}};this.addRegion(new e(t),0)},t}),define("platform/features/table/bundle",["./src/directives/MCTTable","./src/controllers/RealtimeTableController","./src/controllers/HistoricalTableController","./src/controllers/TableOptionsController","../../commonUI/regions/src/Region","../../commonUI/browse/src/InspectorRegion","legacyRegistry"],function(e,t,n,i,r,o,s){"use strict";var a=new o,c=new r({name:"table-options",title:"Table Options",modes:["edit"],content:{key:"table-options-edit"}});a.addRegion(c),s.register("platform/features/table",{extensions:{types:[{key:"table",name:"Historical Telemetry Table",glyph:"",description:"A static table of all values over time for all included telemetry elements. Rows are timestamped data values for each telemetry element; columns are data fields. The number of rows is based on the range of your query. New incoming data must be manually re-queried for.",priority:861,features:"creation",delegates:["telemetry"],inspector:a,contains:[{has:"telemetry"}],model:{composition:[]},views:["table"]},{key:"rttable",name:"Real-time Telemetry Table",glyph:"",description:"A scrolling table of latest values for all included telemetry elements. Rows are timestamped data values for each telemetry element; columns are data fields. New incoming data is automatically added to the view.",priority:860,features:"creation",delegates:["telemetry"],inspector:a,contains:[{has:"telemetry"}],model:{composition:[]},views:["rt-table","scrolling-table"]}],controllers:[{key:"HistoricalTableController",implementation:n,depends:["$scope","telemetryHandler","telemetryFormatter"]},{key:"RealtimeTableController",implementation:t,depends:["$scope","telemetryHandler","telemetryFormatter"]},{key:"TableOptionsController",implementation:i,depends:["$scope"]}],views:[{name:"Historical Table",key:"table",glyph:"",templateUrl:"templates/historical-table.html",needs:["telemetry"],delegation:!0,editable:!0},{name:"Real-time Table",key:"rt-table",glyph:"",templateUrl:"templates/rt-table.html",needs:["telemetry"],delegation:!0,editable:!0}],directives:[{key:"mctTable",implementation:e,depends:["$timeout"]}],representations:[{key:"table-options-edit",templateUrl:"templates/table-options-edit.html"}],stylesheets:[{stylesheetUrl:"css/table.css",priority:"mandatory"}]}})}),define("platform/features/conductor/src/ConductorRepresenter",[],function(){"use strict";function e(e,t,n,i,r,o){this.throttle=e,this.scope=r,this.conductorService=t,this.element=o,this.views=i,this.$compile=n}var t=["<mct-include key=\"'time-conductor'\" ","ng-model='ngModel' ","parameters='parameters' ","class='holder flex-elem flex-fixed l-time-controller'>","</mct-include>"].join(""),n=200,i=!1;return e.prototype.wireScope=function(){function e(){return{start:c.displayStart(),end:c.displayEnd(),domain:c.domain().key}}function t(e){return!s||s.start===e.start&&s.end===e.end}function i(){var t=l.ngModel.conductor.inner;c.displayStart(t.start),c.displayEnd(t.end),s=s||e(),a()}function r(e){var t=c.domain(e);l.parameters.format=t.format,a()}function o(e){return{name:e.name,value:e.key}}var s,a,c=this.conductorService.getConductor(),l=this.conductorScope(),u=this.scope;a=this.throttle(function(){var n=e();t(n)?(u.$broadcast("telemetry:display:bounds",e()),s=void 0):(s=n,a())},n),l.ngModel={},l.ngModel.conductor={outer:e(),inner:e()},l.ngModel.options=c.domainOptions().map(o),l.ngModel.domain=c.domain().key,l.parameters={},l.$watch("ngModel.conductor.inner.start",i),l.$watch("ngModel.conductor.inner.end",i),l.$watch("ngModel.domain",r)},e.prototype.conductorScope=function(e){return this.cScope=arguments.length>0?e:this.cScope},e.prototype.represent=function(e,n){this.destroy(),-1===this.views.indexOf(e)||i||(this.originalHeight=this.element.css("height"),this.hadAbs=this.element.hasClass("abs"),this.conductorScope(this.scope.$new()),this.wireScope(),this.conductorElement=this.$compile(t)(this.conductorScope()),this.element.parent().parent().after(this.conductorElement[0]),this.element.parent().parent().addClass("l-controls-visible l-time-controller-visible"),i=!0)},e.prototype.destroy=function(){this.conductorElement&&(this.hadAbs||this.element.removeClass("abs"),this.element.css("height",this.originalHeight),this.conductorElement&&(this.conductorElement.remove(),this.conductorElement=void 0),this.conductorScope()&&(this.conductorScope().$destroy(),this.conductorScope(void 0)),i=!1)},e}),define("platform/features/conductor/src/ConductorTelemetryDecorator",[],function(){"use strict";function e(e,t){this.conductorService=e,this.telemetryService=t}return e.prototype.amendRequests=function(e){function t(e){return e=e||{},e.start=i,e.end=r,e.domain=o.key,e}var n=this.conductorService.getConductor(),i=n.displayStart(),r=n.displayEnd(),o=n.domain();return(e||[]).map(t)},e.prototype.requestTelemetry=function(e){return this.telemetryService.requestTelemetry(this.amendRequests(e))},e.prototype.subscribe=function(e,t){return this.telemetryService.subscribe(e,this.amendRequests(t))},e}),define("platform/features/conductor/src/TimeConductor",[],function(){"use strict";function e(e,t,n){this.range={start:e,end:t},this.domains=n,this.activeDomain=n[0]}return e.prototype.displayStart=function(e){return arguments.length>0&&(this.range.start=e),this.range.start},e.prototype.displayEnd=function(e){return arguments.length>0&&(this.range.end=e),this.range.end},e.prototype.domainOptions=function(){return this.domains},e.prototype.domain=function(e){var t;if(arguments.length>0){for(t=0;t<this.domains.length;t+=1)if(this.domains[t].key===e)return this.activeDomain=this.domains[t];throw new Error("Unknown domain "+e)}return this.activeDomain},e}),define("platform/features/conductor/src/ConductorService",["./TimeConductor"],function(e){"use strict";function t(t,r){var o=Math.ceil(t()/i)*i;this.conductor=new e(o-n,o,r)}var n=864e5,i=n/4;return t.prototype.getConductor=function(){return this.conductor},t}),define("text!platform/features/conductor/res/templates/time-conductor.html",[],function(){return"<mct-include key=\"'time-controller'\"\n             parameters='parameters'\n             ng-model='ngModel.conductor'>\n</mct-include>\n<mct-control key=\"'select'\"\n             ng-model='ngModel'\n             field=\"'domain'\"\n             options=\"ngModel.options\"\n             class=\"l-time-domain-selector\"\n             >\n</mct-control>\n"}),define("platform/features/conductor/bundle",["./src/ConductorRepresenter","./src/ConductorTelemetryDecorator","./src/ConductorService","text!./res/templates/time-conductor.html","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("platform/features/conductor",{extensions:{representers:[{implementation:e,depends:["throttle","conductorService","$compile","views[]"]}],components:[{type:"decorator",provides:"telemetryService",implementation:t,depends:["conductorService"]},{provides:"conductorService",type:"provider",implementation:n,depends:["now","TIME_CONDUCTOR_DOMAINS"]}],templates:[{key:"time-conductor",template:i}],constants:[{key:"TIME_CONDUCTOR_DOMAINS",value:[{key:"time",name:"UTC",format:"utc"}],priority:"fallback",comment:"Placeholder; to be replaced by inspection of available domains."}]}})}),define("platform/forms/src/controllers/FormController",[],function(){"use strict";function e(e){function n(e){return e?e instanceof RegExp?e:(i[e]||(i[e]=new RegExp(e)),i[e]):t}var i=[];e.$watch("mctForm",function(t){e.name&&(e.$parent[e.name]=t)}),e.getRegExp=n}var t=/\S/;return e}),define("text!platform/forms/res/templates/form.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<form name="mctForm" novalidate class="form">\n    <span ng-repeat="section in structure.sections">\n        <div class="section-header" ng-if="section.name">\n            {{section.name}}\n        </div>\n        <div class="form-section" ng-class="{ first:$index < 1 }">\n            <ng-form name="mctFormInner" ng-repeat="row in section.rows">\n                <div class="form-row validates l-flex-row"\n                     ng-class="{\n                               req: row.required,\n                               valid: mctFormInner.$dirty && mctFormInner.$valid,\n                               invalid: mctFormInner.$dirty && !mctFormInner.$valid,\n                               first: $index < 1,\n                               \'l-controls-first\': row.layout === \'control-first\',\n                               \'l-controls-under\': row.layout === \'controls-under\'\n                               }">\n                    <div class=\'label flex-elem\' title="{{row.description}}">\n                        {{row.name}}\n                    </div>\n                    <div class=\'controls flex-elem\'>\n                        <div class="wrapper" ng-if="row.control">\n                            <mct-control key="row.control"\n                                         ng-model="ngModel"\n                                         ng-required="row.required"\n                                         ng-pattern="getRegExp(row.pattern)"\n                                         options="row.options"\n                                         structure="row"\n                                         field="row.key">\n                            </mct-control>\n                        </div>\n                    </div>\n                </div>\n            </ng-form>\n        </div>\n    </span>\n</form>';
}),define("platform/forms/src/MCTForm",["./controllers/FormController","text!../res/templates/form.html"],function(e,t){"use strict";function n(){return{restrict:"E",template:t,controller:["$scope",e],scope:{ngModel:"=",structure:"=",name:"@"}}}return n}),define("text!platform/forms/res/templates/toolbar.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<form novalidate>\n	<div class="tool-bar btn-bar contents abs">\n	    <span ng-repeat="section in structure.sections"\n	          class="l-control-group"\n	          ng-if="!section.hidden"\n	          title="{{section.description}}">\n	        <ng-form ng-repeat="item in section.items"\n	                 ng-class="{ \'input-labeled\': item.name }"\n	                 ng-hide="item.hidden"\n	                 class="inline"\n	                 title="{{item.description}}"\n	                 name="mctFormInner">\n\n	            <label ng-if="item.name">\n	                {{item.name}}:\n	            </label>\n	            <mct-control key="item.control"\n	                         ng-class="{ disabled: item.disabled }"\n	                         ng-model="ngModel"\n	                         ng-required="item.required"\n	                         ng-pattern="getRegExp(item.pattern)"\n	                         options="item.options"\n	                         structure="item"\n	                         field="item.key">\n	            </mct-control>\n	        </ng-form>\n	    </span>\n	</div>\n</form>'}),define("platform/forms/src/MCTToolbar",["./MCTForm","text!../res/templates/toolbar.html"],function(e,t){"use strict";function n(){var n=new e;return n.template=t,n}return n}),define("platform/forms/src/MCTControl",[],function(){"use strict";function e(e,t){function n(t,n,r,o){var s=e.link(t,n);t.$watch("key",function(e){s(i[e])}),t.ngModelController=o}var i={};return t.forEach(function(e){i[e.key]=e}),{restrict:"E",priority:1e3,require:"?ngModel",link:n,scope:{key:"=",ngBlur:"&",ngModel:"=",ngDisabled:"=",ngRequired:"=",ngPattern:"=",options:"=",structure:"=",field:"="}}}return e}),define("platform/forms/src/controllers/DateTimeController",["moment"],function(e){"use strict";function t(t){function i(){var i=t.datetime.date,r=t.datetime.hour,o=t.datetime.min,s=t.datetime.sec,a=e.utc(i,n).hour(r||0).minute(o||0).second(s||0);a.isValid()&&(t.ngModel[t.field]=a.valueOf()),t.partiallyComplete=Object.keys(t.datetime).some(function(e){return t.datetime[e]}),t.partiallyComplete||(t.ngModel[t.field]=void 0)}function r(i){var r;void 0!==i?(r=e.utc(i),t.datetime={date:r.format(n),hour:r.format("H"),min:r.format("m"),sec:r.format("s")}):t.datetime={}}t.$watch("ngModel[field]",r),t.$watch("datetime.date",i),t.$watch("datetime.hour",i),t.$watch("datetime.min",i),t.$watch("datetime.sec",i),t.format=n,r(t.ngModel&&t.field?t.ngModel[t.field]:void 0)}var n="YYYY-MM-DD";return t}),define("platform/forms/src/controllers/CompositeController",[],function(){"use strict";function e(){}function t(e){return"undefined"!=typeof e}return e.prototype.isNonEmpty=function(e){return Array.isArray(e)&&e.some(t)},e}),define("platform/forms/src/controllers/ColorController",[],function(){"use strict";function e(e){return"#"+e.map(function(e){return(16>e?"0":"")+e.toString(16)}).join("")}function t(e,t){return e.map(function(e){return Math.round(t>0?e+(255-e)*t:e*(1+t))})}function n(){var n;for(n=[];n.length<10;)n.push(e([Math.round(28.3333*n.length),Math.round(28.3333*n.length),Math.round(28.3333*n.length)]));s.push(n),s.push(r.map(e)),n=[],o.forEach(function(i){n=n.concat(r.map(function(n){return e(t(n,i))}))}),s.push(n)}function i(){0===s.length&&n()}var r=[[136,32,32],[224,64,64],[240,160,72],[255,248,96],[128,240,72],[128,248,248],[88,144,224],[0,72,240],[136,80,240],[224,96,248]],o=[.75,.5,.25,-.25,-.5,-.75],s=[];return i.prototype.groups=function(){return s},i}),define("platform/forms/src/controllers/DialogButtonController",[],function(){"use strict";function e(e,t){function n(t){e.ngModel[e.field]=t[e.field]}function i(){var i={};i[e.field]=e.ngModel[e.field],t.getUserInput(o,i).then(n)}function r(t){var n=Object.create(t.dialog||{});t=t||{},n.key=e.field,s.buttonStructure={},s.buttonStructure.glyph=t.glyph,s.buttonStructure.name=t.name,s.buttonStructure.description=t.description,s.buttonStructure.click=i,o={name:t.title,sections:[{rows:[n]}]}}var o,s=this;e.$watch("structure",r)}return e.prototype.getButtonStructure=function(){return this.buttonStructure},e}),define("text!platform/forms/res/templates/controls/checkbox.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<label class="checkbox custom no-text">\n    <input type="checkbox"\n           name="mctControl"\n           ng-model="ngModel[field]"\n           ng-disabled="ngDisabled">\n    <em></em>\n</label>\n'}),define("text!platform/forms/res/templates/controls/datetime.html",[],function(){return"<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class='form-control complex datetime'>\n\n    <div class='field-hints'>\n        <span class='hint date'>Date</span>\n        <span class='hint time sm'>Hour</span>\n        <span class='hint time sm'>Min</span>\n        <span class='hint time sm'>Sec</span>\n        <span class='hint timezone'>Timezone</span>\n    </div>\n\n\n    <ng-form name=\"mctControl\">\n        <div class='fields' ng-controller=\"DateTimeController\">\n            <span class='field control date'>\n                <input type='text'\n                       name='date'\n                       placeholder=\"{{format}}\"\n                       ng-pattern=\"/\\d\\d\\d\\d-\\d\\d-\\d\\d/\"\n                       ng-model='datetime.date'\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='hour'\n                       maxlength='2'\n                       min='0'\n                       max='23'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.hour\"\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='min'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.min\"\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control time sm'>\n                <input type='text'\n                       name='sec'\n                       maxlength='2'\n                       min='0'\n                       max='59'\n                       integer\n                       ng-pattern='/\\d+/'\n                       ng-model=\"datetime.sec\"\n                       ng-required='ngRequired || partiallyComplete'/>\n            </span>\n            <span class='field control timezone'>\n                UTC\n            </span>\n        </div>\n    </ng-form>\n\n\n</div>\n"}),define("text!platform/forms/res/templates/controls/select.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class=\'form-control select\'>\n    <select\n            ng-model="ngModel[field]"\n            ng-options="opt.value as opt.name for opt in options"\n            ng-required="ngRequired"\n            name="mctControl">\n        <option value="" ng-show="!ngModel[field]">- Select One -</option>\n    </select>\n</div>\n'}),define("text!platform/forms/res/templates/controls/textfield.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span class=\'form-control shell\'>\n    <span class=\'field control {{structure.cssclass}}\'>\n        <input type="text"\n               ng-required="ngRequired"\n               ng-model="ngModel[field]"\n               ng-pattern="ngPattern"\n               size="{{structure.size}}"\n               name="mctControl">\n    </span>\n</span>\n'}),define("text!platform/forms/res/templates/controls/button.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<a class="s-btn"\n   ng-class="{ labeled: structure.text }"\n   ng-click="structure.click()">\n    <span class="ui-symbol icon">\n        {{structure.glyph}}\n    </span>\n    <span class="title-label" ng-if="structure.text">\n        {{structure.text}}\n    </span>\n</a>\n'}),define("text!platform/forms/res/templates/controls/color.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div\n	class="t-btn l-btn s-btn s-menu-btn menu-element t-color-palette"\n    ng-controller="ClickAwayController as toggle"\n	>\n\n    <span class="l-click-area" ng-click="toggle.toggle()"></span>\n\n    <span class="ui-symbol icon">{{structure.glyph}}</span>\n    <span ng-style="{\n             background: ngModel[field],\n             display: \'inline-block\',\n             height: \'11px\',\n             width: \'11px\',\n         }"\n         ng-show="ngModel[field]">\n    </span>\n    <span class="title-label" ng-if="structure.text">\n        {{structure.text}}\n    </span>\n\n    <div\n	    class="menu l-color-palette"\n        ng-controller="ColorController as colors"\n        ng-show="toggle.isActive()"\n	    >\n        <div\n	        class="l-palette-row l-option-row"\n	        ng-if="!structure.mandatory"\n	        >\n            <div\n	            class="l-palette-item s-palette-item"\n                ng-click="ngModel[field] = \'transparent\'"\n	            >\n                {{ngModel[field] === \'transparent\' ? \'2\' : \'\' }}\n            </div>\n            <span class="l-palette-item-label">None</span>\n        </div>\n        <div\n	        class="l-palette-row"\n            ng-repeat="group in colors.groups()"\n	        >\n            <div\n	            class="l-palette-item s-palette-item"\n	            ng-repeat="color in group"\n                ng-style="{ background: color }"\n                ng-click="ngModel[field] = color"\n	            >\n                {{ngModel[field] === color ? \'2\' : \'\' }}\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!platform/forms/res/templates/controls/composite.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="CompositeController as compositeCtrl">\n    <ng-form name="mctFormItem" ng-repeat="item in structure.items">\n	    <div class="l-composite-control l-{{item.control}} {{item.cssclass}}">\n	        <mct-control key="item.control"\n	                     ng-model="ngModel[field]"\n	                     ng-required="ngRequired || compositeCtrl.isNonEmpty(ngModel[field])"\n	                     ng-pattern="ngPattern"\n	                     options="item.options"\n	                     structure="row"\n	                     field="$index">\n	        </mct-control>\n	        <span class="composite-control-label">\n	            {{item.name}}\n	        </span>\n	    </div>\n    </ng-form>\n</span>\n'}),define("text!platform/forms/res/templates/controls/menu-button.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="s-menu-btn menu-element"\n     ng-controller="ClickAwayController as toggle">\n\n    <span class="l-click-area" ng-click="toggle.toggle()"></span>\n\n    <span class="ui-symbol icon">{{structure.glyph}}</span>\n    <span class="title-label" ng-if="structure.text">\n        {{structure.text}}\n    </span>\n\n    <div class="menu" ng-show="toggle.isActive()">\n        <ul>\n            <li ng-click="structure.click(option.key); toggle.setState(false)" ng-repeat="option in structure.options">\n                <a href="">\n                    <span class="ui-symbol type-icon icon">\n                        {{option.glyph}}\n                    </span>\n                    {{option.name}}\n                </a>\n            </li>\n        </ul>\n    </div>\n</div>'}),define("text!platform/forms/res/templates/controls/dialog.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="DialogButtonController as dialog">\n    <mct-control key="\'button\'"\n                 structure="dialog.getButtonStructure()">\n    </mct-control>\n</span>'}),define("text!platform/forms/res/templates/controls/radio.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<label class="radio custom no-text">\n    <input type="radio"\n           name="mctControl"\n           ng-model="ngModel[field]"\n           ng-disabled="ngDisabled"\n           ng-value="structure.value">\n    <em></em>\n</label>\n'}),define("platform/forms/bundle",["./src/MCTForm","./src/MCTToolbar","./src/MCTControl","./src/controllers/DateTimeController","./src/controllers/CompositeController","./src/controllers/ColorController","./src/controllers/DialogButtonController","text!./res/templates/controls/checkbox.html","text!./res/templates/controls/datetime.html","text!./res/templates/controls/select.html","text!./res/templates/controls/textfield.html","text!./res/templates/controls/button.html","text!./res/templates/controls/color.html","text!./res/templates/controls/composite.html","text!./res/templates/controls/menu-button.html","text!./res/templates/controls/dialog.html","text!./res/templates/controls/radio.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m,g,y){"use strict";y.register("platform/forms",{name:"MCT Forms",description:"Form generator; includes directive and some controls.",extensions:{directives:[{key:"mctForm",implementation:e},{key:"mctToolbar",implementation:t},{key:"mctControl",implementation:n,depends:["templateLinker","controls[]"]}],controls:[{key:"checkbox",template:a},{key:"radio",template:g},{key:"datetime",template:c},{key:"select",template:l},{key:"textfield",template:u},{key:"button",template:d},{key:"color",template:p},{key:"composite",template:f},{key:"menu-button",template:h},{key:"dialog-button",template:m}],controllers:[{key:"DateTimeController",implementation:i,depends:["$scope"]},{key:"CompositeController",implementation:r},{key:"ColorController",implementation:o},{key:"DialogButtonController",implementation:s,depends:["$scope","dialogService"]}]}})}),define("platform/identity/src/IdentityAggregator",[],function(){"use strict";function e(e,t){this.providers=t,this.$q=e}function t(e){return e.getUser()}function n(e){return e}function i(e){return e.filter(n)[0]}return e.prototype.getUser=function(){var e=this.$q,n=this.providers.map(t);return e.all(n).then(i)},e}),define("platform/identity/src/IdentityProvider",[],function(){"use strict";function e(e){this.userPromise=e.when(void 0)}return e.prototype.getUser=function(){return this.userPromise},e}),define("platform/identity/src/IdentityCreationDecorator",[],function(){"use strict";function e(e,t){this.identityService=e,this.creationService=t}return e.prototype.createObject=function(e,t){var n=this.creationService,i=this.identityService;return i.getUser().then(function(i){return i&&i.key&&(e.creator=i.key),n.createObject(e,t)})},e}),define("platform/identity/src/IdentityIndicator",[],function(){"use strict";function e(e){var t=this;e.getUser().then(function(e){e&&e.key&&(t.text=e.name||e.key,t.description="Logged in as "+e.key)})}return e.prototype.getGlyph=function(){return this.text&&"P"},e.prototype.getGlyphClass=function(){},e.prototype.getText=function(){return this.text},e.prototype.getDescription=function(){return this.description},e}),define("platform/identity/bundle",["./src/IdentityAggregator","./src/IdentityProvider","./src/IdentityCreationDecorator","./src/IdentityIndicator","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("platform/identity",{extensions:{components:[{implementation:e,type:"aggregator",provides:"identityService",depends:["$q"]},{implementation:t,type:"provider",provides:"identityService",depends:["$q"],priority:"fallback"},{type:"decorator",provides:"creationService",implementation:n,depends:["identityService"]}],indicators:[{implementation:i,depends:["identityService"]}],types:[{properties:[{key:"creator",name:"Creator"}]}]}})}),define("platform/persistence/aggregator/src/PersistenceAggregator",[],function(){"use strict";function e(e,t){function n(e){return e.listSpaces().then(function(t){t.forEach(function(t){i[t]=i[t]||e})})}var i={};this.providerMapPromise=e.all(t.map(n)).then(function(){return i})}var t={createObject:!1,readObject:void 0,listObjects:[],updateObject:!1,deleteObject:!1};return e.prototype.listSpaces=function(){return this.providerMapPromise.then(function(e){return Object.keys(e)})},Object.keys(t).forEach(function(n){e.prototype[n]=function(e){var i=Array.prototype.slice.apply(arguments,[]);return this.providerMapPromise.then(function(r){var o=r[e];return o?o[n].apply(o,i):t[n]})}}),e}),define("platform/persistence/aggregator/bundle",["./src/PersistenceAggregator","legacyRegistry"],function(e,t){"use strict";t.register("platform/persistence/aggregator",{extensions:{components:[{provides:"persistenceService",type:"aggregator",depends:["$q"],implementation:e}]}})}),define("platform/persistence/local/src/LocalStoragePersistenceProvider",[],function(){"use strict";function e(e,t){this.$q=e,this.space=t,this.spaces=t?[t]:[],this.localStorage=window.localStorage}return e.prototype.setValue=function(e,t){this.localStorage[e]=JSON.stringify(t)},e.prototype.getValue=function(e){return this.localStorage[e]?JSON.parse(this.localStorage[e]):{}},e.prototype.listSpaces=function(){return this.$q.when(this.spaces)},e.prototype.listObjects=function(e){return this.$q.when(Object.keys(this.getValue(e)))},e.prototype.createObject=function(e,t,n){var i=this.getValue(e);return i[t]=n,this.setValue(e,i),this.$q.when(!0)},e.prototype.readObject=function(e,t){var n=this.getValue(e);return this.$q.when(n[t])},e.prototype.deleteObject=function(e,t,n){var i=this.getValue(e);return delete i[t],this.setValue(e,i),this.$q.when(!0)},e.prototype.updateObject=e.prototype.createObject,e}),define("platform/persistence/local/src/LocalStorageIndicator",[],function(){"use strict";function e(){}var t=["Using browser local storage for persistence.","Anything you create or change will be visible only","in this browser on this machine."].join(" ");return e.prototype.getGlyph=function(){return"D"},e.prototype.getGlyphClass=function(){return"caution"},e.prototype.getText=function(){return"Off-line storage"},e.prototype.getDescription=function(){return t},e}),define("platform/persistence/local/bundle",["./src/LocalStoragePersistenceProvider","./src/LocalStorageIndicator","legacyRegistry"],function(e,t,n){"use strict";n.register("platform/persistence/local",{extensions:{components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$q","PERSISTENCE_SPACE"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}],indicators:[{implementation:t}]}})}),define("platform/persistence/queue/src/QueuingPersistenceCapability",[],function(){"use strict";function e(e,t,n){var i=Object.create(t);return i.persist=function(){return e.put(n,t)},i}return e}),define("platform/persistence/queue/src/QueuingPersistenceCapabilityDecorator",["./QueuingPersistenceCapability"],function(e){"use strict";function t(e,t){this.persistenceQueue=e,this.capabilityService=t}return t.prototype.getCapabilities=function(t){function n(t){var n=t.persistence;return n&&(t.persistence=function(t){var i="function"==typeof n?n(t):n;return new e(r,i,t)}),t}var i=this.capabilityService,r=this.persistenceQueue;return n(i.getCapabilities(t))},t}),define("platform/persistence/queue/src/PersistenceQueueImpl",[],function(){"use strict";function e(e,t,n,i){this.persistences={},this.objects={},this.lastObservedSize=0,this.activeDefer=e.defer(),this.delay=i||0,this.handler=n,this.$timeout=t,this.$q=e}return e.prototype.scheduleFlush=function(){function e(){return Object.keys(i.persistences).length===i.lastObservedSize}function t(){function e(e){return i.flushPromise=void 0,t.resolve(e),e}var t=i.activeDefer;i.flushPromise=s.persist(i.persistences,i.objects,i).then(e,e),i.persistences={},i.objects={},i.lastObservedSize=0,i.pendingTimeout=void 0,i.activeDefer=o.defer()}function n(){i.pendingTimeout=void 0,e()?t():i.scheduleFlush(),i.lastObservedSize=Object.keys(i.persistences).length}var i=this,r=this.$timeout,o=this.$q,s=this.handler;return i.flushPromise?i.flushPromise.then(n):i.pendingTimeout=i.pendingTimeout||r(n,i.delay,!1),i.activeDefer.promise},e.prototype.put=function(e,t){var n=e.getId();return this.persistences[n]=t,this.objects[n]=e,this.scheduleFlush()},e}),define("platform/persistence/queue/src/PersistenceQueueHandler",[],function(){"use strict";function e(e,t){this.$q=e,this.failureHandler=t}return e.prototype.persist=function(e,t,n){function i(e,t,n,i){function r(e){function r(){return i.put(l,a)}function o(e){return e}function s(t){return c.push({id:e,persistence:a,domainObject:l,
requeue:r,error:t}),!1}var a=t[e],l=n[e];return a.persist().then(o,s)}function a(e){return c.length>0?s.handle(c):e}var c=[];return o.all(e.map(r)).then(a)}var r=Object.keys(e),o=this.$q,s=this.failureHandler;return i(r,e,t,n)},e}),define("platform/persistence/queue/src/PersistenceFailureConstants",{REVISION_ERROR_KEY:"revision",OVERWRITE_KEY:"overwrite",TIMESTAMP_FORMAT:"YYYY-MM-DD HH:mm:ss\\Z",UNKNOWN_USER:"unknown user"}),define("platform/persistence/queue/src/PersistenceFailureDialog",["./PersistenceFailureConstants"],function(e){"use strict";function t(t){function r(t){var n=((t||{}).error||{}).key===e.REVISION_ERROR_KEY;(n?o:s).push(t)}var o=[],s=[];return t.forEach(r),{title:"Save Error",template:"persistence-failure-dialog",model:{revised:o,unrecoverable:s},options:o.length>0?n:i}}var n=[{name:"Overwrite",key:e.OVERWRITE_KEY},{name:"Discard",key:"cancel"}],i=[{name:"OK",key:"ok"}];return t}),define("platform/persistence/queue/src/PersistenceFailureHandler",["./PersistenceFailureDialog","./PersistenceFailureConstants"],function(e,t){"use strict";function n(e,t){this.$q=e,this.dialogService=t}return n.prototype.handle=function(n){function i(e){return e.persistence.refresh()}function r(e){e.requeue()}function o(e){function t(e){o[e.id]=JSON.parse(JSON.stringify(e.domainObject.getModel()))}function n(e){var t=o[e.id];return e.domainObject.useCapability("mutation",function(){return t},t.modified)}var o={};return e.forEach(t),d.all(e.map(i)).then(function(){return d.all(e.map(n))}).then(function(){return d.all(e.map(r))})}function s(e){var t=e.domainObject.getCapability("persistence");return t.refresh()}function a(e){return d.all(e.map(s))}function c(e){return e===t.OVERWRITE_KEY?o(u):a(u)}var l=new e(n),u=l.model.revised,d=this.$q;return this.dialogService.getUserChoice(l).then(c,c)},n}),define("platform/persistence/queue/src/PersistenceQueue",["./PersistenceQueueImpl","./PersistenceQueueHandler","./PersistenceFailureHandler"],function(e,t,n){"use strict";function i(i,r,o,s){return new e(i,r,new t(i,new n(i,o)),s)}return i}),define("platform/persistence/queue/src/PersistenceFailureController",["moment","./PersistenceFailureConstants"],function(e,t){"use strict";function n(){}return n.prototype.formatTimestamp=function(n){return e.utc(n).format(t.TIMESTAMP_FORMAT)},n.prototype.formatUsername=function(e){return e||t.UNKNOWN_USER},n}),define("text!platform/persistence/queue/res/templates/persistence-failure-dialog.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<span ng-controller="PersistenceFailureController as controller">\n\n<div ng-if="ngModel.revised.length > 0">\n    External changes have been made to the following objects:\n    <ul>\n        <li ng-repeat="failure in ngModel.revised">\n            <mct-representation key="\'label\'"\n                                mct-object="failure.domainObject">\n            </mct-representation>\n            was modified at\n            <b>{{controller.formatTimestamp(failure.error.model.modified)}}</b>\n            by\n            <i>{{controller.formatUsername(failure.error.model.modifier)}}</i>\n        </li>\n    </ul>\n    You may overwrite these objects, or discard your changes to keep\n    the updates that were made externally.\n</div>\n\n<div ng-if="ngModel.unrecoverable.length > 0">\n    Changes to these objects could not be saved for unknown reasons:\n    <ul>\n        <li ng-repeat="failure in ngModel.unrecoverable">\n            <mct-representation key="\'label\'"\n                                mct-object="failure.domainObject">\n            </mct-representation>\n        </li>\n    </ul>\n</div>\n\n</span>'}),define("platform/persistence/queue/bundle",["./src/QueuingPersistenceCapabilityDecorator","./src/PersistenceQueue","./src/PersistenceFailureController","text!./res/templates/persistence-failure-dialog.html","legacyRegistry"],function(e,t,n,i,r){"use strict";r.register("platform/persistence/queue",{extensions:{components:[{type:"decorator",provides:"capabilityService",implementation:e,depends:["persistenceQueue"]}],services:[{key:"persistenceQueue",implementation:t,depends:["$q","$timeout","dialogService","PERSISTENCE_QUEUE_DELAY"]}],constants:[{key:"PERSISTENCE_QUEUE_DELAY",value:5}],templates:[{key:"persistence-failure-dialog",template:i}],controllers:[{key:"PersistenceFailureController",implementation:n}]}})}),define("platform/policy/src/PolicyActionDecorator",[],function(){"use strict";function e(e,t){this.policyService=e,this.actionService=t}return e.prototype.getActions=function(e){function t(t){return n.allow("action",t,e)}var n=this.policyService;return this.actionService.getActions(e).filter(t)},e}),define("platform/policy/src/PolicyViewDecorator",[],function(){"use strict";function e(e,t){this.policyService=e,this.viewService=t}return e.prototype.getViews=function(e){function t(t){return n.allow("view",t,e)}var n=this.policyService;return this.viewService.getViews(e).filter(t)},e}),define("platform/policy/src/PolicyProvider",[],function(){"use strict";function e(e){function t(e){var t=Object.create(new e);return t.message=e.message,t}function n(e){var n=(e||{}).category;n&&(i[n]=i[n]||[],i[n].push(t(e)))}var i={};e.forEach(n),this.policyMap=i}return e.prototype.allow=function(e,t,n,i){var r,o=this.policyMap[e]||[];for(r=0;r<o.length;r+=1)if(!o[r].allow(t,n))return i&&i(o[r].message),!1;return!0},e}),define("platform/policy/bundle",["./src/PolicyActionDecorator","./src/PolicyViewDecorator","./src/PolicyProvider","legacyRegistry"],function(e,t,n,i){"use strict";i.register("platform/policy",{name:"Policy Service",description:"Provides support for extension-driven decisions.",sources:"src",extensions:{components:[{type:"decorator",provides:"actionService",implementation:e,depends:["policyService"]},{type:"decorator",provides:"viewService",implementation:t,depends:["policyService"]},{type:"provider",provides:"policyService",implementation:n,depends:["policies[]"]}]}})}),define("platform/entanglement/src/actions/AbstractComposeAction",[],function(){"use strict";function e(e,t,n,i,r,o){i.selectedObject?(this.newParent=i.domainObject,this.object=i.selectedObject):this.object=i.domainObject,this.currentParent=this.object.getCapability("context").getParent(),this.context=i,this.policyService=e,this.locationService=t,this.composeService=n,this.verb=r||"Compose",this.suffix=o||"to a new location"}return e.prototype.cloneContext=function(){var e={},t=this.context;return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e.prototype.perform=function(){var e,t,n,i=this,r=this.locationService,o=this.composeService,s=this.currentParent,a=this.newParent,c=this.object;return a?o.perform(c,a):(e=[this.verb,c.getModel().name,this.suffix].join(" "),t=this.verb+" To",n=function(e){var t=i.cloneContext();return t.selectedObject=c,t.domainObject=e,o.validate(c,e)&&i.policyService.allow("action",i,t)},r.getLocationFromUser(e,t,n,s).then(function(e){return o.perform(c,e)}))},e.appliesTo=function(e){var t=e.selectedObject||e.domainObject;return!(!t||!t.hasCapability("context"))},e}),define("platform/entanglement/src/actions/MoveAction",["./AbstractComposeAction"],function(e){"use strict";function t(t,n,i,r){e.apply(this,[t,n,i,r,"Move"])}return t.prototype=Object.create(e.prototype),t.appliesTo=e.appliesTo,t}),define("platform/entanglement/src/actions/CopyAction",["./AbstractComposeAction"],function(e){"use strict";function t(t,n,i,r,o,s,a){this.dialog=void 0,this.notification=void 0,this.dialogService=o,this.notificationService=s,this.$log=t,e.call(this,n,i,r,a,"Duplicate","to a location")}return t.prototype=Object.create(e.prototype),t.prototype.progress=function(e,t,n){"preparing"!==e.toLowerCase()||this.dialog?"copying"===e.toLowerCase()&&(this.dialogService.dismiss(),this.notification||(this.notification=this.notificationService.notify({title:"Copying objects",unknownProgress:!1,severity:"info"})),this.notification.model.progress=n/t*100,this.notification.model.title=["Copied ",n,"of ",t,"objects"].join(" ")):this.dialog=this.dialogService.showBlockingMessage({title:"Preparing to copy objects",unknownProgress:!0,severity:"info"})},t.prototype.perform=function(){function t(){r.notification.dismiss(),r.notificationService.info("Copying complete.")}function n(e){var t={title:"Error copying objects.",severity:"error",hint:e.message,minimized:!0,options:[{label:"OK",callback:function(){r.dialogService.dismiss()}}]};r.dialogService.dismiss(),r.notification&&r.notification.dismiss(),r.$log.error("Error copying objects. ",e),r.notificationService.notify(t),r.dialogService.showBlockingMessage(t)}function i(e){r.progress(e.phase,e.totalObjects,e.processed)}var r=this;return e.prototype.perform.call(this).then(t,n,i)},t.appliesTo=e.appliesTo,t}),define("platform/entanglement/src/actions/LinkAction",["./AbstractComposeAction"],function(e){"use strict";function t(t,n,i,r){e.apply(this,[t,n,i,r,"Link"])}return t.prototype=Object.create(e.prototype),t.appliesTo=e.appliesTo,t}),define("platform/entanglement/src/actions/GoToOriginalAction",[],function(){"use strict";function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){return this.domainObject.getCapability("location").getOriginal().then(function(e){var t=e.getCapability("action");return t&&t.perform("navigate")})},e.appliesTo=function(e){var t=e.domainObject;return t&&t.hasCapability("location")&&t.getCapability("location").isLink()},e}),define("platform/entanglement/src/actions/SetPrimaryLocationAction",[],function(){"use strict";function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){var e=this.domainObject.getCapability("location");return e.setPrimaryLocation(e.getContextualLocation())},e.appliesTo=function(e){var t=e.domainObject;return t&&t.hasCapability("location")&&void 0===t.getModel().location},e}),define("platform/entanglement/src/services/LocatingCreationDecorator",[],function(){"use strict";function e(e){this.creationService=e}return e.prototype.createObject=function(e,t){return t&&t.getId&&(e.location=t.getId()),this.creationService.createObject(e,t)},e}),define("platform/entanglement/src/services/LocatingObjectDecorator",[],function(){"use strict";function e(e,t,n,i){this.contextualize=e,this.$log=n,this.objectService=i,this.$q=t}return e.prototype.getObjects=function(e){function t(e,n){function s(o){var s=(o||{})[e],a=s&&s.getModel(),c=(a||{}).location;return c?n[e]?(i.warn(["LocatingObjectDecorator detected a cycle","while attempted to define a context for",e+";","no context will be added and unexpected behavior","may follow."].join(" ")),s):(n[e]=!0,t(c,n).then(function(e){return r(s,e)})):s}return o.getObjects([e]).then(s)}var n=this.$q,i=this.$log,r=this.contextualize,o=this.objectService,s={};return e.forEach(function(e){s[e]=t(e,{})}),n.all(s)},e}),define("platform/entanglement/src/policies/CopyPolicy",[],function(){"use strict";function e(){}function t(e){var t=e&&e.getCapability("type");return!(!t||!t.hasFeature("creation"))}function n(e){return e.selectedObject||e.domainObject}return e.prototype.allow=function(e,i){var r=e.getMetadata().key;return"copy"===r?t(n(i)):!0},e}),define("platform/entanglement/src/policies/CrossSpacePolicy",[],function(){"use strict";function e(){}function t(e){var t=e&&e.getCapability("persistence");return t&&t.getSpace()}function n(e){var n=e.domainObject,i=e.selectedObject;[n,i].map(t);return void 0!==i&&void 0!==n&&t(n)!==t(i)}var i=["move","copy"];return e.prototype.allow=function(e,t){var r=e.getMetadata().key;return-1!==i.indexOf(r)?!n(t):!0},e}),define("platform/entanglement/src/policies/MovePolicy",[],function(){"use strict";function e(){}function t(e){var t=e.getCapability("context");return t&&t.getParent()}function n(e){var t=e&&e.getCapability("type");return!(!t||!t.hasFeature("creation"))}function i(e){return e.selectedObject||e.domainObject}return e.prototype.allow=function(e,r){var o=e.getMetadata().key;return"move"===o?n(i(r))&&n(t(i(r))):!0},e}),define("platform/entanglement/src/capabilities/LocationCapability",[],function(){"use strict";function e(e,t,n){return this.domainObject=n,this.$q=e,this.$injector=t,this}return e.prototype.getOriginal=function(){var e;return this.isOriginal()?this.$q.when(this.domainObject):(e=this.domainObject.getId(),this.objectService=this.objectService||this.$injector.get("objectService"),this.objectService.getObjects([e]).then(function(t){return t[e]}))},e.prototype.setPrimaryLocation=function(e){var t=this;return this.domainObject.useCapability("mutation",function(t){t.location=e}).then(function(){return t.domainObject.getCapability("persistence").persist()})},e.prototype.getContextualLocation=function(){var e=this.domainObject.getCapability("context");if(e)return e.getParent().getId()},e.prototype.isLink=function(){var e=this.domainObject.getModel();return e.location!==this.getContextualLocation()},e.prototype.isOriginal=function(){return!this.isLink()},e}),define("platform/entanglement/src/services/MoveService",[],function(){"use strict";function e(e,t){this.policyService=e,this.linkService=t}return e.prototype.validate=function(e,t){var n=e.getCapability("context").getParent();return t&&t.getId?t.getId()===n.getId()?!1:t.getId()===e.getId()?!1:-1!==t.getModel().composition.indexOf(e.getId())?!1:this.policyService.allow("composition",t.getCapability("type"),e.getCapability("type")):!1},e.prototype.perform=function(e,t){function n(t){var n=t.getCapability("location"),i=e.getCapability("location");if(n&&i)return i.isOriginal()?n.setPrimaryLocation(n.getContextualLocation()):void 0}if(!this.validate(e,t))throw new Error("Tried to move objects without validating first.");return this.linkService.perform(e,t).then(n).then(function(){return e.getCapability("action").perform("remove")})},e}),define("platform/entanglement/src/services/LinkService",[],function(){"use strict";function e(e){this.policyService=e}return e.prototype.validate=function(e,t){return t&&t.getId?t.getId()===e.getId()?!1:t.hasCapability("composition")?-1!==t.getModel().composition.indexOf(e.getId())?!1:this.policyService.allow("composition",t.getCapability("type"),e.getCapability("type")):!1:!1},e.prototype.perform=function(e,t){if(!this.validate(e,t))throw new Error("Tried to link objects without validating first.");return t.getCapability("composition").add(e).then(function(e){return t.getCapability("persistence").persist().then(function(){return e})})},e}),define("platform/entanglement/src/services/CopyTask",[],function(){"use strict";function e(e,t,n,i){this.domainObject=e,this.parent=t,this.firstClone=void 0,this.$q=i,this.deferred=void 0,this.filter=n,this.persisted=0,this.clones=[],this.idMap={}}function t(e,t,n){return t.getModel().composition.push(e.getId()),n&&void 0===e.getModel().location&&(e.getModel().location=t.getId()),e}function n(e){var t=JSON.parse(JSON.stringify(e));return t.composition&&(t.composition=[]),delete t.persisted,delete t.modified,delete t.location,t}function i(e){return e.$q.all(e.clones.map(function(t){return t.getCapability("persistence").persist().then(function(){e.deferred.notify({phase:"copying",totalObjects:e.clones.length,processed:++e.persisted})})})).then(function(){return e})}function r(e){return e.parent.getCapability("composition").add(e.firstClone).then(function(t){return e.parent.getCapability("persistence").persist().then(function(){return t})})}return e.prototype.rewriteIdentifiers=function(e,t){function n(e){return"string"==typeof e&&t[e]||e}Array.isArray(e)?e.forEach(function(i,r){e[r]=n(i),this.rewriteIdentifiers(e[r],t)},this):e&&"object"==typeof e&&Object.keys(e).forEach(function(i){var r=e[i];e[i]=n(r),t[i]&&(delete e[i],e[t[i]]=r),this.rewriteIdentifiers(r,t)},this)},e.prototype.copyComposees=function(e,n,i){var r=this,o={};return(e||[]).reduce(function(e,s){return e.then(function(){return r.copy(s,i).then(function(e){return o[s.getId()]=e.getId(),t(e,n,e!==s)})})},r.$q.when(void 0)).then(function(){return r.rewriteIdentifiers(n.getModel(),o),r.clones.push(n),n})},e.prototype.copy=function(e){var t,i=this;return this.filter(e)?(t=this.parent.useCapability("instantiation",n(e.getModel())),this.$q.when(e.useCapability("composition")).then(function(n){return i.deferred.notify({phase:"preparing"}),i.copyComposees(n,t,e)})):i.$q.when(e)},e.prototype.buildCopyPlan=function(){var e=this;return this.copy(e.domainObject,e.parent).then(function(t){return t!==e.domainObject&&(t.getModel().location=e.parent.getId()),e.firstClone=t,e})},e.prototype.perform=function(){return this.deferred=this.$q.defer(),this.buildCopyPlan().then(i).then(r).then(this.deferred.resolve,this.deferred.reject),this.deferred.promise},e}),define("platform/entanglement/src/services/CopyService",["./CopyTask"],function(e){"use strict";function t(e,t){this.$q=e,this.policyService=t}return t.prototype.validate=function(e,t){return t&&t.getId?t.getId()===e.getId()?!1:this.policyService.allow("composition",t.getCapability("type"),e.getCapability("type")):!1},t.prototype.perform=function(t,n,i){function r(e){return(!i||i(e))&&o.allow("creation",e.getCapability("type"))}var o=this.policyService;if(this.validate(t,n))return new e(t,n,r,this.$q).perform();throw new Error("Tried to copy objects without validating first.")},t}),define("platform/entanglement/src/services/LocationService",[],function(){"use strict";function e(e){return{getLocationFromUser:function(t,n,i,r){var o,s;return o={sections:[{name:"Location",rows:[{name:n,control:"locator",validate:i,key:"location"}]}],name:t},s={location:r},e.getUserInput(o,s).then(function(e){return e.location})}}}return e}),define("platform/entanglement/bundle",["./src/actions/MoveAction","./src/actions/CopyAction","./src/actions/LinkAction","./src/actions/GoToOriginalAction","./src/actions/SetPrimaryLocationAction","./src/services/LocatingCreationDecorator","./src/services/LocatingObjectDecorator","./src/policies/CopyPolicy","./src/policies/CrossSpacePolicy","./src/policies/MovePolicy","./src/capabilities/LocationCapability","./src/services/MoveService","./src/services/LinkService","./src/services/CopyService","./src/services/LocationService","legacyRegistry"],function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,h,m){"use strict";m.register("platform/entanglement",{name:"Entanglement",description:"Tools to assist you in entangling the world of WARP.",configuration:{},extensions:{actions:[{key:"move",name:"Move",description:"Move object to another location.",glyph:"f",category:"contextual",implementation:e,depends:["policyService","locationService","moveService"]},{key:"copy",name:"Duplicate",description:"Duplicate object to another location.",glyph:"+",category:"contextual",implementation:t,depends:["$log","policyService","locationService","copyService","dialogService","notificationService"]},{key:"link",name:"Create Link",description:"Create Link to object in another location.",glyph:"è",category:"contextual",implementation:n,depends:["policyService","locationService","linkService"]},{key:"follow",name:"Go To Original",description:"Go to the original, un-linked instance of this object.",glyph:"ô",category:"contextual",implementation:i},{key:"locate",name:"Set Primary Location",description:"Set a domain object's primary location.",glyph:"",category:"contextual",implementation:r}],components:[{type:"decorator",provides:"creationService",implementation:o},{type:"decorator",provides:"objectService",implementation:s,depends:["contextualize","$q","$log"]}],policies:[{category:"action",implementation:c},{category:"action",implementation:a},{category:"action",implementation:l}],capabilities:[{key:"location",name:"Location Capability",description:"Provides a capability for retrieving the location of an object based upon it's context.",implementation:u,depends:["$q","$injector"]}],services:[{key:"moveService",name:"Move Service",description:"Provides a service for moving objects",implementation:d,depends:["policyService","linkService","$q"]},{key:"linkService",name:"Link Service",description:"Provides a service for linking objects",implementation:p,depends:["policyService"]},{key:"copyService",name:"Copy Service",description:"Provides a service for copying objects",implementation:f,depends:["$q","policyService","now"]},{key:"locationService",name:"Location Service",description:"Provides a service for prompting a user for locations.",implementation:h,depends:["dialogService"]}],licenses:[]}})}),define("platform/search/src/controllers/SearchController",[],function(){"use strict";function e(e,t){var n=this;this.$scope=e,this.searchService=t,this.numberToDisplay=this.RESULTS_PER_PAGE,this.availabileResults=0,this.$scope.results=[],this.$scope.loading=!1,this.pendingQuery=void 0,this.$scope.ngModel.filter=function(){return n.onFilterChange.apply(n,arguments)}}return e.prototype.RESULTS_PER_PAGE=20,e.prototype.areMore=function(){return this.$scope.results.length<this.availableResults},e.prototype.loadMore=function(){this.numberToDisplay+=this.RESULTS_PER_PAGE,this.dispatchSearch()},e.prototype.search=function(){var e=this.$scope.ngModel.input;return this.clearResults(),e?(this.$scope.loading=!0,this.$scope.ngModel.search=!0,void this.dispatchSearch()):(this.pendingQuery=void 0,this.$scope.ngModel.search=!1,void(this.$scope.loading=!1))},e.prototype.dispatchSearch=function(){var e=this.$scope.ngModel.input,t=this,n=e+this.numberToDisplay;this.pendingQuery!==n&&(this.pendingQuery=n,this.searchService.query(e,this.numberToDisplay,this.filterPredicate()).then(function(e){t.pendingQuery===n&&t.onSearchComplete(e)}))},e.prototype.filter=e.prototype.onFilterChange,e.prototype.onFilterChange=function(){this.pendingQuery=void 0,this.search()},e.prototype.filterPredicate=function(){if(this.$scope.ngModel.checkAll)return function(){return!0};var e=this.$scope.ngModel.checked;return function(t){return!!e[t.type]}},e.prototype.clearResults=function(){this.$scope.results=[],this.availableResults=0,this.numberToDisplay=this.RESULTS_PER_PAGE},e.prototype.onSearchComplete=function(e){this.availableResults=e.total,this.$scope.results=e.hits,this.$scope.loading=!1,this.pendingQuery=void 0},e}),define("platform/search/src/controllers/SearchMenuController",[],function(){"use strict";function e(e,t){function n(){var t,n;if(e.ngModel.checkAll)for(t in e.ngModel.checked)e.ngModel.checked[t]&&(e.ngModel.checkAll=!1);if(e.ngModel.filtersString="",!e.ngModel.checkAll){for(n=0;n<e.ngModel.types.length;n+=1)e.ngModel.checked[e.ngModel.types[n].key]&&(""===e.ngModel.filtersString?e.ngModel.filtersString+=e.ngModel.types[n].name:e.ngModel.filtersString+=", "+e.ngModel.types[n].name);""===e.ngModel.filtersString&&(e.ngModel.filtersString="NONE")}e.ngModel.filter()}function i(){var t;for(t in e.ngModel.checked)e.ngModel.checked[t]=!1;e.ngModel.checkAll?e.ngModel.filtersString="":e.ngModel.filtersString="NONE",e.ngModel.filter()}return e.ngModel.types=[],e.ngModel.checked={},e.ngModel.checkAll=!0,e.ngModel.filtersString="",t.forEach(function(t){t.key&&t.name&&"root"!==t.key&&(e.ngModel.types.push(t),e.ngModel.checked[t.key]=!1)}),{updateOptions:n,checkAll:i}}return e}),define("platform/search/src/controllers/ClickAwayController",[],function(){"use strict";function e(e,t){function n(){s=!1,t.off("mouseup",o)}function i(){s=!0,t.on("mouseup",o)}function r(){s?n():i()}var o,s=!1;return o=function(){return n(),e.$apply(),!1},{isActive:function(){return s},setState:function(e){s!==e&&r()},toggle:function(){r()}}}return e}),define("platform/search/src/services/GenericSearchProvider",[],function(){"use strict";function e(e,t,n,i,r,o){var s=this;this.$q=e,this.$log=t,this.modelService=n,this.indexedIds={},this.idsToIndex=[],this.pendingIndex={},this.pendingRequests=0,this.pendingQueries={},this.worker=this.startWorker(i),this.indexOnMutation(r),o.forEach(function(e){s.scheduleForIndexing(e)})}return e.prototype.MAX_CONCURRENT_REQUESTS=100,e.prototype.query=function(e,t){var n=this.dispatchSearch(e,t),i=this.$q.defer();return this.pendingQueries[n]=i,i.promise},e.prototype.startWorker=function(e){var t=e.run("genericSearchWorker"),n=this;return t.addEventListener("message",function(e){n.onWorkerMessage(e)}),t},e.prototype.indexOnMutation=function(e){var t=e("mutation"),n=this;t.listen(function(e){var t=e.getCapability("status");t&&t.get("editing")||n.index(e.getId(),e.getModel())})},e.prototype.scheduleForIndexing=function(e){this.indexedIds[e]||this.pendingIndex[e]||(this.indexedIds[e]=!0,this.pendingIndex[e]=!0,this.idsToIndex.push(e)),this.keepIndexing()},e.prototype.keepIndexing=function(){for(;this.pendingRequests<this.MAX_CONCURRENT_REQUESTS&&this.idsToIndex.length;)this.beginIndexRequest()},e.prototype.index=function(e,t){var n=this;this.worker.postMessage({request:"index",model:t,id:e}),Array.isArray(t.composition)&&t.composition.forEach(function(e){n.scheduleForIndexing(e)})},e.prototype.beginIndexRequest=function(){var e=this.idsToIndex.shift(),t=this;this.pendingRequests+=1,this.modelService.getModels([e]).then(function(n){delete t.pendingIndex[e],n[e]&&t.index(e,n[e])},function(){t.$log.warn("Failed to index domain object "+e)}).then(function(){setTimeout(function(){t.pendingRequests-=1,t.keepIndexing()},0)})},e.prototype.onWorkerMessage=function(e){if("search"===e.data.request){var t=this.pendingQueries[e.data.queryId],n={total:e.data.total};n.hits=e.data.results.map(function(e){return{id:e.item.id,model:e.item.model,score:e.matchCount}}),t.resolve(n),delete this.pendingQueries[e.data.queryId]}},e.prototype.makeQueryId=function(){for(var e=Math.ceil(1e5*Math.random());this.pendingQueries[e];)e=Math.ceil(1e5*Math.random());return e},e.prototype.dispatchSearch=function(e,t){var n=this.makeQueryId();return this.worker.postMessage({request:"search",input:e,maxResults:t,queryId:n}),n},e}),define("platform/search/src/services/SearchAggregator",[],function(){"use strict";function e(e,t,n){this.$q=e,this.objectService=t,this.providers=n}return e.prototype.DEFAULT_MAX_RESULTS=100,e.prototype.FUDGE_FACTOR=5,e.prototype.query=function(e,t,n){var i,r=this;return t||(t=this.DEFAULT_MAX_RESULTS),i=this.providers.map(function(n){return n.query(e,t*r.FUDGE_FACTOR)}),this.$q.all(i).then(function(e){var t={hits:[],total:0};return e.forEach(function(e){t.hits=t.hits.concat(e.hits),t.total+=e.total}),t=r.orderByScore(t),t=r.applyFilter(t,n),t=r.removeDuplicates(t),r.asObjectResults(t)})},e.prototype.orderByScore=function(e){return e.hits.sort(function(e,t){return e.score>t.score?-1:t.score>e.score?1:0}),e},e.prototype.applyFilter=function(e,t){if(!t)return e;var n,i,r=e.hits.length;return e.hits=e.hits.filter(function(e){return t(e.model)}),n=e.hits.length,i=r-n,e.total-=i,e},e.prototype.removeDuplicates=function(e){var t={};return e.hits=e.hits.filter(function(n){return t[n.id]?(e.total-=1,!1):(t[n.id]=!0,!0)}),e},e.prototype.asObjectResults=function(e){var t=e.hits.map(function(e){return e.id});return this.objectService.getObjects(t).then(function(t){var n={total:e.total};return n.hits=e.hits.map(function(e){return{id:e.id,object:t[e.id],score:e.score}}),n})},e}),define("text!platform/search/res/templates/search-item.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n--> \n\n<div class="search-result-item l-flex-row flex-elem grows"\n     ng-class="{selected: ngModel.selectedObject.getId() === domainObject.getId()}">\n    <mct-representation key="\'label\'"\n                        mct-object="domainObject"\n                        ng-model="ngModel"\n                        ng-click="ngModel.selectedObject = domainObject"\n                        class="l-flex-row flex-elem grows">\n    </mct-representation>\n</div>'}),define("text!platform/search/res/templates/search.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n-->\n<div class="l-flex-col flex-elem grows holder holder-search"  ng-controller="SearchController as controller">\n    <div class="search-bar flex-elem"\n         ng-controller="ClickAwayController as toggle"\n         ng-class="{ holder: !(ngModel.input === \'\' || ngModel.input === undefined) }">\n        <input class="search-input"\n               type="text"\n               ng-model="ngModel.input"\n               ng-keyup="controller.search()"/>\n        <a class="clear-icon"\n           ng-class="{show: !(ngModel.input === \'\' || ngModel.input === undefined)}"\n           ng-click="ngModel.input = \'\'; controller.search()"></a>\n        <a class="menu-icon"\n           ng-click="toggle.toggle()"></a>\n        <mct-include key="\'search-menu\'"\n                     class="menu-element search-menu-holder"\n                     ng-class="{off: !toggle.isActive()}"\n                     ng-model="ngModel"\n                     ng-click="toggle.setState(true)">\n        </mct-include>\n    </div>\n    <div class="active-filter-display flex-elem holder"\n         ng-class="{off: ngModel.filtersString === \'\' || ngModel.filtersString === undefined || !ngModel.search}"\n         ng-controller="SearchMenuController as menuController">\n        <a class="clear-icon clear-filters-icon"\n           ng-click="ngModel.checkAll = true; menuController.checkAll()"></a>Filtered by: {{ ngModel.filtersString }}\n    </div>\n    <div class="search-results flex-elem holder grows vscroll"\n         ng-class="{ off: !(loading || results.length > 0), loading: loading }">\n        <mct-representation key="\'search-item\'"\n                            ng-repeat="result in results"\n                            mct-object="result.object"\n                            ng-model="ngModel"\n                            class="l-flex-row flex-elem grows">\n        </mct-representation>\n        <a class="load-more-button s-btn vsm" ng-if="controller.areMore()" ng-click="controller.loadMore()">More Results</a>\n    </div>\n\n</div>\n';
}),define("text!platform/search/res/templates/search-menu.html",[],function(){return'<!--\n Open MCT Web, Copyright (c) 2014-2015, United States Government\n as represented by the Administrator of the National Aeronautics and Space\n Administration. All rights reserved.\n\n Open MCT Web is licensed under the Apache License, Version 2.0 (the\n "License"); you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0.\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n License for the specific language governing permissions and limitations\n under the License.\n\n Open MCT Web includes source code licensed under additional open source\n licenses. See the Open Source Licenses file (LICENSES.md) included with\n this source code distribution or the Licensing information page available\n at runtime from the About dialog for additional information.\n--> \n\n<div ng-controller="SearchMenuController as controller">\n\n    <div class="menu checkbox-menu">\n\n        <ul>\n            <!-- First element is special - it\'s a reset option -->\n            <li class="search-menu-item special"\n                title="Select all filters"\n                ng-click="ngModel.checkAll = !ngModel.checkAll; controller.checkAll()">\n\n                <label class="checkbox custom no-text">\n                    <input type="checkbox"\n                           class="checkbox"\n                           ng-model="ngModel.checkAll"\n                           ng-change="controller.checkAll()" />\n                    <em></em>\n                </label>\n\n                <span class="ui-symbol icon type-icon">\n                    *\n                </span>\n				All\n            </li>\n\n            <!-- The filter options, by type -->\n            <li class="search-menu-item"\n                ng-repeat="type in ngModel.types"\n                ng-click="ngModel.checked[type.key] = !ngModel.checked[type.key]; controller.updateOptions()">\n\n                <label class="checkbox custom no-text">\n                    <input type="checkbox"\n                           class="checkbox"\n                           ng-model="ngModel.checked[type.key]"\n                           ng-change="controller.updateOptions()" />\n                    <em></em>\n                </label>\n\n                <span class="ui-symbol icon type-icon">\n                    {{ type.glyph }}\n                </span>\n				{{ type.name }}\n            </li>\n        </ul>\n    </div>\n</div>'}),define("platform/search/bundle",["./src/controllers/SearchController","./src/controllers/SearchMenuController","./src/controllers/ClickAwayController","./src/services/GenericSearchProvider","./src/services/SearchAggregator","text!./res/templates/search-item.html","text!./res/templates/search.html","text!./res/templates/search-menu.html","legacyRegistry"],function(e,t,n,i,r,o,s,a,c){"use strict";c.register("platform/search",{name:"Search",description:"Allows the user to search through the file tree.",extensions:{constants:[{key:"GENERIC_SEARCH_ROOTS",value:["ROOT"],priority:"fallback"}],controllers:[{key:"SearchController",implementation:e,depends:["$scope","searchService"]},{key:"SearchMenuController",implementation:t,depends:["$scope","types[]"]},{key:"ClickAwayController",implementation:n,depends:["$scope","$document"]}],representations:[{key:"search-item",template:o}],templates:[{key:"search",template:s},{key:"search-menu",template:a}],components:[{provides:"searchService",type:"provider",implementation:i,depends:["$q","$log","modelService","workerService","topic","GENERIC_SEARCH_ROOTS"]},{provides:"searchService",type:"aggregator",implementation:r,depends:["$q","objectService"]}],workers:[{key:"genericSearchWorker",scriptUrl:"services/GenericSearchWorker.js"}]}})}),define("platform/status/src/StatusConstants",{CSS_CLASS_PREFIX:"s-status-",TOPIC_PREFIX:"status:"}),define("platform/status/src/StatusRepresenter",["./StatusConstants"],function(e){"use strict";function t(e,t){this.element=t,this.lastClasses=[]}var n=e.CSS_CLASS_PREFIX;return t.prototype.clearClasses=function(){var e=this.element;this.lastClasses.forEach(function(t){e.removeClass(t)})},t.prototype.represent=function(e,t){function i(e){var t=e.map(function(e){return n+e});r.clearClasses(),t.forEach(function(e){r.element.addClass(e)}),r.lastClasses=t}var r=this,o=t.getCapability("status");i(o.list()),this.unlisten=o.listen(i)},t.prototype.destroy=function(){this.clearClasses(),this.unlisten&&(this.unlisten(),this.unlisten=void 0)},t}),define("platform/status/src/StatusCapability",[],function(){"use strict";function e(e,t){this.statusService=e,this.domainObject=t}return e.prototype.list=function(){return this.statusService.listStatuses(this.domainObject.getId())},e.prototype.get=function(e){return-1!==this.list().indexOf(e)},e.prototype.set=function(e,t){return this.statusService.setStatus(this.domainObject.getId(),e,t)},e.prototype.listen=function(e){return this.statusService.listen(this.domainObject.getId(),e)},e}),define("platform/status/src/StatusService",["./StatusConstants"],function(e){"use strict";function t(e){this.statusTable={},this.topic=e}var n=e.TOPIC_PREFIX;return t.prototype.listStatuses=function(e){return this.statusTable[e]||[]},t.prototype.setStatus=function(e,t,i){this.statusTable[e]=this.statusTable[e]||[],this.statusTable[e]=this.statusTable[e].filter(function(e){return e!==t}),i&&this.statusTable[e].push(t),this.topic(n+e).notify(this.statusTable[e])},t.prototype.listen=function(e,t){return this.topic(n+e).listen(t)},t}),define("platform/status/bundle",["./src/StatusRepresenter","./src/StatusCapability","./src/StatusService","legacyRegistry"],function(e,t,n,i){"use strict";i.register("platform/status",{extensions:{representers:[{implementation:e}],capabilities:[{key:"status",implementation:t,depends:["statusService"]}],services:[{key:"statusService",implementation:n,depends:["topic"]}]}})}),define("platform/commonUI/regions/src/InspectorController",["../../browse/src/InspectorRegion"],function(e){"use strict";function t(t,n){function i(e){return e.regions&&e.regions.filter(function(e){return n.allow("region",e,r)})}var r=t.domainObject,o=r.getCapability("type");t.regions=i(o.getDefinition().inspector||new e)}return t}),define("platform/commonUI/regions/src/EditableRegionPolicy",[],function(){"use strict";function e(){}return e.prototype.allow=function(e,t){return e.modes?t.getCapability("status").get("editing")?-1!==e.modes.indexOf("edit"):-1!==e.modes.indexOf("browse"):!0},e}),define("platform/commonUI/regions/bundle",["./src/InspectorController","./src/EditableRegionPolicy","legacyRegistry"],function(e,t,n){"use strict";n.register("platform/commonUI/regions",{extensions:{controllers:[{key:"InspectorController",implementation:e,depends:["$scope","policyService"]}],policies:[{category:"region",implementation:t}]}})}),requirejs.config({paths:{legacyRegistry:"src/legacyRegistry",angular:"bower_components/angular/angular.min","angular-route":"bower_components/angular-route/angular-route.min",csv:"bower_components/comma-separated-values/csv.min","es6-promise":"bower_components/es6-promise/es6-promise.min",moment:"bower_components/moment/moment","moment-duration-format":"bower_components/moment-duration-format/lib/moment-duration-format",saveAs:"bower_components/FileSaver.js/FileSaver.min",screenfull:"bower_components/screenfull/dist/screenfull.min",text:"bower_components/text/text",uuid:"bower_components/node-uuid/uuid",zepto:"bower_components/zepto/zepto.min"},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},"moment-duration-format":{deps:["moment"]},screenfull:{exports:"screenfull"},zepto:{exports:"Zepto"}}}),define("main",["./platform/framework/src/Main","legacyRegistry","./platform/framework/bundle","./platform/core/bundle","./platform/representation/bundle","./platform/commonUI/about/bundle","./platform/commonUI/browse/bundle","./platform/commonUI/edit/bundle","./platform/commonUI/dialog/bundle","./platform/commonUI/formats/bundle","./platform/commonUI/general/bundle","./platform/commonUI/inspect/bundle","./platform/commonUI/mobile/bundle","./platform/commonUI/themes/espresso/bundle","./platform/commonUI/notification/bundle","./platform/containment/bundle","./platform/execution/bundle","./platform/exporters/bundle","./platform/telemetry/bundle","./platform/features/clock/bundle","./platform/features/imagery/bundle","./platform/features/layout/bundle","./platform/features/pages/bundle","./platform/features/plot/bundle","./platform/features/timeline/bundle","./platform/features/table/bundle","./platform/features/conductor/bundle","./platform/forms/bundle","./platform/identity/bundle","./platform/persistence/aggregator/bundle","./platform/persistence/local/bundle","./platform/persistence/queue/bundle","./platform/policy/bundle","./platform/entanglement/bundle","./platform/search/bundle","./platform/status/bundle","./platform/commonUI/regions/bundle"],function(e,t){return{legacyRegistry:t,run:function(){return(new e).run(t)}}});
//# sourceMappingURL=main.build.js.map
//# sourceMappingURL=main.js.map
